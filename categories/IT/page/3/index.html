<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.9.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>Category: IT - Learning</title>


    <meta name="description" content="private learning">
<meta property="og:type" content="website">
<meta property="og:title" content="Learning">
<meta property="og:url" content="http://yoursite.com/categories/IT/page/3/index.html">
<meta property="og:site_name" content="Learning">
<meta property="og:description" content="private learning">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/images/og_image.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Learning">
<meta name="twitter:description" content="private learning">
<meta name="twitter:image" content="http://yoursite.com/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="Learning" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Categories</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    <div class="card-content">
        <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/categories">Categories</a></li>
            
            <li class="is-active"><a href="#" aria-current="page">IT</a></li>
        </ul>
        </nav>
    </div>
</div>

    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-24T10:08:59.000Z">2019-10-24</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 分钟 read (About 418 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/24/idea2019.2破解/">破解idea 2019.2</a>
            
        </h1>
        <div class="content">
            <p>idea.vmoptions文件加上</p>
<p><code>-javaagent:jetbrains-agent.jar</code></p>
<p>激活码</p>
<figure class="highlight smali hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MERYY2SM09-eyJsaWNlbnNlSWQiOiJNRVJZWTJTTTA5IiwibGljZW5zZWVOYW1lIjoiRnFHdW1wIiwiYXNzaWduZWVOYW1lIjoiIiwiYXNzaWduZWVFbWFpbCI6IiIsImxpY2Vuc2VSZXN0cmljdGlvbiI6IiIsImNoZWNrQ29uY3VycmVudFVzZSI6ZmFsc2UsInByb2R1Y3RzIjpbeyJjb2RlIjoiSUkiLCJmYWxsYmFja0RhdGUiOiIyMDg5LTA3LTA3IiwicGFpZFVwVG8iOiIyMDg5LTA3LTA3In0seyJjb2RlIjoiQUMiLCJmYWxsYmFja0RhdGUiOiIyMDg5LTA3LTA3IiwicGFpZFVwVG8iOiIyMDg5LTA3LTA3In0seyJjb2RlIjoiRFBOIiwiZmFsbGJhY2tEYXRlIjoiMjA4OS0wNy0wNyIsInBhaWRVcFRvIjoiMjA4OS0wNy0wNyJ9LHsiY29kZSI6IlBTIiwiZmFsbGJhY2tEYXRlIjoiMjA4OS0wNy0wNyIsInBhaWRVcFRvIjoiMjA4OS0wNy0wNyJ9LHsiY29kZSI6IkdPIiwiZmFsbGJhY2tEYXRlIjoiMjA4OS0wNy0wNyIsInBhaWRVcFRvIjoiMjA4OS0wNy0wNyJ9LHsiY29kZSI6IkRNIiwiZmFsbGJhY2tEYXRlIjoiMjA4OS0wNy0wNyIsInBhaWRVcFRvIjoiMjA4OS0wNy0wNyJ9LHsiY29kZSI6IkNMIiwiZmFsbGJhY2tEYXRlIjoiMjA4OS0wNy0wNyIsInBhaWRVcFRvIjoiMjA4OS0wNy0wNyJ9LHsiY29kZSI6IlJTMCIsImZhbGxiYWNrRGF0ZSI6IjIwODktMDctMDciLCJwYWlkVXBUbyI6IjIwODktMDctMDcifSx7ImNvZGUiOiJSQyIsImZhbGxiYWNrRGF0ZSI6IjIwODktMDctMDciLCJwYWlkVXBUbyI6IjIwODktMDctMDcifSx7ImNvZGUiOiJSRCIsImZhbGxiYWNrRGF0ZSI6IjIwODktMDctMDciLCJwYWlkVXBUbyI6IjIwODktMDctMDcifSx7ImNvZGUiOiJQQyIsImZhbGxiYWNrRGF0ZSI6IjIwODktMDctMDciLCJwYWlkVXBUbyI6IjIwODktMDctMDcifSx7ImNvZGUiOiJSTSIsImZhbGxiYWNrRGF0ZSI6IjIwODktMDctMDciLCJwYWlkVXBUbyI6IjIwODktMDctMDcifSx7ImNvZGUiOiJXUyIsImZhbGxiYWNrRGF0ZSI6IjIwODktMDctMDciLCJwYWlkVXBUbyI6IjIwODktMDctMDcifSx7ImNvZGUiOiJEQiIsImZhbGxiYWNrRGF0ZSI6IjIwODktMDctMDciLCJwYWlkVXBUbyI6IjIwODktMDctMDcifSx7ImNvZGUiOiJEQyIsImZhbGxiYWNrRGF0ZSI6IjIwODktMDctMDciLCJwYWlkVXBUbyI6IjIwODktMDctMDcifSx7ImNvZGUiOiJSU1UiLCJmYWxsYmFja0RhdGUiOiIyMDg5LTA3LTA3IiwicGFpZFVwVG8iOiIyMDg5LTA3LTA3In1dLCJoYXNoIjoiMTI3OTY4NzcvMCIsImdyYWNlUGVyaW9kRGF5cyI6NywiYXV0b1Byb2xvbmdhdGVkIjpmYWxzZSwiaXNBdXRvUHJvbG9uZ2F0ZWQiOmZhbHNlfQ==-i6ySGpwlyxeDfJjDUa3I4a6G1iWhhvXKP4eP9sw3wGDGKoAnz+VNTwxTHe4T0ioaibUU2ts++TewhtmV1/MXkdo0E2yiAo4rQZAp38KKGFfF9qXpOj5+3ylubo2FXmSmmm++bomgbT4RHEHQg+Oi++dJrhlzoTDg3ZMNNvDP9lC6LvwCrKxmiRbL34wOa+NjnUO8JLX3SCl0+PZA/TNp4Jl/F1G4yE6njPSUUjsNbNGiMI/T0JyJ4nYEdmPS34BRk/TzgxuNSWfARt3eBTj807f8RyLtfAFlO04RoVsbRfgX6QAjgS3URiWf/u80t5fip5GHmrgpqB5F2liMLrfnfg==-MIIElTCCAn2gAwIBAgIBCTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTE4MTEwMTEyMjk0NloXDTIwMTEwMjEyMjk0NlowaDELMAkGA1UEBhMCQ1oxDjAMBgNVBAgMBU51c2xlMQ8wDQYDVQQHDAZQcmFndWUxGTAXBgNVBAoMEEpldEJyYWlucyBzLnIuby4xHTAbBgNVBAMMFHByb2QzeS1mcm9tLTIwMTgxMTAxMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5ndaik1GD0nyTdqkZgURQZGW+RGxCdBITPXIwpjhhaD0SXGa4XSZBEBoiPdY6XV6pOfUJeyfi9dXsY4MmT0D+sKoST3rSw96xaf9FXPvOjn4prMTdj3Ji3CyQrGWeQU2nzYqFrp1QYNLAbaViHRKuJrYHI6GCvqCbJe0LQ8qqUiVMA9wG/PQwScpNmTF9Kp2Iej+Z5OUxF33zzm+vg/nYV31HLF7fJUAplI/1nM+ZG8K+AXWgYKChtknl3sW9PCQa3a3imPL9GVToUNxc0wcuTil8mqveWcSQCHYxsIaUajWLpFzoO2AhK4mfYBSStAqEjoXRTuj17mo8Q6M2SHOcwIDAQABo4GZMIGWMAkGA1UdEwQCMAAwHQYDVR0OBBYEFGEpG9oZGcfLMGNBkY7SgHiMGgTcMEgGA1UdIwRBMD+AFKOetkhnQhI2Qb1t4Lm0oFKLl/GzoRykGjAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBggkA0myxg7KDeeEwEwYDVR0lBAwwCgYIKwYBBQUHAwEwCwYDVR0PBAQDAgWgMA0GCSqGSIb3DQEBCwUAA4ICAQBonMu8oa3vmNAa4RQP8gPGlX3SQaA3WCRUAj6Zrlk8AesKV1YSkh5D2l+yUk6njysgzfr1bIR5xF8eup5xXc4/G7NtVYRSMvrd6rfQcHOyK5UFJLm+8utmyMIDrZOzLQuTsT8NxFpbCVCfV5wNRu4rChrCuArYVGaKbmp9ymkw1PU6+HoO5i2wU3ikTmRv8IRjrlSStyNzXpnPTwt7bja19ousk56r40SmlmC04GdDHErr0ei2UbjUua5kw71Qn9g02tL9fERI2sSRjQrvPbn9INwRWl5+k05mlKekbtbu2ev2woJFZK4WEXAd/GaAdeZZdumv8T2idDFL7cAirJwcrbfpawPeXr52oKTPnXfi0l5+g9Gnt/wfiXCrPElX6ycTR6iL3GC2VR4jTz6YatT4Ntz59/THOT7NJQhr6AyLkhhJCdkzE2cob/KouVp4ivV7Q3Fc6HX7eepHAAF/DpxwgOrg9smX6coXLgfp0b1RU2u/tUNID04rpNxTMueTtrT8WSskqvaJd3RH8r7cnRj6Y2hltkja82HlpDURDxDTRvv+krbwMr26SB/40BjpMUrDRCeKuiBahC0DCoU/4+ze1l94wVUhdkCfL0GpJrMSCDEK+XEurU18Hb7WT+ThXbkdl6VpFdHsRvqAnhR2g4b+Qzgidmuky5NUZVfEaZqV/g==</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-24T10:08:59.000Z">2019-10-24</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 分钟 read (About 841 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/24/java注释/">Java 文件注释</a>
            
        </h1>
        <div class="content">
            <p>Java 语言支持三种注释形式：</p>
<table>
<thead>
<tr>
<th align="left">注释</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">/<em>text</em>/</td>
<td align="left">编译器忽略 / 到 / 的所有东西</td>
</tr>
<tr>
<td align="left">//text</td>
<td align="left">编译器忽略从 // 到一行末尾的所有东西｜</td>
</tr>
<tr>
<td align="left"><code>/** documentation */</code></td>
<td align="left">这是文档注释并且通常而言它被叫做 doc comment。JDK javadoc 工具当准备自动准备生成文件时使用 doc comment</td>
</tr>
</tbody></table>
<p>这个指导是关于解释 Javadoc 的。我们将看到我们怎样能利用 Javadoc 来为我们的 Java 代码生成有用的文件。</p>
<p>什么是 Javadoc？<br>Javadoc 是 JDK 附带的一个工具，它被用来生成从需要预定义格式的文档的 Java 源代码至 HTML 格式的 Java 代码文件。</p>
<p>以下是一个简单的例子，其中红色部分代表 Java 注释：</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"><span class="hljs-markdown">/**</span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown"><span class="hljs-bullet">* </span>The HelloWorld program implements </span>an<span class="hljs-markdown"> application that</span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown"><span class="hljs-bullet">* </span></span>simply<span class="hljs-markdown"> displays "Hello World!" to </span>the<span class="hljs-markdown"> standard output.</span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown">*</span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown"><span class="hljs-bullet">* </span>@author  Zara Ali</span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown"><span class="hljs-bullet">* </span>@version 1.0</span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown"><span class="hljs-bullet">* </span>@since   2014-03-31 </span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown">*/</span></span></span><br><span class="line">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloWorld</span> </span>&#123;</span><br><span class="line">    public <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(<span class="hljs-built_in">String</span>[] args) &#123;</span><br><span class="line">        <span class="hljs-comment">// Prints Hello, World! on standard output.</span></span><br><span class="line">        System.out.println(<span class="hljs-string">"Hello World!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>你可以将需要的 HTML 标签包括在描述部分内，比如，下面的例子利用 &lt;h1&gt;…&lt;/h1&gt; 来定义头部和 &lt;p&gt; 被用来创建段落间隔：</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"><span class="hljs-markdown">/**</span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown"><span class="hljs-bullet">* </span><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span></span>Hello, World!<span class="hljs-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown"><span class="hljs-bullet">* </span>The HelloWorld program implements </span>an<span class="hljs-markdown"> application that</span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown"><span class="hljs-bullet">* </span></span>simply<span class="hljs-markdown"> displays "Hello World!" to </span>the<span class="hljs-markdown"> standard output.</span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown"><span class="hljs-bullet">* </span><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span></span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown"><span class="hljs-bullet">* </span>Giving proper comments in </span>your<span class="hljs-markdown"> program makes it </span>more<span class="hljs-markdown"></span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown"><span class="hljs-bullet">* </span>user friendly and it is assumed as </span>a<span class="hljs-markdown"> high quality code.</span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown"><span class="hljs-bullet">* </span></span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown">*</span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown"><span class="hljs-bullet">* </span>@author  Zara Ali</span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown"><span class="hljs-bullet">* </span>@version 1.0</span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown"><span class="hljs-bullet">* </span>@since   2014-03-31 </span></span></span><br><span class="line"><span class="hljs-comment"><span class="hljs-markdown">*/</span></span></span><br><span class="line">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloWorld</span> </span>&#123;</span><br><span class="line">    public <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(<span class="hljs-built_in">String</span>[] args) &#123;</span><br><span class="line">        <span class="hljs-comment">// Prints Hello, World! on standard output.</span></span><br><span class="line">        System.out.println(<span class="hljs-string">"Hello World!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Javadoc 标签<br>Javadoc 标签是 Javadoc 认可的关键字，它定义了下面信息的类型。</p>
<p>Javadoc 工具认可下面的标签：</p>
<table>
<thead>
<tr>
<th align="left">标签</th>
<th align="left">描述</th>
<th align="left">语法</th>
</tr>
</thead>
<tbody><tr>
<td align="left">@author</td>
<td align="left">添加类的作者</td>
<td align="left">@author name-text</td>
</tr>
<tr>
<td align="left">{@code}</td>
<td align="left">不把文本转换成 HTML 标记和嵌套的 Java 标签而用代码字体展示它</td>
<td align="left">{@code text}</td>
</tr>
<tr>
<td align="left">{@docRoot}</td>
<td align="left">表示从任何生成页面到生成文档的根目录的相对路径</td>
<td align="left">{@docRoot}</td>
</tr>
<tr>
<td align="left">@deprecated</td>
<td align="left">添加一个注释暗示 API 应该不再被使用</td>
<td align="left">@deprecated</td>
</tr>
<tr>
<td align="left">@exception</td>
<td align="left">用类名和描述文本给生成的文档添加一个副标题</td>
<td align="left">@exception class-name description</td>
</tr>
<tr>
<td align="left">{@inheritDoc}</td>
<td align="left">从最近的可继承的类或可实现的接口继承注释</td>
<td align="left">Inherits a comment from the immediate surperclass.</td>
</tr>
<tr>
<td align="left">{@link}</td>
<td align="left">用指向特定的包，类或者一个引用类的成员名的文档的可见文本标签插入在线链接</td>
<td align="left">{@link package.class#member label}</td>
</tr>
<tr>
<td align="left">{@linkplain}</td>
<td align="left">和{@link}相同，除了链接的标签用纯文本标示而不是代码字体</td>
<td align="left">{@linkplain package.class#member label}</td>
</tr>
<tr>
<td align="left">@param</td>
<td align="left">给“参数”区域添加一个有特定参数名且后跟着特定描述的参数</td>
<td align="left">@param parameter-name description</td>
</tr>
<tr>
<td align="left">@return</td>
<td align="left">添加一个有描述文本的“Returns”区域</td>
<td align="left">@return description</td>
</tr>
<tr>
<td align="left">@see</td>
<td align="left">添加带有链接或者指向引用的文本入口的标题“See Also”</td>
<td align="left">@see reference</td>
</tr>
<tr>
<td align="left">@serial</td>
<td align="left">在默认的序列化字段的文本注释中使用</td>
<td align="left">@serial</td>
</tr>
<tr>
<td align="left">@serialData</td>
<td align="left">记录由 writeObject( ) 或 writeExternal( )方法所写的数据</td>
<td align="left">@serialData data-description</td>
</tr>
<tr>
<td align="left">@serialField</td>
<td align="left">记录一个 ObjectStreamField 成分</td>
<td align="left">@serialField field-name field-type field-description</td>
</tr>
<tr>
<td align="left">@since</td>
<td align="left">给生成的文档添加一个带有特定 since 文本的”Since”标题</td>
<td align="left">@since release</td>
</tr>
<tr>
<td align="left">@throws</td>
<td align="left">@throw 和 @exception 标签是同义词</td>
<td align="left">@throws class-name description</td>
</tr>
<tr>
<td align="left">{@value}</td>
<td align="left">当{@value}被用在一个静态字段的文本注释中，它展示了那个常量的值</td>
<td align="left">{@value package.class#field}</td>
</tr>
<tr>
<td align="left">@version</td>
<td align="left">当 -version 选项被使用时用特定的 version w文本给生成的文本添加一个“Version”副标题</td>
<td align="left">@version version-text</td>
</tr>
</tbody></table>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-24T10:08:59.000Z">2019-10-24</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    几秒 read (About 68 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/24/java获取本机ip/">java获取本机ip</a>
            
        </h1>
        <div class="content">
            <p>获取localhost不一定对</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">private String  localHost() &#123;</span><br><span class="line">       String<span class="hljs-built_in"> ip </span>= <span class="hljs-string">""</span>;</span><br><span class="line">       try &#123;</span><br><span class="line">           Enumeration&lt;NetworkInterface&gt; networkInterfaces = NetworkInterface.getNetworkInterfaces();</span><br><span class="line">           <span class="hljs-keyword">while</span> (networkInterfaces.hasMoreElements()) &#123;</span><br><span class="line">               NetworkInterface ni = networkInterfaces.nextElement();</span><br><span class="line">               Enumeration&lt;InetAddress&gt; nias = ni.getInetAddresses();</span><br><span class="line">               <span class="hljs-keyword">while</span> (nias.hasMoreElements()) &#123;</span><br><span class="line">                   InetAddress ia = nias.nextElement();</span><br><span class="line">                   <span class="hljs-keyword">if</span> (!ia.isLinkLocalAddress() &amp;&amp; !ia.isLoopbackAddress() &amp;&amp; ia instanceof Inet4Address) &#123;</span><br><span class="line">                      <span class="hljs-built_in"> ip </span>=ia.toString().split(<span class="hljs-string">"/"</span>)[1];</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125; catch (SocketException e) &#123;</span><br><span class="line">           LOGGER.<span class="hljs-builtin-name">error</span>(<span class="hljs-string">"控制器ip地址获取UnknownHostException异常："</span>, e);</span><br><span class="line">       &#125;</span><br><span class="line">       return ip;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-24T10:08:59.000Z">2019-10-24</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    几秒 read (About 106 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/24/python读数据库/">python读取数据库</a>
            
        </h1>
        <div class="content">
            <figure class="highlight vim hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># -*- codin<span class="hljs-variable">g:</span> UTF-<span class="hljs-number">8</span> -*-</span><br><span class="line">import MySQLdb</span><br><span class="line"></span><br><span class="line"># 打开数据库连接</span><br><span class="line">db = MySQLdb.connect(host=<span class="hljs-string">"localhost"</span>, user=<span class="hljs-string">"root"</span>, passwd=<span class="hljs-string">"123456"</span>, db=<span class="hljs-string">"study"</span>, charset=<span class="hljs-string">'utf8'</span> )</span><br><span class="line"></span><br><span class="line"># 使用<span class="hljs-built_in">cursor</span>()方法获取操作游标 </span><br><span class="line"><span class="hljs-built_in">cursor</span> = db.<span class="hljs-built_in">cursor</span>()</span><br><span class="line"></span><br><span class="line"># SQL 查询语句</span><br><span class="line">sql = <span class="hljs-string">"SELECT * FROM student"</span></span><br><span class="line"><span class="hljs-keyword">try</span>:</span><br><span class="line">   # 执行SQL语句</span><br><span class="line">   <span class="hljs-built_in">cursor</span>.<span class="hljs-keyword">execute</span>(sql)</span><br><span class="line">   # 获取所有记录列表</span><br><span class="line">   results = <span class="hljs-built_in">cursor</span>.fetchall()</span><br><span class="line">   <span class="hljs-keyword">print</span> (<span class="hljs-string">"学号 姓名 年龄"</span>)</span><br><span class="line">   <span class="hljs-keyword">for</span> it in result<span class="hljs-variable">s:</span></span><br><span class="line">	   <span class="hljs-keyword">for</span> i in <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(it)):</span><br><span class="line">		   <span class="hljs-keyword">print</span> it[i],</span><br><span class="line">	   <span class="hljs-keyword">print</span> (<span class="hljs-string">'\n'</span>)</span><br><span class="line">excep<span class="hljs-variable">t:</span></span><br><span class="line">   <span class="hljs-keyword">print</span> <span class="hljs-string">"Error: unable to fecth data"</span></span><br><span class="line"></span><br><span class="line"># 关闭数据库连接</span><br><span class="line"><span class="hljs-built_in">cursor</span>.<span class="hljs-keyword">close</span>()</span><br><span class="line">db.<span class="hljs-keyword">close</span>()</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-24T10:08:59.000Z">2019-10-24</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 分钟 read (About 848 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/24/springcloudstream-rabbitmq/">springcloudstream-rabbitmq</a>
            
        </h1>
        <div class="content">
            <p>[TOCM]</p>
<p>[TOC]</p>
<h2 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h2><figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-stream-rabbit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>同样，创建使用者项目，但只能创建spring-cloud-starter-stream-rabbit依赖项。</p>
<h3 id="1-建立生产者"><a href="#1-建立生产者" class="headerlink" title="1.建立生产者"></a>1.建立生产者</h3><p>如前所述，消息从发布者传递到交换并传递到队列的整个过程是通过通道完成的。因此，让我们创建一个HelloBinding包含我们MessageChannel称为“ greetingChannel” 的接口：</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">HelloBinding</span> </span>&#123;</span><br><span class="line">    <span class="hljs-meta">@Output</span>(<span class="hljs-string">"greetingChannel"</span>)</span><br><span class="line">    <span class="hljs-function">MessageChannel <span class="hljs-title">greeting</span><span class="hljs-params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于这将发布消息，因此我们使用了@Output注释。方法名称可以是我们想要的任何名称，当然，在一个接口中可以有多个通道。</p>
<p>现在，让我们创建一个REST端点，将消息推送到此通道：</p>
<figure class="highlight typescript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@RestController</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> ProducerController &#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> MessageChannel greet;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> ProducerController(HelloBinding binding) &#123;</span><br><span class="line">        greet = binding.greeting();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@GetMapping</span>(<span class="hljs-string">"/greet/&#123;name&#125;"</span>)</span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> publish(<span class="hljs-meta">@PathVariable</span> <span class="hljs-built_in">String</span> name) &#123;</span><br><span class="line">        <span class="hljs-built_in">String</span> greeting = <span class="hljs-string">"Hello, "</span> + name + <span class="hljs-string">"!"</span>;</span><br><span class="line">        Message&lt;<span class="hljs-built_in">String</span>&gt; msg = MessageBuilder.withPayload(greeting)</span><br><span class="line">            .build();</span><br><span class="line">        <span class="hljs-keyword">this</span>.greet.send(msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面，我们创建了一个ProducerController具有greet 属性的类MessageChannel。这是通过我们之前声明的方法在构造函数中初始化的。</p>
<p>注意：我们也可以以紧凑的方式进行相同的操作，但是我们使用不同的名称来使您更清楚地了解事物之间的联系。</p>
<p>然后我们有一个简单的REST的映射，一个需要从PathVariable 获取name，并创建一个Message类型的String使用MessageBuilder。最后，我们使用.send()方法通过MessageChannel来发布消息。</p>
<p>现在，我们必须向Spring讲述我们的HelloBinding，我们将在我们的主类中使用@EnableBinding注释：</p>
<figure class="highlight less hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-variable">@EnableBinding</span>(HelloBinding.class)</span><br><span class="line"><span class="hljs-variable">@SpringBootApplication</span></span><br><span class="line">public class Application &#123;</span><br><span class="line">    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">static</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">main</span>(String[] args) &#123;</span><br><span class="line">        <span class="hljs-selector-tag">SpringApplication</span><span class="hljs-selector-class">.run</span>(Application.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h4><p>最后，我们必须告诉Spring如何连接RabbitMQ（通过前面的“ AMQP URL”），并找到一种方法将“ greetingChannel”连接到可能的使用者。</p>
<p>这两个都在application.properties内定义：</p>
<figure class="highlight stylus hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">spring<span class="hljs-selector-class">.rabbitmq</span><span class="hljs-selector-class">.addresses</span>=&lt;amqp url&gt;</span><br><span class="line"></span><br><span class="line">spring<span class="hljs-selector-class">.cloud</span><span class="hljs-selector-class">.stream</span><span class="hljs-selector-class">.bindings</span><span class="hljs-selector-class">.greetingChannel</span><span class="hljs-selector-class">.destination</span> = greetings</span><br><span class="line"></span><br><span class="line">server.port=<span class="hljs-number">8080</span></span><br></pre></td></tr></table></figure>

<h3 id="2-建立消费者"><a href="#2-建立消费者" class="headerlink" title="2.建立消费者"></a>2.建立消费者</h3><p>现在，我们需要收听先前创建的频道，即“ greetingChannel”。让我们为其创建一个绑定：</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public<span class="hljs-built_in"> interface </span>HelloBinding &#123;</span><br><span class="line">String GREETING = <span class="hljs-string">"greetingChannel"</span>;</span><br><span class="line">    @Input(GREETING)</span><br><span class="line">    SubscribableChannel greeting();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>与生产者绑定的两个区别应该很明显。由于我们正在使用消息，因此我们使用SubscribableChannel和@Input注释连接到将推送数据的“ greetingChannel”。</p>
<p>现在，让我们创建在其中将实际处理数据的方法：</p>
<figure class="highlight css hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@<span class="hljs-keyword">EnableBinding</span>(<span class="hljs-keyword">HelloBinding</span>.<span class="hljs-keyword">class</span>)</span><br><span class="line"><span class="hljs-keyword">public</span> class HelloListener &#123;</span><br><span class="line">    @<span class="hljs-keyword">StreamListener</span>(<span class="hljs-keyword">target</span> = HelloBinding.GREETING)</span><br><span class="line">    public void processHelloChannelGreeting(String msg) &#123;</span><br><span class="line">        <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(<span class="hljs-selector-tag">msg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这里，我们创建了一个类HelloListener，该类的方法带有@StreamListener以表示的“ greetingChannel”。此方法需要a String作为参数，我们刚刚在控制台中登录了该参数。我们还在班级顶部HelloBinding使用启用了此处@EnableBinding。</p>
<p>再一次，我们使用了在这儿使用了@EnableBinding 而不是主main类中，目的是告诉您，如何组织名称，声明等取决于您或您的团队，这取决于您。</p>
<p>让我们也看看我们的主类，我们没有改变：</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@SpringBootApplication</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Application</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(String[] args) &#123;</span><br><span class="line">        SpringApplication.run(Application.<span class="hljs-keyword">class</span>, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在application.properties我们需要定义我们做了生产者同样的事情，不同的是，这将在不同端口上运行：</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-24T10:08:59.000Z">2019-10-24</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    9 分钟 read (About 1373 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/24/stream mq/">springcloud stream mq</a>
            
        </h1>
        <div class="content">
            <p>安装RabbitMQ<br>window下安装:<br>(1)：下载erlang，原因在于RabbitMQ服务端代码是使用并发式语言erlang编写的，下载地址：<a href="http://www.erlang.org/downloads，双击.exe文件进行安装就好，安装完成之后创建一个名为ERLANG_HOME的环境变量，其值指向erlang的安装目录，同时将%ERLANG_HOME%\bin加入到Path中，最后打开命令行，输入erl，如果出现erlang的版本信息就表示erlang语言环境安装成功；" target="_blank" rel="noopener">http://www.erlang.org/downloads，双击.exe文件进行安装就好，安装完成之后创建一个名为ERLANG_HOME的环境变量，其值指向erlang的安装目录，同时将%ERLANG_HOME%\bin加入到Path中，最后打开命令行，输入erl，如果出现erlang的版本信息就表示erlang语言环境安装成功；</a></p>
<p><img src="/images/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F.png" alt="环境变量" title="环境变量"><br><img src="/images/cmd1.png" alt="cmd1" title="cmd1"></p>
<p>(2)：下载RabbitMQ，下载地址：<a href="http://www.rabbitmq.com/，同样双击.exe进行安装就好。然后下载RabbitMQ" target="_blank" rel="noopener">http://www.rabbitmq.com/，同样双击.exe进行安装就好。然后下载RabbitMQ</a> 管理插件，可以更好的可视化方式查看Rabbit MQ 服务器实例的状态。<br>1.使用管理员打开命令窗口，进入安装目录sbin：<br>输入命令：rabbitmq-plugins.bat enable rabbitmq_management</p>
<p>2.安装成功后，重启服务器</p>
<p>输入命令：net stop RabbitMQ &amp;&amp; net start RabbitMQ</p>
<p><img src="/images/cmd2.png" alt="cmd2" title="cmd2"></p>
<p>3.用户及权限管理</p>
<p>使用rabbitmqctl控制台命令来创建用户，密码，绑定权限等。</p>
<p>查看已有用户及用户的角色：rabbitmqctl.bat list_users  默认会存在一个来宾账号 guest</p>
<p>新增一个用户：rabbitmqctl.bat add_user username password</p>
<p><img src="/images/cmd3.png" alt="cmd3" title="cmd3"></p>
<p>新增成功后，可以看见新增的角色为[]，guest的角色是administor。</p>
<p>rabbitmq用户角色可分为五类：超级管理员, 监控者, 策略制定者, 普通管理者以及其他</p>
<p>(1) 超级管理员(administrator)<br>可登陆管理控制台(启用management plugin的情况下)，可查看所有的信息，并且可以对用户，策略(policy)进行操作。<br>(2) 监控者(monitoring)<br>可登陆管理控制台(启用management plugin的情况下)，同时可以查看rabbitmq节点的相关信息(进程数，内存使用情况，磁盘使用情况等)<br>(3) 策略制定者(policymaker)<br>可登陆管理控制台(启用management plugin的情况下), 同时可以对policy进行管理。<br>(4) 普通管理者(management)<br>仅可登陆管理控制台(启用management plugin的情况下)，无法看到节点信息，也无法对策略进行管理。<br>(5) 其他的<br>无法登陆管理控制台，通常就是普通的生产者和消费者</p>
<p>下面给新增的用户来增加administrator角色</p>
<p>rabbitmqctl.bat set_user_tags username administrator</p>
<p><img src="/images/cmd4.png" alt="cmd4" title="cmd4"></p>
<p>4.消息队列的管理</p>
<p>使用浏览器打开 <a href="http://localhost:15672" target="_blank" rel="noopener">http://localhost:15672</a> 访问Rabbit Mq的管理控制台，使用刚才创建的账号登陆系统：</p>
<p><img src="/images/cmd5.png" alt="cmd5" title="cmd5"></p>
<p>RibbitMQ的具体运用<br>结构原理：</p>
<p><img src="/images/cmd6.png" alt="cmd6" title="cmd6"></p>
<p>spring cloud stream<br>Spring Cloud Stream 是一个构建消息驱动微服务的框架.</p>
<p><img src="/images/stream.png" alt="stream" title="stream"></p>
<p>应用程序通过 inputs 或者 outputs 来与 Spring Cloud Stream 中binder 交互，通过我们配置来 binding ，而 Spring Cloud Stream 的 binder 负责与中间件交互。</p>
<p>Binder 是 Spring Cloud Stream 的一个抽象概念，是应用与消息中间件之间的粘合剂。</p>
<p>通过 binder ，可以很方便的连接中间件，可以动态的改变消息的destinations（对应于 Kafka 的topic，Rabbit MQ 的 exchanges）</p>
<p>，这些都可以通过外部配置项来做到。</p>
<p> 新建一个stream项目，主要有3部分，消息产生者类(provider)，消息消费者类(receive)，stream input/output通道定义类(source)</p>
<p> 由于是微服务框架，这里我把stream的有关定义都放到了这个项目集中定义，其他用到stream的项目直接引入这个项目的jar包就可以使用其中的类：</p>
<p><img src="/images/class.png" alt="class" title="class"></p>
<p>消息提供者配置：</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">MessageProviderSource</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// exchange名称</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String EXCHANGE_OUT = <span class="hljs-string">"exporttv_exchange_out"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="hljs-comment">// 绑定exchange</span></span><br><span class="line">    <span class="hljs-meta">@Output</span>(MessageProviderSource.EXCHANGE_OUT)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> MessageChannel <span class="hljs-title">messageOutput</span><span class="hljs-params">()</span></span>;</span><br><span class="line"> </span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@EnableBinding</span>(MessageProviderSource.class)</span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MessageProvider</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> MessageProviderSource messageSource;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sendApplicationLoadMessage</span><span class="hljs-params">(HashMap&lt;String, Integer&gt; map)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-comment">// 创建并发送消息</span></span><br><span class="line">    messageSource.messageOutput().send(message(map));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> &lt;T&gt; <span class="hljs-function">Message&lt;T&gt; <span class="hljs-title">message</span><span class="hljs-params">(T val)</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">return</span> MessageBuilder.withPayload(val).build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>消息消费者配置：</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">MessageReceiveSource</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">// exchange名称</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String EXCHANGE_IN = <span class="hljs-string">"exporttv_exchange_in"</span>;</span><br><span class="line">    <span class="hljs-comment">// 绑定通道</span></span><br><span class="line">    <span class="hljs-meta">@Input</span>(MessageReceiveSource.EXCHANGE_IN)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> SubscribableChannel  <span class="hljs-title">messageIutput</span><span class="hljs-params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight css hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@<span class="hljs-keyword">EnableBinding</span>(<span class="hljs-keyword">MessageReceiveSource</span>.<span class="hljs-keyword">class</span>) </span><br><span class="line">public class MessageReceive &#123;</span><br><span class="line">    </span><br><span class="line">    @<span class="hljs-keyword">StreamListener</span>(<span class="hljs-keyword">MessageReceiveSource</span>.<span class="hljs-keyword">EXCHANGE_IN</span>)</span><br><span class="line">    public void ApplicationLoadMessage(Message&lt;HashMap&lt;String,Integer&gt;&gt; message) &#123;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后其他项目引入这个项目后，还要在yml中配置一下绑定：</p>
<p>消息提供者yml</p>
<figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">spring:</span></span><br><span class="line"><span class="hljs-attr">  cloud:</span></span><br><span class="line"><span class="hljs-attr">    stream:</span></span><br><span class="line"><span class="hljs-attr">      bindings:</span> <span class="hljs-comment"># 服务的整合处理 </span></span><br><span class="line"><span class="hljs-attr">        exporttv_exchange_out:</span> </span><br><span class="line"><span class="hljs-attr">          destination:</span> <span class="hljs-string">exporttv_exchange</span> <span class="hljs-comment"># 绑定exchange</span></span><br><span class="line"><span class="hljs-attr">          content-type:</span> <span class="hljs-string">application/json</span> <span class="hljs-comment"># 设置消息类型</span></span><br><span class="line"><span class="hljs-attr">          binder:</span> <span class="hljs-string">exporttv-rabbitmq</span>      <span class="hljs-comment"># 消息中间件</span></span><br><span class="line"><span class="hljs-attr">      binders:</span></span><br><span class="line"><span class="hljs-attr">        exporttv-rabbitmq:</span></span><br><span class="line"><span class="hljs-attr">          type:</span> <span class="hljs-string">rabbit</span></span><br><span class="line"><span class="hljs-attr">          environment:</span></span><br><span class="line"><span class="hljs-attr">            spring:</span></span><br><span class="line"><span class="hljs-attr">              rabbitmq:</span></span><br><span class="line"><span class="hljs-attr">                host:</span> <span class="hljs-string">localhost</span></span><br><span class="line"><span class="hljs-attr">                port:</span> <span class="hljs-number">5672</span></span><br><span class="line"><span class="hljs-attr">                username:</span> <span class="hljs-string">guest</span></span><br><span class="line"><span class="hljs-attr">                password:</span> <span class="hljs-string">guest</span></span><br><span class="line"><span class="hljs-attr">                virtual-host:</span> <span class="hljs-string">/</span></span><br></pre></td></tr></table></figure>

<p>消息消费者yml：</p>
<figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">spring:</span></span><br><span class="line"><span class="hljs-attr">  cloud:</span></span><br><span class="line"><span class="hljs-attr">    stream:</span></span><br><span class="line"><span class="hljs-attr">      bindings:</span> <span class="hljs-comment"># 服务的整合处理 </span></span><br><span class="line"><span class="hljs-attr">        exporttv_exchange_in:</span> </span><br><span class="line"><span class="hljs-attr">          destination:</span> <span class="hljs-string">exporttv_exchange</span> <span class="hljs-comment"># 绑定exchange</span></span><br><span class="line"><span class="hljs-attr">          content-type:</span> <span class="hljs-string">application/json</span> <span class="hljs-comment"># 设置消息类型</span></span><br><span class="line"><span class="hljs-attr">          group:</span> <span class="hljs-string">exporttv-group</span>          <span class="hljs-comment"># 进行操作的分组</span></span><br><span class="line"><span class="hljs-attr">          binder:</span> <span class="hljs-string">exporttv-rabbitmq</span>      <span class="hljs-comment"># 消息中间件</span></span><br><span class="line"><span class="hljs-attr">      binders:</span></span><br><span class="line"><span class="hljs-attr">        exporttv-rabbitmq:</span></span><br><span class="line"><span class="hljs-attr">          type:</span> <span class="hljs-string">rabbit</span></span><br><span class="line"><span class="hljs-attr">          environment:</span></span><br><span class="line"><span class="hljs-attr">            spring:</span></span><br><span class="line"><span class="hljs-attr">              rabbitmq:</span></span><br><span class="line"><span class="hljs-attr">                host:</span> <span class="hljs-string">localhost</span></span><br><span class="line"><span class="hljs-attr">                port:</span> <span class="hljs-number">5672</span></span><br><span class="line"><span class="hljs-attr">                username:</span> <span class="hljs-string">guest</span></span><br><span class="line"><span class="hljs-attr">                password:</span> <span class="hljs-string">guest</span></span><br><span class="line"><span class="hljs-attr">                virtual-host:</span> <span class="hljs-string">/</span></span><br></pre></td></tr></table></figure>

<p>下面说说提供者和消费者怎么引用之前定义的类</p>
<p>消息提供者项目：</p>
<p><img src="/images/message.png" alt="msg" title="msg"></p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Service</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SendApplicationMessage</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> MessageProvider messageProvider;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> SendApplicationLoadMessage() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// 业务功能省略</span></span><br><span class="line">       </span><br><span class="line"></span><br><span class="line">        messageProvider.sendApplicationLoadMessage();</span><br><span class="line"></span><br><span class="line">    &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="hljs-comment">// 打印错误日志</span></span><br><span class="line">        LogUtil.printLog(e, Exception.<span class="hljs-keyword">class</span>);</span><br><span class="line">        <span class="hljs-comment">// 抛出错误</span></span><br><span class="line">        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> MyRuntimeException(ResultEnum.DBException);</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>消息消费者子项目：</p>
<figure class="highlight scala hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Component</span></span><br><span class="line">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ReceiveApplicationMessage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">MessageReceive</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-type">ApplicationService</span> applicationService;</span><br><span class="line">    </span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    public void <span class="hljs-type">ApplicationLoadMessage</span>(<span class="hljs-type">Message</span>&lt;<span class="hljs-type">HashMap</span>&lt;<span class="hljs-type">String</span>,<span class="hljs-type">Integer</span>&gt;&gt; message) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="hljs-type">Integer</span> toalYear = message.getPayload().get(<span class="hljs-string">"year"</span>);</span><br><span class="line">    <span class="hljs-type">Integer</span> toalMonth = message.getPayload().get(<span class="hljs-string">"month"</span>);</span><br><span class="line">    <span class="hljs-type">Integer</span> toalWeek = message.getPayload().get(<span class="hljs-string">"week"</span>);</span><br><span class="line">    <span class="hljs-type">Integer</span> toanId = message.getPayload().get(<span class="hljs-string">"toanId"</span>);</span><br><span class="line">    </span><br><span class="line">    applicationService.updateApplicationLoad(toalYear, toalMonth, toalWeek, toanId);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-24T10:08:59.000Z">2019-10-24</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 分钟 read (About 291 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/24/tk.mybatis/">tk.mybatis</a>
            
        </h1>
        <div class="content">
            <figure class="highlight stylus hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mapper:</span><br><span class="line">  mappers: cn<span class="hljs-selector-class">.enlink</span><span class="hljs-selector-class">.ensbrain</span><span class="hljs-selector-class">.core</span><span class="hljs-selector-class">.basedao</span><span class="hljs-selector-class">.BaseDao</span></span><br><span class="line">  not-empty: false</span><br><span class="line">  identity: MYSQL</span><br></pre></td></tr></table></figure>

<p>UUID：设置生成UUID的方法，需要用OGNL方式配置，不限制返回值，但是必须和字段类型匹配<br>IDENTITY：取回主键的方式，可以配置的内容看下一篇如何使用中的介绍<br>ORDER：<seletkey>中的order属性，可选值为BEFORE和AFTER<br>catalog：数据库的catalog，如果设置该值，查询的时候表名会带catalog设置的前缀<br>schema：同catalog，catalog优先级高于schema<br>seqFormat：序列的获取规则,使用{num}格式化参数，默认值为{0}.nextval，针对Oracle，可选参数一共4个，对应0,1,2,3分别为SequenceName，ColumnName, PropertyName，TableName<br>notEmpty：insert和update中，是否判断字符串类型!=’’，少数方法会用到<br>style：实体和表转换时的规则，默认驼峰转下划线，可选值为normal用实体名和字段名;camelhump是默认值，驼峰转下划线;uppercase转换为大写;lowercase转换为小写<br>enableMethodAnnotation：可以控制是否支持方法上的JPA注解，默认false。</seletkey></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-24T10:08:59.000Z">2019-10-24</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    几秒 read (About 28 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/24/一个web版群聊程序/">WebSocket</a>
            
        </h1>
        <div class="content">
            <p>WebSocket<br>一个web版群聊程序<br><a href="https://blog.csdn.net/zzti_erlie/article/details/101060892" target="_blank" rel="noopener">https://blog.csdn.net/zzti_erlie/article/details/101060892</a></p>
<p>qq聊天室<br><a href="https://blog.csdn.net/qq_40315080/article/details/83052689" target="_blank" rel="noopener">https://blog.csdn.net/qq_40315080/article/details/83052689</a></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-24T10:08:59.000Z">2019-10-24</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    18 分钟 read (About 2751 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/24/多数据源/">多数据源</a>
            
        </h1>
        <div class="content">
            <p>Spring Boot + MyBatis + Druid + PageHelper 实现多数据源并分页<br><a href="https://mp.weixin.qq.com/s/6gcyfWnb3zvs5QuEjYxh-w" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/6gcyfWnb3zvs5QuEjYxh-w</a><br>前言</p>
<p>本篇文章主要讲述的是 Spring Boo t整合Mybatis、Druid和PageHelper 并实现多数据源和分页。其中Spring Boot整合Mybatis这块，在之前的的一篇文章中已经讲述了，这里就不过多说明了。重点是讲述在多数据源下的如何配置使用Druid和PageHelper<br>Druid介绍和使用<br>在使用Druid之前，先来简单的了解下Druid。<br>Druid是一个数据库连接池。Druid可以说是目前最好的数据库连接池！因其优秀的功能、性能和扩展性方面，深受开发人员的青睐。<br>Druid已经在阿里巴巴部署了超过600个应用，经过一年多生产环境大规模部署的严苛考验。Druid是阿里巴巴开发的号称为监控而生的数据库连接池！<br>同时Druid不仅仅是一个数据库连接池，Druid 核心主要包括三部分：<br>基于Filter－Chain模式的插件体系。<br>DruidDataSource 高效可管理的数据库连接池。<br>SQLParser<br>Druid的主要功能如下:<br>是一个高效、功能强大、可扩展性好的数据库连接池。<br>可以监控数据库访问性能。<br>数据库密码加密<br>获得SQL执行日志<br>扩展JDBC<br>介绍方面这块就不再多说，具体的可以看官方文档。那么开始介绍Druid如何使用。<br>首先是Maven依赖，只需要添加druid这一个jar就行了。</p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line">         <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line">         <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.8<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Tips：可以关注微信公众号：Java后端，获取Maven教程和每日技术博文推送。<br>配置方面，主要的只需要在application.properties或application.yml添加如下就可以了。</p>
<blockquote>
<p>说明：因为这里我是用了两个数据源，所以稍微有些不同而已。Druid 配置的说明在下面中已经说的很详细了，这里我就不在说明了。</p>
</blockquote>
<figure class="highlight ini hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">## 默认的数据源</span></span><br><span class="line"><span class="hljs-attr">master.datasource.url</span>=jdbc:mysql://localhost:<span class="hljs-number">3306</span>/springBoot?useUnicode=<span class="hljs-literal">true</span>&amp;characterEncoding=utf8&amp;allowMultiQueries=<span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-attr">master.datasource.username</span>=root</span><br><span class="line"><span class="hljs-attr">master.datasource.password</span>=<span class="hljs-number">123456</span></span><br><span class="line"><span class="hljs-attr">master.datasource.driverClassName</span>=com.mysql.jdbc.Driver</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">## 另一个的数据源</span></span><br><span class="line"><span class="hljs-attr">cluster.datasource.url</span>=jdbc:mysql://localhost:<span class="hljs-number">3306</span>/springBoot_test?useUnicode=<span class="hljs-literal">true</span>&amp;characterEncoding=utf8</span><br><span class="line"><span class="hljs-attr">cluster.datasource.username</span>=root</span><br><span class="line"><span class="hljs-attr">cluster.datasource.password</span>=<span class="hljs-number">123456</span></span><br><span class="line"><span class="hljs-attr">cluster.datasource.driverClassName</span>=com.mysql.jdbc.Driver</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 连接池的配置信息</span></span><br><span class="line"><span class="hljs-comment"># 初始化大小，最小，最大</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.type</span>=com.alibaba.druid.pool.DruidDataSource</span><br><span class="line"><span class="hljs-attr">spring.datasource.initialSize</span>=<span class="hljs-number">5</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.minIdle</span>=<span class="hljs-number">5</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.maxActive</span>=<span class="hljs-number">20</span></span><br><span class="line"><span class="hljs-comment"># 配置获取连接等待超时的时间</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.maxWait</span>=<span class="hljs-number">60000</span></span><br><span class="line"><span class="hljs-comment"># 配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.timeBetweenEvictionRunsMillis</span>=<span class="hljs-number">60000</span></span><br><span class="line"><span class="hljs-comment"># 配置一个连接在池中最小生存的时间，单位是毫秒</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.minEvictableIdleTimeMillis</span>=<span class="hljs-number">300000</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.validationQuery</span>=SELECT <span class="hljs-number">1</span> FROM DUAL</span><br><span class="line"><span class="hljs-attr">spring.datasource.testWhileIdle</span>=<span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.testOnBorrow</span>=<span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.testOnReturn</span>=<span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-comment"># 打开PSCache，并且指定每个连接上PSCache的大小</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.poolPreparedStatements</span>=<span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.maxPoolPreparedStatementPerConnectionSize</span>=<span class="hljs-number">20</span></span><br><span class="line"><span class="hljs-comment"># 配置监控统计拦截的filters，去掉后监控界面sql无法统计，'wall'用于防火墙</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.filters</span>=stat,wall,log4j</span><br><span class="line"><span class="hljs-comment"># 通过connectProperties属性来打开mergeSql功能；慢SQL记录</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.connectionProperties</span>=druid.stat.mergeSql=<span class="hljs-literal">true</span><span class="hljs-comment">;druid.stat.slowSqlMillis=5000</span></span><br></pre></td></tr></table></figure>

<p>成功添加了配置文件之后，我们再来编写Druid相关的类。<br>首先是MasterDataSourceConfig.java这个类，这个是默认的数据源配置类。</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Configuration</span></span><br><span class="line"><span class="hljs-meta">@MapperScan(basePackages = MasterDataSourceConfig.PACKAGE, sqlSessionFactoryRef = <span class="hljs-meta-string">"masterSqlSessionFactory"</span>)</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MasterDataSourceConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    static <span class="hljs-keyword">final</span> String PACKAGE = <span class="hljs-string">"com.pancm.dao.master"</span>;</span><br><span class="line">    static <span class="hljs-keyword">final</span> String MAPPER_LOCATION = <span class="hljs-string">"classpath:mapper/master/*.xml"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;master.datasource.url&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> String url;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;master.datasource.username&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> String username;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;master.datasource.password&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;master.datasource.driverClassName&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> String driverClassName;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;spring.datasource.initialSize&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> int initialSize;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;spring.datasource.minIdle&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> int minIdle;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;spring.datasource.maxActive&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> int maxActive;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;spring.datasource.maxWait&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> int maxWait;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;spring.datasource.timeBetweenEvictionRunsMillis&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> int timeBetweenEvictionRunsMillis;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;spring.datasource.minEvictableIdleTimeMillis&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> int minEvictableIdleTimeMillis;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;spring.datasource.validationQuery&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> String validationQuery;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;spring.datasource.testWhileIdle&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> boolean testWhileIdle;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;spring.datasource.testOnBorrow&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> boolean testOnBorrow;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;spring.datasource.testOnReturn&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> boolean testOnReturn;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;spring.datasource.poolPreparedStatements&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> boolean poolPreparedStatements;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;spring.datasource.maxPoolPreparedStatementPerConnectionSize&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> int maxPoolPreparedStatementPerConnectionSize;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;spring.datasource.filters&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> String filters;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"&#123;spring.datasource.connectionProperties&#125;"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> String connectionProperties;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Bean(name = <span class="hljs-meta-string">"masterDataSource"</span>)</span></span><br><span class="line">    <span class="hljs-meta">@Primary</span> </span><br><span class="line">    <span class="hljs-keyword">public</span> DataSource masterDataSource() &#123;</span><br><span class="line">        DruidDataSource dataSource = new DruidDataSource();</span><br><span class="line">        dataSource.setUrl(url);</span><br><span class="line">        dataSource.setUsername(username);</span><br><span class="line">        dataSource.setPassword(password);</span><br><span class="line">        dataSource.setDriverClassName(driverClassName);</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">//具体配置</span></span><br><span class="line">        dataSource.setInitialSize(initialSize);</span><br><span class="line">        dataSource.setMinIdle(minIdle);</span><br><span class="line">        dataSource.setMaxActive(maxActive);</span><br><span class="line">        dataSource.setMaxWait(maxWait);</span><br><span class="line">        dataSource.setTimeBetweenEvictionRunsMillis(timeBetweenEvictionRunsMillis);</span><br><span class="line">        dataSource.setMinEvictableIdleTimeMillis(minEvictableIdleTimeMillis);</span><br><span class="line">        dataSource.setValidationQuery(validationQuery);</span><br><span class="line">        dataSource.setTestWhileIdle(testWhileIdle);</span><br><span class="line">        dataSource.setTestOnBorrow(testOnBorrow);</span><br><span class="line">        dataSource.setTestOnReturn(testOnReturn);</span><br><span class="line">        dataSource.setPoolPreparedStatements(poolPreparedStatements);</span><br><span class="line">        dataSource.setMaxPoolPreparedStatementPerConnectionSize(maxPoolPreparedStatementPerConnectionSize);</span><br><span class="line">        <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">            dataSource.setFilters(filters);</span><br><span class="line">        &#125; <span class="hljs-keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        dataSource.setConnectionProperties(connectionProperties);</span><br><span class="line">        <span class="hljs-keyword">return</span> dataSource;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Bean(name = <span class="hljs-meta-string">"masterTransactionManager"</span>)</span></span><br><span class="line">    <span class="hljs-meta">@Primary</span></span><br><span class="line">    <span class="hljs-keyword">public</span> DataSourceTransactionManager masterTransactionManager() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> new DataSourceTransactionManager(masterDataSource());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Bean(name = <span class="hljs-meta-string">"masterSqlSessionFactory"</span>)</span></span><br><span class="line">    <span class="hljs-meta">@Primary</span></span><br><span class="line">    <span class="hljs-keyword">public</span> SqlSessionFactory masterSqlSessionFactory(<span class="hljs-meta">@Qualifier(<span class="hljs-meta-string">"masterDataSource"</span>)</span> DataSource masterDataSource)</span><br><span class="line">            throws Exception &#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> SqlSessionFactoryBean sessionFactory = new SqlSessionFactoryBean();</span><br><span class="line">        sessionFactory.setDataSource(masterDataSource);</span><br><span class="line">        sessionFactory.setMapperLocations(new PathMatchingResourcePatternResolver()</span><br><span class="line">                .getResources(MasterDataSourceConfig.MAPPER_LOCATION));</span><br><span class="line">        <span class="hljs-keyword">return</span> sessionFactory.getObject();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中这两个注解说明下:<br>@Primary ：标志这个 Bean 如果在多个同类 Bean 候选时，该 Bean<br>优先被考虑。多数据源配置的时候注意，必须要有一个主数据源，用 @Primary 标志该 Bean。<br>@MapperScan： 扫描 Mapper 接口并容器管理。</p>
<blockquote>
<p>需要注意的是sqlSessionFactoryRef 表示定义一个唯一 SqlSessionFactory 实例。</p>
</blockquote>
<p>上面的配置完之后，就可以将Druid作为连接池使用了。但是Druid并不简简单单的是个连接池，它也可以说是一个监控应用，它自带了web监控界面，可以很清晰的看到SQL相关信息。<br>在SpringBoot中运用Druid的监控作用，只需要编写StatViewServlet和WebStatFilter类，实现注册服务和过滤规则。这里我们可以将这两个写在一起，使用@Configuration和@Bean。<br>为了方便理解，相关的配置说明也写在代码中了，这里就不再过多赘述了。<br>代码如下:</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Configuration</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DruidConfiguration</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Bean</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> ServletRegistrationBean <span class="hljs-title">druidStatViewServle</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">//注册服务</span></span><br><span class="line">        ServletRegistrationBean servletRegistrationBean = <span class="hljs-keyword">new</span> ServletRegistrationBean(</span><br><span class="line">                <span class="hljs-keyword">new</span> StatViewServlet(), <span class="hljs-string">"/druid/*"</span>);</span><br><span class="line">        <span class="hljs-comment">// 白名单(为空表示,所有的都可以访问,多个IP的时候用逗号隔开)</span></span><br><span class="line">        servletRegistrationBean.addInitParameter(<span class="hljs-string">"allow"</span>, <span class="hljs-string">"127.0.0.1"</span>);</span><br><span class="line">        <span class="hljs-comment">// IP黑名单 (存在共同时，deny优先于allow)</span></span><br><span class="line">        servletRegistrationBean.addInitParameter(<span class="hljs-string">"deny"</span>, <span class="hljs-string">"127.0.0.2"</span>);</span><br><span class="line">        <span class="hljs-comment">// 设置登录的用户名和密码</span></span><br><span class="line">        servletRegistrationBean.addInitParameter(<span class="hljs-string">"loginUsername"</span>, <span class="hljs-string">"pancm"</span>);</span><br><span class="line">        servletRegistrationBean.addInitParameter(<span class="hljs-string">"loginPassword"</span>, <span class="hljs-string">"123456"</span>);</span><br><span class="line">        <span class="hljs-comment">// 是否能够重置数据.</span></span><br><span class="line">        servletRegistrationBean.addInitParameter(<span class="hljs-string">"resetEnable"</span>, <span class="hljs-string">"false"</span>);</span><br><span class="line">        <span class="hljs-keyword">return</span> servletRegistrationBean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Bean</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> FilterRegistrationBean <span class="hljs-title">druidStatFilter</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        FilterRegistrationBean filterRegistrationBean = <span class="hljs-keyword">new</span> FilterRegistrationBean(</span><br><span class="line">                <span class="hljs-keyword">new</span> WebStatFilter());</span><br><span class="line">        <span class="hljs-comment">// 添加过滤规则</span></span><br><span class="line">        filterRegistrationBean.addUrlPatterns(<span class="hljs-string">"/*"</span>);</span><br><span class="line">        <span class="hljs-comment">// 添加不需要忽略的格式信息</span></span><br><span class="line">        filterRegistrationBean.addInitParameter(<span class="hljs-string">"exclusions"</span>,</span><br><span class="line">                <span class="hljs-string">"*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*"</span>);</span><br><span class="line">        System.out.println(<span class="hljs-string">"druid初始化成功!"</span>);</span><br><span class="line">        <span class="hljs-keyword">return</span> filterRegistrationBean;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编写完之后，启动程序，在浏览器输入:<a href="http://127.0.0.1:8084/druid/index.html" target="_blank" rel="noopener">http://127.0.0.1:8084/druid/index.html</a> ，然后输入设置的用户名和密码，便可以访问Web界面了。</p>
<p>多数据源配置<br>在进行多数据源配置之前，先分别在springBoot和springBoot_test的mysql数据库中执行如下脚本。</p>
<figure class="highlight sql hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">-- springBoot库的脚本</span></span><br><span class="line"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-string">`t_user`</span> (</span><br><span class="line">  <span class="hljs-string">`id`</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">11</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> AUTO_INCREMENT <span class="hljs-keyword">COMMENT</span> <span class="hljs-string">'自增id'</span>,</span><br><span class="line">  <span class="hljs-string">`name`</span> <span class="hljs-built_in">varchar</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">COMMENT</span> <span class="hljs-string">'姓名'</span>,</span><br><span class="line">  <span class="hljs-string">`age`</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">2</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">COMMENT</span> <span class="hljs-string">'年龄'</span>,</span><br><span class="line">  PRIMARY <span class="hljs-keyword">KEY</span> (<span class="hljs-string">`id`</span>)</span><br><span class="line">) <span class="hljs-keyword">ENGINE</span>=<span class="hljs-keyword">InnoDB</span> AUTO_INCREMENT=<span class="hljs-number">15</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CHARSET</span>=utf8</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">-- springBoot_test库的脚本</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-string">`t_student`</span> (</span><br><span class="line">  <span class="hljs-string">`id`</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">11</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  <span class="hljs-string">`name`</span> <span class="hljs-built_in">varchar</span>(<span class="hljs-number">16</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-literal">NULL</span>,</span><br><span class="line">  <span class="hljs-string">`age`</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">11</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-literal">NULL</span>,</span><br><span class="line">  PRIMARY <span class="hljs-keyword">KEY</span> (<span class="hljs-string">`id`</span>)</span><br><span class="line">) <span class="hljs-keyword">ENGINE</span>=<span class="hljs-keyword">InnoDB</span> AUTO_INCREMENT=<span class="hljs-number">2</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CHARSET</span>=utf8</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注:为了偷懒，将两张表的结构弄成一样了！不过不影响测试!</p>
</blockquote>
<p>在application.properties中已经配置这两个数据源的信息，上面已经贴出了一次配置，这里就不再贴了。<br>这里重点说下 第二个数据源的配置。和上面的MasterDataSourceConfig.java差不多，区别在与没有使用@Primary 注解和名称不同而已。需要注意的是MasterDataSourceConfig.java对package和mapper的扫描是精确到目录的，这里的第二个数据源也是如此。<br>那么代码如下:</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Configuration</span></span><br><span class="line"><span class="hljs-meta">@MapperScan(basePackages = ClusterDataSourceConfig.PACKAGE, sqlSessionFactoryRef = <span class="hljs-meta-string">"clusterSqlSessionFactory"</span>)</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ClusterDataSourceConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> static <span class="hljs-keyword">final</span> String PACKAGE = <span class="hljs-string">"com.pancm.dao.cluster"</span>;</span><br><span class="line"> static <span class="hljs-keyword">final</span> String MAPPER_LOCATION = <span class="hljs-string">"classpath:mapper/cluster/*.xml"</span>;</span><br><span class="line"></span><br><span class="line"> <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;cluster.datasource.url&#125;</span>"</span>)</span></span><br><span class="line"> <span class="hljs-keyword">private</span> String url;</span><br><span class="line"></span><br><span class="line"> <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;cluster.datasource.username&#125;</span>"</span>)</span></span><br><span class="line"> <span class="hljs-keyword">private</span> String username;</span><br><span class="line"></span><br><span class="line"> <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;cluster.datasource.password&#125;</span>"</span>)</span></span><br><span class="line"> <span class="hljs-keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line"> <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;cluster.datasource.driverClassName&#125;</span>"</span>)</span></span><br><span class="line"> <span class="hljs-keyword">private</span> String driverClass;</span><br><span class="line"></span><br><span class="line"> <span class="hljs-comment">// 和MasterDataSourceConfig一样，这里略</span></span><br><span class="line"></span><br><span class="line"> <span class="hljs-meta">@Bean(name = <span class="hljs-meta-string">"clusterDataSource"</span>)</span></span><br><span class="line"> <span class="hljs-keyword">public</span> DataSource clusterDataSource() &#123;</span><br><span class="line">     DruidDataSource dataSource = new DruidDataSource();</span><br><span class="line">     dataSource.setUrl(url);</span><br><span class="line">     dataSource.setUsername(username);</span><br><span class="line">     dataSource.setPassword(password);</span><br><span class="line">     dataSource.setDriverClassName(driverClass);</span><br><span class="line"></span><br><span class="line">     <span class="hljs-comment">// 和MasterDataSourceConfig一样，这里略 ...</span></span><br><span class="line">     <span class="hljs-keyword">return</span> dataSource;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="hljs-meta">@Bean(name = <span class="hljs-meta-string">"clusterTransactionManager"</span>)</span></span><br><span class="line"> <span class="hljs-keyword">public</span> DataSourceTransactionManager clusterTransactionManager() &#123;</span><br><span class="line">     <span class="hljs-keyword">return</span> new DataSourceTransactionManager(clusterDataSource());</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="hljs-meta">@Bean(name = <span class="hljs-meta-string">"clusterSqlSessionFactory"</span>)</span></span><br><span class="line"> <span class="hljs-keyword">public</span> SqlSessionFactory clusterSqlSessionFactory(<span class="hljs-meta">@Qualifier(<span class="hljs-meta-string">"clusterDataSource"</span>)</span> DataSource clusterDataSource)</span><br><span class="line">         throws Exception &#123;</span><br><span class="line">     <span class="hljs-keyword">final</span> SqlSessionFactoryBean sessionFactory = new SqlSessionFactoryBean();</span><br><span class="line">     sessionFactory.setDataSource(clusterDataSource);</span><br><span class="line">     sessionFactory.setMapperLocations(new PathMatchingResourcePatternResolver().getResources(ClusterDataSourceConfig.MAPPER_LOCATION));</span><br><span class="line">     <span class="hljs-keyword">return</span> sessionFactory.getObject();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>成功写完配置之后，启动程序，进行测试。<br>分别在springBoot和springBoot_test库中使用接口进行添加数据。</p>
<p>PageHelper 分页实现<br>PageHelper是Mybatis的一个分页插件，非常的好用！这里强烈推荐！！！<br>PageHelper的使用很简单，只需要在Maven中添加pagehelper这个依赖就可以了。<br>Maven的依赖如下:</p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line">   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line">   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pagehelper-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注：这里我是用springBoot版的！也可以使用其它版本的。</p>
</blockquote>
<p>添加依赖之后，只需要添加如下配置或代码就可以了。</p>
<ul>
<li>第一种，在application.properties或application.yml添加</li>
</ul>
<figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">pagehelper:</span></span><br><span class="line"><span class="hljs-attr">  helperDialect:</span> <span class="hljs-string">mysql</span></span><br><span class="line"><span class="hljs-attr">  offsetAsPageNum:</span> <span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-attr">  rowBoundsWithCount:</span> <span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-attr">  reasonable:</span> <span class="hljs-literal">false</span></span><br></pre></td></tr></table></figure>

<ul>
<li>第二种，在mybatis.xml配置中添加</li>
</ul>
<figure class="highlight javascript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=<span class="hljs-string">"sqlSessionFactory"</span> <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span><br><span class="line">    &lt;property name=<span class="hljs-string">"dataSource"</span> ref=<span class="hljs-string">"dataSource"</span> /&gt;</span><br><span class="line">    &lt;!-- 扫描mapping.xml文件 --&gt;</span><br><span class="line">    &lt;property name=<span class="hljs-string">"mapperLocations"</span> value=<span class="hljs-string">"classpath:mapper/*.xml"</span>&gt;<span class="hljs-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span></span></span><br><span class="line">    &lt;!-- 配置分页插件 --&gt;</span><br><span class="line">     &lt;property name=<span class="hljs-string">"plugins"</span>&gt;</span><br><span class="line">        &lt;array&gt;</span><br><span class="line">          &lt;bean <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"com.github.pagehelper.PageHelper"</span>&gt;</span><br><span class="line">            &lt;property name=<span class="hljs-string">"properties"</span>&gt;</span><br><span class="line">              &lt;value&gt;</span><br><span class="line">                helperDialect=mysql</span><br><span class="line">                offsetAsPageNum=<span class="hljs-literal">true</span></span><br><span class="line">                rowBoundsWithCount=<span class="hljs-literal">true</span></span><br><span class="line">                reasonable=<span class="hljs-literal">false</span></span><br><span class="line">              &lt;<span class="hljs-regexp">/value&gt;</span></span><br><span class="line"><span class="hljs-regexp">            &lt;/</span>property&gt;</span><br><span class="line">          &lt;<span class="hljs-regexp">/bean&gt;</span></span><br><span class="line"><span class="hljs-regexp">        &lt;/</span>array&gt;</span><br><span class="line">      &lt;<span class="hljs-regexp">/property&gt;</span></span><br><span class="line"><span class="hljs-regexp">  &lt;/</span>bean&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>第三种，在代码中添加，使用@Bean注解在启动程序的时候初始化。</li>
</ul>
<figure class="highlight aspectj hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Bean</span></span><br><span class="line">  <span class="hljs-keyword">public</span> <span class="hljs-function">PageHelper <span class="hljs-title">pageHelper</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">    PageHelper pageHelper = <span class="hljs-keyword">new</span> PageHelper();</span><br><span class="line">   Properties properties = <span class="hljs-keyword">new</span> Properties();</span><br><span class="line">   <span class="hljs-comment">//数据库</span></span><br><span class="line">   properties.setProperty(<span class="hljs-string">"helperDialect"</span>, <span class="hljs-string">"mysql"</span>);</span><br><span class="line">   <span class="hljs-comment">//是否将参数offset作为PageNum使用</span></span><br><span class="line">   properties.setProperty(<span class="hljs-string">"offsetAsPageNum"</span>, <span class="hljs-string">"true"</span>);</span><br><span class="line">   <span class="hljs-comment">//是否进行count查询</span></span><br><span class="line">   properties.setProperty(<span class="hljs-string">"rowBoundsWithCount"</span>, <span class="hljs-string">"true"</span>);</span><br><span class="line">   <span class="hljs-comment">//是否分页合理化</span></span><br><span class="line">   properties.setProperty(<span class="hljs-string">"reasonable"</span>, <span class="hljs-string">"false"</span>);</span><br><span class="line">   pageHelper.setProperties(properties);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>因为这里我们使用的是多数据源，所以这里的配置稍微有些不同。我们需要在sessionFactory这里配置。这里就对MasterDataSourceConfig.java进行相应的修改。<br>在masterSqlSessionFactory方法中，添加如下代码。</p>
<figure class="highlight aspectj hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Bean</span>(name = <span class="hljs-string">"masterSqlSessionFactory"</span>)</span><br><span class="line">    <span class="hljs-meta">@Primary</span></span><br><span class="line">    <span class="hljs-keyword">public</span> SqlSessionFactory masterSqlSessionFactory(<span class="hljs-meta">@Qualifier</span>(<span class="hljs-string">"masterDataSource"</span>) DataSource masterDataSource)</span><br><span class="line">            <span class="hljs-keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="hljs-keyword">final</span> SqlSessionFactoryBean sessionFactory = <span class="hljs-keyword">new</span> SqlSessionFactoryBean();</span><br><span class="line">        sessionFactory.setDataSource(masterDataSource);</span><br><span class="line">        sessionFactory.setMapperLocations(<span class="hljs-keyword">new</span> PathMatchingResourcePatternResolver()</span><br><span class="line">                .getResources(MasterDataSourceConfig.MAPPER_LOCATION));</span><br><span class="line">        <span class="hljs-comment">//分页插件</span></span><br><span class="line">        Interceptor interceptor = <span class="hljs-keyword">new</span> PageInterceptor();</span><br><span class="line">        Properties properties = <span class="hljs-keyword">new</span> Properties();</span><br><span class="line">        <span class="hljs-comment">//数据库</span></span><br><span class="line">        properties.setProperty(<span class="hljs-string">"helperDialect"</span>, <span class="hljs-string">"mysql"</span>);</span><br><span class="line">        <span class="hljs-comment">//是否将参数offset作为PageNum使用</span></span><br><span class="line">        properties.setProperty(<span class="hljs-string">"offsetAsPageNum"</span>, <span class="hljs-string">"true"</span>);</span><br><span class="line">        <span class="hljs-comment">//是否进行count查询</span></span><br><span class="line">        properties.setProperty(<span class="hljs-string">"rowBoundsWithCount"</span>, <span class="hljs-string">"true"</span>);</span><br><span class="line">        <span class="hljs-comment">//是否分页合理化</span></span><br><span class="line">        properties.setProperty(<span class="hljs-string">"reasonable"</span>, <span class="hljs-string">"false"</span>);</span><br><span class="line">        interceptor.setProperties(properties);</span><br><span class="line">        sessionFactory.setPlugins(<span class="hljs-keyword">new</span> Interceptor[] &#123;interceptor&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">return</span> sessionFactory.<span class="hljs-title">getObject</span><span class="hljs-params">()</span></span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注：其它的数据源也想进行分页的时候，参照上面的代码即可。</p>
</blockquote>
<p>这里需要注意的是reasonable参数，表示分页合理化，默认值为false。如果该参数设置为 true 时，pageNum&lt;=0 时会查询第一页，pageNum&gt;pages（超过总数时），会查询最后一页。默认false 时，直接根据参数进行查询。<br>设置完PageHelper 之后，使用的话，只需要在查询的sql前面添加PageHelper.startPage(pageNum,pageSize);，如果是想知道总数的话，在查询的sql语句后买呢添加 page.getTotal()就可以了。<br>代码示例:</p>
<figure class="highlight php hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">List</span>&lt;T&gt; findByListEntity(T entity) &#123;</span><br><span class="line">        <span class="hljs-keyword">List</span>&lt;T&gt; <span class="hljs-keyword">list</span> = <span class="hljs-keyword">null</span>;</span><br><span class="line">        <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">            Page<span class="hljs-meta">&lt;?</span>&gt; page =PageHelper.startPage(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);</span><br><span class="line">            System.out.println(getClassName(entity)+<span class="hljs-string">"设置第一页两条数据!"</span>);</span><br><span class="line">            <span class="hljs-keyword">list</span> = getMapper().findByListEntity(entity);</span><br><span class="line">            System.out.println(<span class="hljs-string">"总共有:"</span>+page.getTotal()+<span class="hljs-string">"条数据,实际返回:"</span>+<span class="hljs-keyword">list</span>.size()+<span class="hljs-string">"两条数据!"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">catch</span> (<span class="hljs-keyword">Exception</span> e) &#123;</span><br><span class="line">            logger.error(<span class="hljs-string">"查询"</span>+getClassName(entity)+<span class="hljs-string">"失败!原因是:"</span>,e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">list</span>;</span><br></pre></td></tr></table></figure>

<p>代码编写完毕之后，开始进行最后的测试。<br>查询t_user表的所有的数据，并进行分页。<br>请求:<br>GET <a href="http://localhost:8084/api/user" target="_blank" rel="noopener">http://localhost:8084/api/user</a></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-15T13:39:00.000Z">2019-10-15</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 分钟 read (About 1146 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/15/springboot-session/">springboot session</a>
            
        </h1>
        <div class="content">
            <p>SpringBoot+SpringSession+Redis实现session共享及单点登录<br>最近在学习springboot，session这个点一直困扰了我好久，今天把这些天踩的坑分享出来吧，希望能帮助更多的人。</p>
<p>一、pom.xml配置 </p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.session<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-session-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>二、application.properties的redis配置</p>
<figure class="highlight stylus hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#redis</span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.host</span>=<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span></span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.port</span>=<span class="hljs-number">6379</span></span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.password</span>=<span class="hljs-number">123456</span></span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.pool</span><span class="hljs-selector-class">.max-idle</span>=<span class="hljs-number">8</span></span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.pool</span><span class="hljs-selector-class">.min-idle</span>=<span class="hljs-number">0</span></span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.pool</span><span class="hljs-selector-class">.max-active</span>=<span class="hljs-number">8</span></span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.pool</span><span class="hljs-selector-class">.max-wait</span>=-<span class="hljs-number">1</span></span><br><span class="line">#超时一定要大于<span class="hljs-number">0</span></span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.timeout</span>=<span class="hljs-number">3000</span></span><br><span class="line">spring<span class="hljs-selector-class">.session</span><span class="hljs-selector-class">.store-type</span>=redis</span><br></pre></td></tr></table></figure>

<p>在配置redis时需要确保redis安装正确，并且配置notify-keyspace-events Egx，spring.redis.timeout设置为大于0，我当时这里配置为0时springboot时启不起来。</p>
<p>三、编写登录状态拦截器RedisSessionInterceptor</p>
<figure class="highlight aspectj hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//拦截登录失效的请求</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RedisSessionInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">HandlerInterceptor</span></span></span><br><span class="line"><span class="hljs-class"></span>&#123;</span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> StringRedisTemplate redisTemplate;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> preHandle(HttpServletRequest request, HttpServletResponse response, Object <span class="hljs-keyword">handler</span>) <span class="hljs-keyword">throws</span> Exception</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-comment">//无论访问的地址是不是正确的，都进行登录验证，登录成功后的访问再进行分发，404的访问自然会进入到错误控制器中</span></span><br><span class="line">        HttpSession session = request.getSession();</span><br><span class="line">        <span class="hljs-keyword">if</span> (session.getAttribute(<span class="hljs-string">"loginUserId"</span>) != <span class="hljs-keyword">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="hljs-comment">//验证当前请求的session是否是已登录的session</span></span><br><span class="line">                String loginSessionId = redisTemplate.opsForValue().get(<span class="hljs-string">"loginUser:"</span> + (<span class="hljs-keyword">long</span>) session.getAttribute(<span class="hljs-string">"loginUserId"</span>));</span><br><span class="line">                <span class="hljs-keyword">if</span> (loginSessionId != <span class="hljs-keyword">null</span> &amp;&amp; loginSessionId.equals(session.getId()))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">catch</span> (Exception e)</span><br><span class="line">            &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        response401(response);</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> response401(HttpServletResponse response)</span><br><span class="line">    &#123;</span><br><span class="line">        response.setCharacterEncoding(<span class="hljs-string">"UTF-8"</span>);</span><br><span class="line">        response.setContentType(<span class="hljs-string">"application/json; charset=utf-8"</span>);</span><br><span class="line"> </span><br><span class="line">        <span class="hljs-keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            response.getWriter().print(JSON.toJSONString(<span class="hljs-keyword">new</span> ReturnData(StatusCode.NEED_LOGIN, <span class="hljs-string">""</span>, <span class="hljs-string">"用户未登录！"</span>)));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">catch</span> (IOException e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> postHandle(HttpServletRequest request, HttpServletResponse response, Object <span class="hljs-keyword">handler</span>, ModelAndView modelAndView) <span class="hljs-keyword">throws</span> Exception</span><br><span class="line">    &#123;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> afterCompletion(HttpServletRequest request, HttpServletResponse response, Object <span class="hljs-keyword">handler</span>, Exception ex) <span class="hljs-keyword">throws</span> Exception</span><br><span class="line">    &#123;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>四、配置拦截器</p>
<figure class="highlight scala hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Configuration</span></span><br><span class="line">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WebSecurityConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">WebMvcConfigurerAdapter</span></span></span><br><span class="line"><span class="hljs-class"></span>&#123;</span><br><span class="line">    <span class="hljs-meta">@Bean</span></span><br><span class="line">    public <span class="hljs-type">RedisSessionInterceptor</span> getSessionInterceptor()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-type">RedisSessionInterceptor</span>();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    public void addInterceptors(<span class="hljs-type">InterceptorRegistry</span> registry)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-comment">//所有已api开头的访问都要进入RedisSessionInterceptor拦截器进行登录验证，并排除login接口(全路径)。必须写成链式，分别设置的话会创建多个拦截器。</span></span><br><span class="line">        <span class="hljs-comment">//必须写成getSessionInterceptor()，否则SessionInterceptor中的@Autowired会无效</span></span><br><span class="line">        registry.addInterceptor(getSessionInterceptor()).addPathPatterns(<span class="hljs-string">"/api/**"</span>).excludePathPatterns(<span class="hljs-string">"/api/user/login"</span>);</span><br><span class="line">        <span class="hljs-keyword">super</span>.addInterceptors(registry);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>五、登录控制器</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@RestController</span></span><br><span class="line"><span class="hljs-meta">@RequestMapping</span>(value = <span class="hljs-string">"/api/user"</span>)</span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginController</span></span></span><br><span class="line"><span class="hljs-class"></span>&#123;</span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> UserService userService;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> StringRedisTemplate redisTemplate;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/login"</span>)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> ReturnData <span class="hljs-title">login</span><span class="hljs-params">(HttpServletRequest request, String account, String password)</span></span></span><br><span class="line"><span class="hljs-function">    </span>&#123;</span><br><span class="line">        User user = userService.findUserByAccountAndPassword(account, password);</span><br><span class="line">        <span class="hljs-keyword">if</span> (user != <span class="hljs-keyword">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            HttpSession session = request.getSession();</span><br><span class="line">            session.setAttribute(<span class="hljs-string">"loginUserId"</span>, user.getUserId());</span><br><span class="line">            redisTemplate.opsForValue().set(<span class="hljs-string">"loginUser:"</span> + user.getUserId(), session.getId());</span><br><span class="line"> </span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ReturnData(StatusCode.REQUEST_SUCCESS, user, <span class="hljs-string">"登录成功！"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> MyException(StatusCode.ACCOUNT_OR_PASSWORD_ERROR, <span class="hljs-string">"账户名或密码错误！"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@RequestMapping</span>(value = <span class="hljs-string">"/getUserInfo"</span>)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> ReturnData <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">long</span> userId)</span></span></span><br><span class="line"><span class="hljs-function">    </span>&#123;</span><br><span class="line">        User user = userService.findUserByUserId(userId);</span><br><span class="line">        <span class="hljs-keyword">if</span> (user != <span class="hljs-keyword">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ReturnData(StatusCode.REQUEST_SUCCESS, user, <span class="hljs-string">"查询成功！"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> MyException(StatusCode.USER_NOT_EXIST, <span class="hljs-string">"用户不存在！"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>六、效果</p>
<p>我在浏览器上登录，然后获取用户信息，再在postman上登录相同的账号，浏览器再获取用户信息，就会提示401错误了，浏览器需要重新登录才能获取得到用户信息，同样，postman上登录的账号就失效了。</p>
<p>浏览器：</p>
<p><img src="/images/pasted-194.png" alt="upload successful"></p>
<p>postman：</p>
<p><img src="/images/pasted-195.png" alt="upload successful"></p>
<p>七、核心原理详解<br>分布式session需要解决两个难点：1、正确配置redis让springboot把session托管到redis服务器。2、单点登录。</p>
<p>1、redis：<br>redis需要能正确启动到出现如下效果才证明redis正常配置并启动</p>
<p><img src="/images/pasted-196.png" alt="upload successful"><br>同时还要保证配置正确</p>
<figure class="highlight less hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-variable">@EnableCaching</span></span><br><span class="line"><span class="hljs-variable">@EnableRedisHttpSession</span>(maxInactiveIntervalInSeconds = <span class="hljs-number">30</span>)<span class="hljs-comment">//session过期时间(秒)</span></span><br><span class="line"><span class="hljs-variable">@Configuration</span></span><br><span class="line">public class RedisSessionConfig</span><br><span class="line">&#123;</span><br><span class="line">    <span class="hljs-variable">@Bean</span></span><br><span class="line">    public static ConfigureRedisAction configureRedisAction()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-comment">//让springSession不再执行config命令</span></span><br><span class="line">        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ConfigureRedisAction</span><span class="hljs-selector-class">.NO_OP</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>springboot启动后能在redis上查到缓存的session才能说明整个redis+springboot配置成功！</p>
<p><img src="/images/pasted-197.png" alt="upload successful"></p>
<p>2、单点登录：<br>这里的实现我搜过大量资料，基本是基于第三方框架实现的，我在想，既然已经使用redis做集中缓存了那干嘛不用redis来做单点登录呢？</p>
<p>1、用户登录时，在redis中记录该userId对应的sessionId，并将userId保存到session中。</p>
<p>HttpSession session = request.getSession();<br>session.setAttribute(“loginUserId”, user.getUserId());<br>redisTemplate.opsForValue().set(“loginUser:” + user.getUserId(), session.getId());<br>2、访问接口时，会在RedisSessionInterceptor拦截器中的preHandle()中捕获，然后根据该请求发起者的session中保存的userId去redis查当前已登录的sessionId，若查到的sessionId与访问者的sessionId相等，那么说明请求合法，放行。否则抛出401异常给全局异常捕获器去返回给客户端401状态。</p>
<p>单点登录经过我的验证后满足需求，暂时没有出现问题，也希望大家能看看有没有问题，有的话给我点好的建议！</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-14T16:55:00.000Z">2019-10-14</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    10 分钟 read (About 1517 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/15/Spring的@ExceptionHandler和@ControllerAdvice统一处理异常/">Spring的@ExceptionHandler和@ControllerAdvice统一处理异常</a>
            
        </h1>
        <div class="content">
            <p>前言</p>
<p>之前敲代码的时候,避免不了各种try…catch, 如果业务复杂一点, 就会发现全都是try…catch</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">try&#123;</span><br><span class="line">    <span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span></span><br><span class="line">&#125;catch(Exception1 e)&#123;</span><br><span class="line">    <span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span></span><br><span class="line">&#125;catch(Exception2 e)&#123;</span><br><span class="line">    <span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span>.</span><br><span class="line">&#125;catch(Exception3 e)&#123;</span><br><span class="line">    <span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span>.</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样其实代码既不简洁好看 ,我们敲着也烦, 一般我们可能想到用拦截器去处理, 但是既然现在Spring这么火,AOP大家也不陌生, 那么Spring一定为我们想好了这个解决办法.果然:</p>
<p>@ExceptionHandler<br>源码</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//该注解作用对象为方法</span></span><br><span class="line"><span class="hljs-meta">@Target(&#123;ElementType.METHOD&#125;)</span></span><br><span class="line"><span class="hljs-comment">//在运行时有效</span></span><br><span class="line"><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="hljs-meta">@Documented</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> ExceptionHandler &#123;</span><br><span class="line">	<span class="hljs-comment">//value()可以指定异常类</span></span><br><span class="line">    Class&lt;? extends Throwable&gt;[] value() <span class="hljs-keyword">default</span> &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@ControllerAdvice<br>源码</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Target(&#123;ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="hljs-meta">@Documented</span></span><br><span class="line"><span class="hljs-comment">//bean对象交给spring管理生成</span></span><br><span class="line"><span class="hljs-meta">@Component</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> ControllerAdvice &#123;</span><br><span class="line">    <span class="hljs-meta">@AliasFor(<span class="hljs-meta-string">"basePackages"</span>)</span></span><br><span class="line">    String[] value() <span class="hljs-keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@AliasFor(<span class="hljs-meta-string">"value"</span>)</span></span><br><span class="line">    String[] basePackages() <span class="hljs-keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    Class&lt;?&gt;[] basePackageClasses() <span class="hljs-keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    Class&lt;?&gt;[] assignableTypes() <span class="hljs-keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    Class&lt;? extends Annotation&gt;[] annotations() <span class="hljs-keyword">default</span> &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>从名字上可以看出大体意思是控制器增强</p>
<p>所以结合上面我们可以知道,使用@ExceptionHandler，可以处理异常, 但是仅限于当前Controller中处理异常, @ControllerAdvice可以配置basePackage下的所有controller. 所以结合两者使用,就可以处理全局的异常了.  </p>
<p>一、代码</p>
<p>这里需要声明的是，这个统一异常处理类，也是基于ControllerAdvice，也就是控制层切面的，如果是过滤器抛出的异常，不会被捕获!!!  
在@ControllerAdvice注解下的类，里面的方法用@ExceptionHandler注解修饰的方法，会将对应的异常交给对应的方法处理。</p>
<figure class="highlight aspectj hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@ExceptionHandler</span>(&#123;IOException.class&#125;)</span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-function">Result <span class="hljs-title">handleException</span><span class="hljs-params">(IOExceptione)</span> </span>&#123;</span><br><span class="line">    log.<span class="hljs-keyword">error</span>(<span class="hljs-string">"[handleException] "</span>, e);</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">return</span> ResultUtil.<span class="hljs-title">failureDefaultError</span><span class="hljs-params">()</span></span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>比如这个，就是捕获IO异常并处理。</p>
<p>废话不多说，代码：</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.zgd.shop.core.exception;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> com.zgd.shop.core.error.ErrorCache;</span><br><span class="line"><span class="hljs-keyword">import</span> com.zgd.shop.core.result.Result;</span><br><span class="line"><span class="hljs-keyword">import</span> com.zgd.shop.core.result.ResultUtil;</span><br><span class="line"><span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="hljs-keyword">import</span> org.apache.commons.lang3.StringUtils;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.http.HttpStatus;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.http.converter.HttpMessageNotReadableException;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.validation.BindException;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.validation.BindingResult;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.validation.FieldError;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.HttpMediaTypeNotSupportedException;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.HttpRequestMethodNotSupportedException;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.MethodArgumentNotValidException;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.MissingServletRequestParameterException;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.ControllerAdvice;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.ExceptionHandler;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.ResponseBody;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.ResponseStatus;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.method.<span class="hljs-keyword">annotation</span>.MethodArgumentTypeMismatchException;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> javax.validation.ConstraintViolation;</span><br><span class="line"><span class="hljs-keyword">import</span> javax.validation.ConstraintViolationException;</span><br><span class="line"><span class="hljs-keyword">import</span> javax.validation.ValidationException;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * GlobalExceptionHandle</span></span><br><span class="line"><span class="hljs-comment"> * 全局的异常处理</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> zgd</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2019/7/19 11:01</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-meta">@ControllerAdvice</span></span><br><span class="line"><span class="hljs-meta">@ResponseBody</span></span><br><span class="line"><span class="hljs-meta">@Slf4j</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GlobalExceptionHandle</span> </span>&#123;</span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 请求参数错误</span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> static String BASE_PARAM_ERR_CODE = <span class="hljs-string">"BASE-PARAM-01"</span>;</span><br><span class="line">  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> static String BASE_PARAM_ERR_MSG = <span class="hljs-string">"参数校验不通过"</span>;</span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 无效的请求</span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> static String BASE_BAD_REQUEST_ERR_CODE = <span class="hljs-string">"BASE-PARAM-02"</span>;</span><br><span class="line">  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> static String BASE_BAD_REQUEST_ERR_MSG = <span class="hljs-string">"无效的请求"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 顶级的异常处理</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.OK)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;Exception.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleException(Exception e) &#123;</span><br><span class="line">    log.error(<span class="hljs-string">"[handleException] "</span>, e);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failureDefaultError();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 自定义的异常处理</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> ex</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.OK)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;BizServiceException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result serviceExceptionHandler(BizServiceException ex) &#123;</span><br><span class="line">    String errorCode = ex.getErrCode();</span><br><span class="line">    String msg = ex.getErrMsg() == <span class="hljs-literal">null</span> ? <span class="hljs-string">""</span> : ex.getErrMsg();</span><br><span class="line">    String innerErrMsg;</span><br><span class="line">    String outerErrMsg;</span><br><span class="line">    <span class="hljs-keyword">if</span> (BASE_PARAM_ERR_CODE.equalsIgnoreCase(errorCode)) &#123;</span><br><span class="line">      innerErrMsg = <span class="hljs-string">"参数校验不通过："</span> + msg;</span><br><span class="line">      outerErrMsg = BASE_PARAM_ERR_MSG;</span><br><span class="line">    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ex.isInnerError()) &#123;</span><br><span class="line">      innerErrMsg = ErrorCache.getInternalMsg(errorCode);</span><br><span class="line">      outerErrMsg = ErrorCache.getMsg(errorCode);</span><br><span class="line">      <span class="hljs-keyword">if</span> (StringUtils.isNotBlank(msg)) &#123;</span><br><span class="line">        innerErrMsg = innerErrMsg + <span class="hljs-string">"，"</span> + msg;</span><br><span class="line">        outerErrMsg = outerErrMsg + <span class="hljs-string">"，"</span> + msg;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">      innerErrMsg = msg;</span><br><span class="line">      outerErrMsg = msg;</span><br><span class="line">    &#125;</span><br><span class="line">    log.info(<span class="hljs-string">"【错误码】：&#123;&#125;，【错误码内部描述】：&#123;&#125;，【错误码外部描述】：&#123;&#125;"</span>, errorCode, innerErrMsg, outerErrMsg);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(errorCode, outerErrMsg);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 缺少servlet请求参数抛出的异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;MissingServletRequestParameterException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleMissingServletRequestParameterException(MissingServletRequestParameterException e) &#123;</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleMissingServletRequestParameterException] 参数错误: "</span> + e.getParameterName());</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_PARAM_ERR_CODE, BASE_PARAM_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 请求参数不能正确读取解析时，抛出的异常，比如传入和接受的参数类型不一致</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.OK)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;HttpMessageNotReadableException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleHttpMessageNotReadableException(HttpMessageNotReadableException e) &#123;</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleHttpMessageNotReadableException] 参数解析失败："</span>, e);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_PARAM_ERR_CODE, BASE_PARAM_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 请求参数无效抛出的异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;MethodArgumentNotValidException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleMethodArgumentNotValidException(MethodArgumentNotValidException e) &#123;</span><br><span class="line">    BindingResult result = e.getBindingResult();</span><br><span class="line">    String message = getBindResultMessage(result);</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleMethodArgumentNotValidException] 参数验证失败："</span> + message);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_PARAM_ERR_CODE, BASE_PARAM_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">private</span> String getBindResultMessage(BindingResult result) &#123;</span><br><span class="line">    FieldError error = result.getFieldError();</span><br><span class="line">    String field = error != <span class="hljs-literal">null</span> ? error.getField() : <span class="hljs-string">"空"</span>;</span><br><span class="line">    String code = error != <span class="hljs-literal">null</span> ? error.getDefaultMessage() : <span class="hljs-string">"空"</span>;</span><br><span class="line">    <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"%s:%s"</span>, field, code);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 方法请求参数类型不匹配异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;MethodArgumentTypeMismatchException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleMethodArgumentTypeMismatchException(MethodArgumentTypeMismatchException e) &#123;</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleMethodArgumentTypeMismatchException] 方法参数类型不匹配异常: "</span>, e);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_PARAM_ERR_CODE, BASE_PARAM_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 请求参数绑定到controller请求参数时的异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;BindException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleHttpMessageNotReadableException(BindException e) &#123;</span><br><span class="line">    BindingResult result = e.getBindingResult();</span><br><span class="line">    String message = getBindResultMessage(result);</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleHttpMessageNotReadableException] 参数绑定失败："</span> + message);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_PARAM_ERR_CODE, BASE_PARAM_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * javax.validation:validation-api 校验参数抛出的异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;ConstraintViolationException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleServiceException(ConstraintViolationException e) &#123;</span><br><span class="line">    Set&lt;ConstraintViolation&lt;?&gt;&gt; violations = e.getConstraintViolations();</span><br><span class="line">    ConstraintViolation&lt;?&gt; violation = violations.iterator().next();</span><br><span class="line">    String message = violation.getMessage();</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleServiceException] 参数验证失败："</span> + message);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_PARAM_ERR_CODE, BASE_PARAM_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * javax.validation 下校验参数时抛出的异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;ValidationException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleValidationException(ValidationException e) &#123;</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleValidationException] 参数验证失败："</span>, e);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_PARAM_ERR_CODE, BASE_PARAM_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 不支持该请求方法时抛出的异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.METHOD_NOT_ALLOWED)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;HttpRequestMethodNotSupportedException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleHttpRequestMethodNotSupportedException(HttpRequestMethodNotSupportedException e) &#123;</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleHttpRequestMethodNotSupportedException] 不支持当前请求方法: "</span>, e);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_BAD_REQUEST_ERR_CODE, BASE_BAD_REQUEST_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 不支持当前媒体类型抛出的异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.UNSUPPORTED_MEDIA_TYPE)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;HttpMediaTypeNotSupportedException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleHttpMediaTypeNotSupportedException(HttpMediaTypeNotSupportedException e) &#123;</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleHttpMediaTypeNotSupportedException] 不支持当前媒体类型: "</span>, e);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_BAD_REQUEST_ERR_CODE, BASE_BAD_REQUEST_ERR_MSG);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>至于返回值，就可以理解为controller层方法的返回值，可以返回@ResponseBody，或者页面。我这里是一个@ResponseBody的Result&lt;&gt;，前后端分离。</p>
<p>我们也可以自己根据需求，捕获更多的异常类型。</p>
<p>包括我们自定义的异常类型。比如：</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.zgd.shop.core.exception;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * BizServiceException</span></span><br><span class="line"><span class="hljs-comment"> * 业务抛出的异常</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> zgd</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2019/7/19 11:04</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-meta">@Data</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BizServiceException</span> <span class="hljs-title">extends</span> <span class="hljs-title">RuntimeException</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">private</span> String errCode;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">private</span> String errMsg;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">private</span> boolean isInnerError;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">public</span> BizServiceException()&#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.isInnerError=<span class="hljs-literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">public</span> BizServiceException(String errCode)&#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.errCode =errCode;</span><br><span class="line">    <span class="hljs-keyword">this</span>.isInnerError = <span class="hljs-literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">public</span> BizServiceException(String errCode,boolean isInnerError)&#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.errCode =errCode;</span><br><span class="line">    <span class="hljs-keyword">this</span>.isInnerError = isInnerError;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">public</span> BizServiceException(String errCode,String errMsg)&#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.errCode =errCode;</span><br><span class="line">    <span class="hljs-keyword">this</span>.errMsg = errMsg;</span><br><span class="line">    <span class="hljs-keyword">this</span>.isInnerError = <span class="hljs-literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">public</span> BizServiceException(String errCode,String errMsg,boolean isInnerError)&#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.errCode =errCode;</span><br><span class="line">    <span class="hljs-keyword">this</span>.errMsg = errMsg;</span><br><span class="line">    <span class="hljs-keyword">this</span>.isInnerError = isInnerError;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-12T16:38:00.000Z">2019-10-12</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    1 小时 read (About 6844 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/13/euraka-配置介绍/">euraka 配置介绍</a>
            
        </h1>
        <div class="content">
            <p>spring cloud eureka 参数配置</p>
<p>eureka.client.registry-fetch-interval-seconds<br>表示eureka client间隔多久去拉取服务注册信息，默认为30秒，对于api-gateway，如果要迅速获取服务注册状态，可以缩小该值，比如5秒</p>
<p>eureka.instance.lease-expiration-duration-in-seconds<br>leaseExpirationDurationInSeconds，表示eureka server至上一次收到client的心跳之后，等待下一次心跳的超时时间，在这个时间内若没收到下一次心跳，则将移除该instance。</p>
<p>默认为90秒<br>如果该值太大，则很可能将流量转发过去的时候，该instance已经不存活了。<br>如果该值设置太小了，则instance则很可能因为临时的网络抖动而被摘除掉。<br>该值至少应该大于leaseRenewalIntervalInSeconds<br>eureka.instance.lease-renewal-interval-in-seconds<br>leaseRenewalIntervalInSeconds，表示eureka client发送心跳给server端的频率。如果在leaseExpirationDurationInSeconds后，server端没有收到client的心跳，则将摘除该instance。除此之外，如果该instance实现了HealthCheckCallback，并决定让自己unavailable的话，则该instance也不会接收到流量。</p>
<p>默认30秒<br>eureka.server.enable-self-preservation<br>是否开启自我保护模式，默认为true。</p>
<p>默认情况下，如果Eureka Server在一定时间内没有接收到某个微服务实例的心跳，Eureka Server将会注销该实例（默认90秒）。但是当网络分区故障发生时，微服务与Eureka Server之间无法正常通信，以上行为可能变得非常危险了——因为微服务本身其实是健康的，此时本不应该注销这个微服务。</p>
<p>Eureka通过“自我保护模式”来解决这个问题——当Eureka Server节点在短时间内丢失过多客户端时（可能发生了网络分区故障），那么这个节点就会进入自我保护模式。一旦进入该模式，Eureka Server就会保护服务注册表中的信息，不再删除服务注册表中的数据（也就是不会注销任何微服务）。当网络故障恢复后，该Eureka Server节点会自动退出自我保护模式。</p>
<p>综上，自我保护模式是一种应对网络异常的安全保护措施。它的架构哲学是宁可同时保留所有微服务（健康的微服务和不健康的微服务都会保留），也不盲目注销任何健康的微服务。使用自我保护模式，可以让Eureka集群更加的健壮、稳定。</p>
<p>eureka.server.eviction-interval-timer-in-ms<br>eureka server清理无效节点的时间间隔，默认60000毫秒，即60秒</p>
<p>测试环境参考配置<br>eureka server</p>
<figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">eureka:</span></span><br><span class="line"><span class="hljs-attr">  server:</span></span><br><span class="line"><span class="hljs-attr">    enable-self-preservation:</span> <span class="hljs-literal">false</span>           <span class="hljs-comment"># 关闭自我保护模式（缺省为打开）</span></span><br><span class="line"><span class="hljs-attr">    eviction-interval-timer-in-ms:</span> <span class="hljs-number">5000</span>       <span class="hljs-comment"># 续期时间，即扫描失效服务的间隔时间（缺省为60*1000ms）</span></span><br></pre></td></tr></table></figure>

<p>eureka client</p>
<figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">eureka:</span></span><br><span class="line"><span class="hljs-attr">  instance:</span></span><br><span class="line"><span class="hljs-attr">    lease-renewal-interval-in-seconds:</span> <span class="hljs-number">5</span>      <span class="hljs-comment"># 心跳时间，即服务续约间隔时间（缺省为30s）</span></span><br><span class="line"><span class="hljs-attr">    lease-expiration-duration-in-seconds:</span> <span class="hljs-number">10</span>  <span class="hljs-comment"># 发呆时间，即服务续约到期时间（缺省为90s）</span></span><br><span class="line"><span class="hljs-attr">  client:</span></span><br><span class="line"><span class="hljs-attr">    healthcheck:</span></span><br><span class="line"><span class="hljs-attr">      enabled:</span> <span class="hljs-literal">true</span>                           <span class="hljs-comment"># 开启健康检查（依赖spring-boot-starter-actuator）</span></span><br></pre></td></tr></table></figure>

<p>zuul</p>
<figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">eureka:</span></span><br><span class="line"><span class="hljs-attr">  client:</span></span><br><span class="line"><span class="hljs-attr">    registry-fetch-interval-seconds:</span> <span class="hljs-number">5</span> <span class="hljs-comment"># 默认为30秒</span></span><br></pre></td></tr></table></figure>

<p>client完整参数列表<br>~/.m2/repository/org/springframework/cloud/spring-cloud-netflix-eureka-client/1.2.3.RELEASE/spring-cloud-netflix-eureka-client-1.2.3.RELEASE.jar!/META-INF/spring-configuration-metadata.json</p>
<figure class="highlight json hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="hljs-attr">"groups"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="hljs-attr">"properties"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.allow-redirects"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether server can redirect a client request to a backup server/cluster.\n If set to false, the server will handle the request directly, If set to true, it\n may send HTTP redirect to the client, with a new server location."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.availability-zones"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.util.Map&lt;java.lang.String,java.lang.String&gt;"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the list of availability zones (used in AWS data centers) for the region in\n which this instance resides.\n\n The changes are effective at runtime at the next registry fetch cycle as specified\n by registryFetchIntervalSeconds."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.backup-registry-impl"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the name of the implementation which implements BackupRegistry to fetch the\n registry information as a fall back option for only the first time when the eureka\n client starts.\n\n This may be needed for applications which needs additional resiliency for registry\n information without which it cannot operate."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.cache-refresh-executor-exponential-back-off-bound"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Cache refresh executor exponential back off related property. It is a maximum\n multiplier value for retry delay, in case where a sequence of timeouts occurred."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">10</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.cache-refresh-executor-thread-pool-size"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"The thread pool size for the cacheRefreshExecutor to initialise with"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">2</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.client-data-accept"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"EurekaAccept name for client data accept"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.decoder-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"This is a transient config and once the latest codecs are stable, can be removed\n (as there will only be one)"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.disable-delta"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether the eureka client should disable fetching of delta and should\n rather resort to getting the full registry information.\n\n Note that the delta fetches can reduce the traffic tremendously, because the rate\n of change with the eureka server is normally much lower than the rate of fetches.\n\n The changes are effective at runtime at the next registry fetch cycle as specified\n by registryFetchIntervalSeconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.dollar-replacement"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get a replacement string for Dollar sign &lt;code&gt;$&lt;\/code&gt; during\n serializing/deserializing information in eureka server."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"_-"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.enabled"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Flag to indicate that the Eureka client is enabled."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.encoder-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"This is a transient config and once the latest codecs are stable, can be removed\n (as there will only be one)"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.escape-char-replacement"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get a replacement string for underscore sign &lt;code&gt;_&lt;\/code&gt; during\n serializing/deserializing information in eureka server."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"__"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-connection-idle-timeout-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how much time (in seconds) that the HTTP connections to eureka server can\n stay idle before it can be closed.\n\n In the AWS environment, it is recommended that the values is 30 seconds or less,\n since the firewall cleans up the connection information after a few mins leaving\n the connection hanging in limbo"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-server-connect-timeout-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how long to wait (in seconds) before a connection to eureka server needs\n to timeout. Note that the connections in the client are pooled by\n org.apache.http.client.HttpClient and this setting affects the actual connection\n creation and also the wait time to get the connection from the pool."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">5</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-server-d-n-s-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the DNS name to be queried to get the list of eureka servers.This information\n is not required if the contract returns the service urls by implementing\n serviceUrls.\n\n The DNS mechanism is used when useDnsForFetchingServiceUrls is set to true and the\n eureka client expects the DNS to configured a certain way so that it can fetch\n changing eureka servers dynamically.\n\n The changes are effective at runtime."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-server-port"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the port to be used to construct the service url to contact eureka server when\n the list of eureka servers come from the DNS.This information is not required if\n the contract returns the service urls eurekaServerServiceUrls(String).\n\n The DNS mechanism is used when useDnsForFetchingServiceUrls is set to true and the\n eureka client expects the DNS to configured a certain way so that it can fetch\n changing eureka servers dynamically.\n\n The changes are effective at runtime."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-server-read-timeout-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how long to wait (in seconds) before a read from eureka server needs to\n timeout."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">8</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-server-total-connections"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the total number of connections that is allowed from eureka client to all\n eureka servers."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">200</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-server-total-connections-per-host"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the total number of connections that is allowed from eureka client to a eureka\n server host."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">50</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-server-u-r-l-context"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the URL context to be used to construct the service url to contact eureka\n server when the list of eureka servers come from the DNS. This information is not\n required if the contract returns the service urls from eurekaServerServiceUrls.\n\n The DNS mechanism is used when useDnsForFetchingServiceUrls is set to true and the\n eureka client expects the DNS to configured a certain way so that it can fetch\n changing eureka servers dynamically. The changes are effective at runtime."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-service-url-poll-interval-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how often(in seconds) to poll for changes to eureka server information.\n Eureka servers could be added or removed and this setting controls how soon the\n eureka clients should know about it."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.fetch-registry"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether this client should fetch eureka registry information from eureka\n server."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.fetch-remote-regions-registry"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Comma separated list of regions for which the eureka registry information will be\n fetched. It is mandatory to define the availability zones for each of these regions\n as returned by availabilityZones. Failing to do so, will result in failure of\n discovery client startup."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.filter-only-up-instances"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether to get the applications after filtering the applications for\n instances with only InstanceStatus UP states."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.g-zip-content"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether the content fetched from eureka server has to be compressed\n whenever it is supported by the server. The registry information from the eureka\n server is compressed for optimum network traffic."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.heartbeat-executor-exponential-back-off-bound"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Heartbeat executor exponential back off related property. It is a maximum\n multiplier value for retry delay, in case where a sequence of timeouts occurred."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">10</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.heartbeat-executor-thread-pool-size"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"The thread pool size for the heartbeatExecutor to initialise with"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">2</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.initial-instance-info-replication-interval-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how long initially (in seconds) to replicate instance info to the eureka\n server"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">40</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.instance-info-replication-interval-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how often(in seconds) to replicate instance changes to be replicated to\n the eureka server."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.log-delta-diff"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether to log differences between the eureka server and the eureka\n client in terms of registry information.\n\n Eureka client tries to retrieve only delta changes from eureka server to minimize\n network traffic. After receiving the deltas, eureka client reconciles the\n information from the server to verify it has not missed out some information.\n Reconciliation failures could happen when the client has had network issues\n communicating to server.If the reconciliation fails, eureka client gets the full\n registry information.\n\n While getting the full registry information, the eureka client can log the\n differences between the client and the server and this setting controls that.\n\n The changes are effective at runtime at the next registry fetch cycle as specified\n by registryFetchIntervalSecondsr"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.on-demand-update-status-change"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"If set to true, local status updates via ApplicationInfoManager will trigger\n on-demand (but rate limited) register/updates to remote eureka servers"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.prefer-same-zone-eureka"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether or not this instance should try to use the eureka server in the\n same zone for latency and/or other reason.\n\n Ideally eureka clients are configured to talk to servers in the same zone\n\n The changes are effective at runtime at the next registry fetch cycle as specified\n by registryFetchIntervalSeconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.property-resolver"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.core.env.PropertyResolver"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.proxy-host"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the proxy host to eureka server if any."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.proxy-password"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the proxy password if any."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.proxy-port"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the proxy port to eureka server if any."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.proxy-user-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the proxy user name if any."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.region"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the region (used in AWS datacenters) where this instance resides."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"us-east-1"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.register-with-eureka"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether or not this instance should register its information with eureka\n server for discovery by others.\n\n In some cases, you do not want your instances to be discovered whereas you just\n want do discover other instances."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.registry-fetch-interval-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how often(in seconds) to fetch the registry information from the eureka\n server."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.registry-refresh-single-vip-address"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether the client is only interested in the registry information for a\n single VIP."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.service-url"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.util.Map&lt;java.lang.String,java.lang.String&gt;"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Map of availability zone to list of fully qualified URLs to communicate with eureka\n server. Each value can be a single URL or a comma separated list of alternative\n locations.\n\n Typically the eureka server URLs carry protocol,host,port,context and version\n information if any. Example:\n http://ec2-256-156-243-129.compute-1.amazonaws.com:7001/eureka/\n\n The changes are effective at runtime at the next service url refresh cycle as\n specified by eurekaServiceUrlPollIntervalSeconds."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.transport"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"com.netflix.discovery.shared.transport.EurekaTransportConfig"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.use-dns-for-fetching-service-urls"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether the eureka client should use the DNS mechanism to fetch a list of\n eureka servers to talk to. When the DNS name is updated to have additional servers,\n that information is used immediately after the eureka client polls for that\n information as specified in eurekaServiceUrlPollIntervalSeconds.\n\n Alternatively, the service urls can be returned serviceUrls, but the users should\n implement their own mechanism to return the updated list in case of changes.\n\n The changes are effective at runtime."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.a-s-g-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the AWS autoscaling group name associated with this instance. This information\n is specifically used in an AWS environment to automatically put an instance out of\n service after the instance is launched and it has been disabled for traffic.."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.app-group-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get the name of the application group to be registered with eureka."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.appname"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get the name of the application to be registered with eureka."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"unknown"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.data-center-info"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"com.netflix.appinfo.DataCenterInfo"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Returns the data center this instance is deployed. This information is used to get\n some AWS specific instance information if the instance is deployed in AWS."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.default-address-resolution-order"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String[]"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.environment"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.core.env.Environment"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.health-check-url"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the absolute health check page URL for this instance. The users can provide\n the healthCheckUrlPath if the health check page resides in the same instance\n talking to eureka, else in the cases where the instance is a proxy for some other\n server, users can provide the full URL. If the full URL is provided it takes\n precedence.\n\n &lt;p&gt;\n It is normally used for making educated decisions based on the health of the\n instance - for example, it can be used to determine whether to proceed deployments\n to an entire farm or stop the deployments without causing further damage. The full\n URL should follow the format http://$&#123;eureka.hostname&#125;:7001/ where the value\n $&#123;eureka.hostname&#125; is replaced at runtime."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.health-check-url-path"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the relative health check URL path for this instance. The health check page\n URL is then constructed out of the hostname and the type of communication - secure\n or unsecure as specified in securePort and nonSecurePort.\n\n It is normally used for making educated decisions based on the health of the\n instance - for example, it can be used to determine whether to proceed deployments\n to an entire farm or stop the deployments without causing further damage."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"/health"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.home-page-url"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the absolute home page URL for this instance. The users can provide the\n homePageUrlPath if the home page resides in the same instance talking to eureka,\n else in the cases where the instance is a proxy for some other server, users can\n provide the full URL. If the full URL is provided it takes precedence.\n\n It is normally used for informational purposes for other services to use it as a\n landing page. The full URL should follow the format http://$&#123;eureka.hostname&#125;:7001/\n where the value $&#123;eureka.hostname&#125; is replaced at runtime."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.home-page-url-path"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the relative home page URL Path for this instance. The home page URL is then\n constructed out of the hostName and the type of communication - secure or unsecure.\n\n It is normally used for informational purposes for other services to use it as a\n landing page."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"/"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.host-info"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.cloud.commons.util.InetUtils$HostInfo"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.hostname"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"The hostname if it can be determined at configuration time (otherwise it will be\n guessed from OS primitives)."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.hostname"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"The hostname if it can be determined at configuration time (otherwise it will be\n guessed from OS primitives)."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.inet-utils"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.cloud.commons.util.InetUtils"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.initial-status"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"com.netflix.appinfo.InstanceInfo$InstanceStatus"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Initial status to register with rmeote Eureka server."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.instance-enabled-onit"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether the instance should be enabled for taking traffic as soon as it\n is registered with eureka. Sometimes the application might need to do some\n pre-processing before it is ready to take traffic."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.instance-id"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get the unique Id (within the scope of the appName) of this instance to be\n registered with eureka."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.ip-address"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get the IPAdress of the instance. This information is for academic purposes only as\n the communication from other instances primarily happen using the information\n supplied in &#123;@link #getHostName(boolean)&#125;."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.lease-expiration-duration-in-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates the time in seconds that the eureka server waits since it received the\n last heartbeat before it can remove this instance from its view and there by\n disallowing traffic to this instance.\n\n Setting this value too long could mean that the traffic could be routed to the\n instance even though the instance is not alive. Setting this value too small could\n mean, the instance may be taken out of traffic because of temporary network\n glitches.This value to be set to atleast higher than the value specified in\n leaseRenewalIntervalInSeconds."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">90</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.lease-renewal-interval-in-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how often (in seconds) the eureka client needs to send heartbeats to\n eureka server to indicate that it is still alive. If the heartbeats are not\n received for the period specified in leaseExpirationDurationInSeconds, eureka\n server will remove the instance from its view, there by disallowing traffic to this\n instance.\n\n Note that the instance could still not take traffic if it implements\n HealthCheckCallback and then decides to make itself unavailable."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.metadata-map"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.util.Map&lt;java.lang.String,java.lang.String&gt;"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the metadata name/value pairs associated with this instance. This information\n is sent to eureka server and can be used by other instances."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.namespace"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get the namespace used to find properties. Ignored in Spring Cloud."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"eureka"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.non-secure-port"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get the non-secure port on which the instance should receive traffic."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">80</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.non-secure-port-enabled"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether the non-secure port should be enabled for traffic or not."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.prefer-ip-address"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Flag to say that, when guessing a hostname, the IP address of the server should be\n used in prference to the hostname reported by the OS."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.secure-health-check-url"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the absolute secure health check page URL for this instance. The users can\n provide the secureHealthCheckUrl if the health check page resides in the same\n instance talking to eureka, else in the cases where the instance is a proxy for\n some other server, users can provide the full URL. If the full URL is provided it\n takes precedence.\n\n &lt;p&gt;\n It is normally used for making educated decisions based on the health of the\n instance - for example, it can be used to determine whether to proceed deployments\n to an entire farm or stop the deployments without causing further damage. The full\n URL should follow the format http://$&#123;eureka.hostname&#125;:7001/ where the value\n $&#123;eureka.hostname&#125; is replaced at runtime."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.secure-port"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get the Secure port on which the instance should receive traffic."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">443</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.secure-port-enabled"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether the secure port should be enabled for traffic or not."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.secure-virtual-host-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the secure virtual host name defined for this instance.\n\n This is typically the way other instance would find this instance by using the\n secure virtual host name.Think of this as similar to the fully qualified domain\n name, that the users of your services will need to find this instance."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"unknown"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.status-page-url"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the absolute status page URL path for this instance. The users can provide the\n statusPageUrlPath if the status page resides in the same instance talking to\n eureka, else in the cases where the instance is a proxy for some other server,\n users can provide the full URL. If the full URL is provided it takes precedence.\n\n It is normally used for informational purposes for other services to find about the\n status of this instance. Users can provide a simple HTML indicating what is the\n current status of the instance."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.status-page-url-path"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the relative status page URL path for this instance. The status page URL is\n then constructed out of the hostName and the type of communication - secure or\n unsecure as specified in securePort and nonSecurePort.\n\n It is normally used for informational purposes for other services to find about the\n status of this instance. Users can provide a simple HTML indicating what is the\n current status of the instance."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"/info"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.virtual-host-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the virtual host name defined for this instance.\n\n This is typically the way other instance would find this instance by using the\n virtual host name.Think of this as similar to the fully qualified domain name, that\n the users of your services will need to find this instance."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"unknown"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="hljs-attr">"hints"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>server完整参数列表<br>~/.m2/repository/org/springframework/cloud/spring-cloud-netflix-eureka-server/1.2.3.RELEASE/spring-cloud-netflix-eureka-server-1.2.3.RELEASE.jar!/META-INF/spring-configuration-metadata.json</p>
<figure class="highlight json hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="hljs-attr">"groups"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.dashboard"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaDashboardProperties"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaDashboardProperties"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.registry"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.InstanceRegistryProperties"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.InstanceRegistryProperties"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="hljs-attr">"properties"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.dashboard.enabled"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Flag to enable the Eureka dashboard. Default true."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaDashboardProperties"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.dashboard.path"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"The path to the Eureka dashboard (relative to the servlet path). Defaults to \"/\"."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaDashboardProperties"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"/"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.registry.default-open-for-traffic-count"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Value used in determining when leases are cancelled, default to 1 for standalone.\n Should be set to 0 for peer replicated eurekas"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.InstanceRegistryProperties"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.registry.expected-number-of-renews-per-min"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.InstanceRegistryProperties"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.a-s-g-cache-expiry-timeout-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.a-s-g-query-timeout-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">300</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.a-s-g-update-interval-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.a-w-s-access-id"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.a-w-s-secret-key"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.batch-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.binding-strategy"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"com.netflix.eureka.aws.AwsBindingStrategy"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.delta-retention-timer-interval-in-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.disable-delta"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.disable-delta-for-remote-regions"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.disable-transparent-fallback-to-other-region"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.e-i-p-bind-rebind-retries"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">3</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.e-i-p-binding-retry-interval-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.e-i-p-binding-retry-interval-ms-when-unbound"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.enable-replicated-request-compression"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.enable-self-preservation"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.eviction-interval-timer-in-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.g-zip-content-from-remote-region"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.json-codec-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.list-auto-scaling-groups-role-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"ListAutoScalingGroups"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.log-identity-headers"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.max-elements-in-peer-replication-pool"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">10000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.max-elements-in-status-replication-pool"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">10000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.max-idle-thread-age-in-minutes-for-peer-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">15</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.max-idle-thread-in-minutes-age-for-status-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">10</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.max-threads-for-peer-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">20</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.max-threads-for-status-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.max-time-for-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.min-threads-for-peer-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">5</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.min-threads-for-status-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.number-of-replication-retries"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">5</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.peer-eureka-nodes-update-interval-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.peer-eureka-status-refresh-time-interval-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.peer-node-connect-timeout-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">200</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.peer-node-connection-idle-timeout-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.peer-node-read-timeout-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">200</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.peer-node-total-connections"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.peer-node-total-connections-per-host"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">500</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.prime-aws-replica-connections"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.property-resolver"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.core.env.PropertyResolver"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.rate-limiter-burst-size"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">10</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.rate-limiter-enabled"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.rate-limiter-full-fetch-average-rate"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">100</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.rate-limiter-privileged-clients"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.util.Set&lt;java.lang.String&gt;"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.rate-limiter-registry-fetch-average-rate"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">500</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.rate-limiter-throttle-standard-clients"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.registry-sync-retries"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.registry-sync-retry-wait-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-app-whitelist"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.util.Map&lt;java.lang.String,java.util.Set&lt;java.lang.String&gt;&gt;"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-connect-timeout-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-connection-idle-timeout-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-fetch-thread-pool-size"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">20</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-read-timeout-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-registry-fetch-interval"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-total-connections"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-total-connections-per-host"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">500</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-trust-store"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">""</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-trust-store-password"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"changeit"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-urls"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String[]"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-urls-with-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.util.Map&lt;java.lang.String,java.lang.String&gt;"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.renewal-percent-threshold"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Double"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0.85</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.renewal-threshold-update-interval-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.response-cache-auto-expiration-in-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">180</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.response-cache-update-interval-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.retention-time-in-m-s-in-delta-queue"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.route53-bind-rebind-retries"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">3</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.route53-binding-retry-interval-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.route53-domain-t-t-l"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.sync-when-timestamp-differs"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.use-read-only-response-cache"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.wait-time-in-ms-when-sync-empty"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.xml-codec-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="hljs-attr">"hints"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-12T16:18:00.000Z">2019-10-12</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    7 分钟 read (About 1018 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/13/spring-seesion/">spring session实现session共享</a>
            
        </h1>
        <div class="content">
            <p>使用Spring Session redis进行Session共享</p>
<p>在搭建完集群环境后，不得不考虑的一个问题就是用户访问产生的session如何处理。</p>
<p>session的处理有很多种方法，详情见转载的上篇博客：集群/分布式环境下5种session处理策略</p>
<p>在这里我们讨论其中的第三种方法：session共享。</p>
<p>redis集群做主从复制，利用redis数据库的最终一致性，将session信息存入redis中。当应用服务器发现session不在本机内存的时候，就去redis数据库中查找，因为redis数据库是独立于应用服务器的数据库，所以可以做到session的共享和高可用。</p>
<p>不足：</p>
<p>1.redis需要内存较大，否则会出现用户session从Cache中被清除。</p>
<p>2.需要定期的刷新缓存</p>
<p>初步结构如下  </p>
<p><img src="/images/pasted-187.png" alt="upload successful"><br>但是这个结构仍然存在问题，redis master是一个重要瓶颈，如果master崩溃的时候，但是redis不会主动的进行master切换，这时session服务中断。</p>
<p>但是我们先做到这个结构，后面再进行优化修改。<br>Spring Boot提供了Spring Session来完成session共享。</p>
<p>官方文档：<a href="http://docs.spring.io/spring-session/docs/current/reference/html5/guides/boot.html#boot-sample" target="_blank" rel="noopener">http://docs.spring.io/spring-session/docs/current/reference/html5/guides/boot.html#boot-sample</a></p>
<p>首先创建简单的Controller： </p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Controller</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserController</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="hljs-meta">@RequestMapping(value=<span class="hljs-meta-string">"/main"</span>, method=RequestMethod.GET)</span></span><br><span class="line">	<span class="hljs-keyword">public</span> String main(HttpServletRequest request) &#123;</span><br><span class="line">		HttpSession session = request.getSession();</span><br><span class="line">		String sessionId = (String) session.getAttribute(<span class="hljs-string">"sessionId"</span>);</span><br><span class="line">		<span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != sessionId) &#123; <span class="hljs-comment">// sessionId不为空</span></span><br><span class="line">			System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"main sessionId:"</span> + sessionId);</span><br><span class="line">			<span class="hljs-keyword">return</span> <span class="hljs-string">"main"</span>;</span><br><span class="line">		&#125; <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">// sessionId为空</span></span><br><span class="line">			<span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/login"</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="hljs-meta">@RequestMapping(value=<span class="hljs-meta-string">"/login"</span>, method=RequestMethod.GET)</span></span><br><span class="line">	<span class="hljs-keyword">public</span> String login() &#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-string">"login"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="hljs-meta">@RequestMapping(value=<span class="hljs-meta-string">"/doLogin"</span>, method=RequestMethod.POST)</span></span><br><span class="line">	<span class="hljs-keyword">public</span> String doLogin(HttpServletRequest request) &#123;</span><br><span class="line">		System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"I do real login here"</span>);</span><br><span class="line">		HttpSession session = request.getSession();</span><br><span class="line">		String sessionId = UUID.randomUUID().toString();</span><br><span class="line">		session.setAttribute(<span class="hljs-string">"sessionId"</span>, sessionId);</span><br><span class="line">		System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"login sessionId:"</span> + sessionId);</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/main"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>简单来说就是模拟一下权限控制，如果sessionId存在就访问主页，否则就跳转到登录页面。<br>那么如何实现session共享呢？</p>
<p>加入以下依赖：  </p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- spring session --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line">	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.session<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line">	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-session<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.0.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line"><span class="hljs-comment">&lt;!-- redis --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line">	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line">	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>增加配置类：</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@EnableRedisHttpSession</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HttpSessionConfig</span> </span>&#123;</span><br><span class="line">	<span class="hljs-meta">@Bean</span></span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">public</span> JedisConnectionFactory <span class="hljs-title">connectionFactory</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> JedisConnectionFactory();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个配置类有什么用呢？<br>官方文档：</p>
<p>The Spring configuration is responsible for creating a Servlet Filter that replaces the HttpSession implementation with an implementation backed by Spring Session. </p>
<p>也就是说，这个配置类可以创建一个过滤器，这个过滤器支持Spring Session代替HttpSession发挥作用。</p>
<p>The @EnableRedisHttpSession annotation creates a Spring Bean with the name of springSessionRepositoryFilter that implements Filter. The filter is what is in charge of replacing the HttpSession implementation to be backed by Spring Session. In this instance Spring Session is backed by Redis.</p>
<p>@EnableRedisHttpSession注解会创建一个springSessionRepositoryFilter的bean对象去实现这个过滤器。过滤器负责代替HttpSession。</p>
<p>也就是说，HttpSession不再发挥作用，而是通过过滤器使用redis直接操作Session。</p>
<p>在application.properties中添加redis的配置：</p>
<figure class="highlight stylus hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.host</span>=localhost</span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.password</span>=</span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.port</span>=<span class="hljs-number">6379</span></span><br></pre></td></tr></table></figure>

<p>这样，就完成了Session共享了。是不是很简单？业务代码甚至不需要一点点的修改。<br>验证：</p>
<p><img src="/images/pasted-188.png" alt="upload successful"><br>一开始redis数据库是空的。</p>
<p>运行项目：</p>
<p><img src="/images/pasted-190.png" alt="upload successful"><br>访问页面之后，可以在redis中看到session的信息。</p>
<p>随便登陆之后：</p>
<p><img src="/images/pasted-191.png" alt="upload successful"></p>
<p>进入到了main中。说明当前这个session中是存在sessionId的。</p>
<p>我们查看当前页面的cookie。也就是说，这个cookie是存在sessionId的。</p>
<p><img src="/images/pasted-192.png" alt="upload successful"></p>
<p>再运行一个新的项目，端口为8081。在原本的浏览器中直接打开一个新的标签页，我们知道，这个时候cookie是共享的。访问localhost:8081/main</p>
<p><img src="/images/pasted-193.png" alt="upload successful"><br>我们直接访问新的项目成功了！！同一个cookie，可以做到session在不同web服务器中的共享。</p>
<p>最后再次强调：</p>
<p>** HttpSession的实现被Spring Session替换，操作HttpSession等同于操作redis中的数据。**</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-12T13:47:00.000Z">2019-10-12</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 分钟 read (About 1150 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/12/分布式eureka/">分布式eureka</a>
            
        </h1>
        <div class="content">
            <ul>
<li><p>Netflix Eureka 简介  </p>
<ul>
<li><p>1、Eureka 是 Netflix 公司开发的服务发现框架，Spring Cloud 对它提供了支持，将它集成在了自己的 spring-cloud-netflix  子项目中。</p>
</li>
<li><p>2、Netflix 公司在 Github 上开源了很多项目，Eureka 只是其中一个，Netflix 开源主页：<a href="https://github.com/Netflix" target="_blank" rel="noopener">https://github.com/Netflix</a></p>
</li>
<li><p>3、Netflix Eureka GitHub 开源地址：<a href="https://github.com/Netflix/eureka。" target="_blank" rel="noopener">https://github.com/Netflix/eureka。</a></p>
</li>
</ul>
</li>
</ul>
<p>AWS Service registry for resilient mid-tier load balancing and failover.（Eureka 是用于弹性中间层负载平衡和故障转移的AWS服务注册中心）</p>
<ul>
<li><p>1.简介<br>EureKa在Spring Cloud全家桶中担任着服务的注册与发现的落地实现。Netflix在设计EureKa时遵循着AP原则，它基于REST的服务，用于定位服务，以实现云端中间层服务发现和故障转移，功能类似于Dubbo的注册中心Zookeeper。</p>
</li>
<li><p>2.实现原理</p>
</li>
</ul>
<p><img src="/images/pasted-185.png" alt="upload successful"></p>
<p>EureKa采用CS的设计架构，即包括了Eureka Server（服务端），EureKa client（客户端）。<br>1.EureKa Server 提供服务注册，各个节点启动后，在EureKa server中进行注册；</p>
<p>2 EureKa Client 是一个Java客户端，用于和服务端进行交互，同时客户端也是一个内置的默认使用轮询负载均衡算法的负载均衡器。在应用启动后，会向Eueka Server发送心跳（默认30秒）。如果Eureka Server在多个心跳周期内没有接受到某个节点的心跳，EureKa Server将会从服务注册表中将这个服务移出（默认90秒）。</p>
<ul>
<li><p>3.SpringCloud Eureka的使用步骤  </p>
<ul>
<li>3.1Eureka Service端(服务端)  </li>
<li>3.1.1.POM.XML<br>导入相依的依赖 </li>
</ul>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-eureka-server<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>3.1.2.application.yml<br>配置文件的配置demo</li>
</ul>
<figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">eureka:</span></span><br><span class="line"><span class="hljs-attr">  instance:</span></span><br><span class="line">    <span class="hljs-comment">#单机hostname: localhost</span></span><br><span class="line"><span class="hljs-attr">    hostname:</span> <span class="hljs-string">eureka7002.com</span>         <span class="hljs-comment">#eureka服务端的实例名称</span></span><br><span class="line"><span class="hljs-attr">  client:</span></span><br><span class="line"><span class="hljs-attr">    register-with-eureka:</span> <span class="hljs-literal">false</span>     <span class="hljs-comment">#false表示不向注册中心注册自己。</span></span><br><span class="line"><span class="hljs-attr">    fetch-registry:</span> <span class="hljs-literal">false</span>           <span class="hljs-comment">#false表示自己端就是注册中心，我的职责就是维护服务实例，并不需要去检索服务</span></span><br><span class="line"><span class="hljs-attr">    service-url:</span></span><br><span class="line">      <span class="hljs-comment">#单机设置与Eureka Server交互的地址查询服务和注册服务都需要依赖这个地址（单机）。</span></span><br><span class="line">      <span class="hljs-comment">#defaultZone: http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;/eureka/</span></span><br><span class="line"></span><br><span class="line">      <span class="hljs-comment">#Eureka高复用时设置其他的Eureka之间通信</span></span><br><span class="line">      <span class="hljs-comment">#defaultZone: http://eureka7003.com:7003/eureka/,http://eureka7004.com:7004/eureka/</span></span><br><span class="line"><span class="hljs-attr">       defaultZone:</span> <span class="hljs-attr">http://eureka7003.com:7003/eureka/</span></span><br><span class="line">  <span class="hljs-comment">#server:</span></span><br><span class="line">    <span class="hljs-comment">#enable-self-preservation: false   #Eureka服务端关闭心跳连接测试</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>3.1.3.主程序类<br>添加注解<br>@EnableEurekaServer<br>demo :</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.mark.eureka;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">@EnableEurekaServer</span></span><br><span class="line"><span class="hljs-meta">@SpringBootApplication</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EurekaServerApplication</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(String[] args) &#123;</span><br><span class="line">        SpringApplication.run(EurekaServerApplication.<span class="hljs-keyword">class</span>, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<p> 启动后访问设置的端口eg <a href="http://127.0.0.1:7002/" target="_blank" rel="noopener">http://127.0.0.1:7002/</a></p>
<p> <img src="/images/pasted-186.png" alt="upload successful"></p>
<ul>
<li><p>3.2Eureka Clinet(客户端)</p>
<ul>
<li><p>3.2.1 pom.XMl</p>
 <figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">      <span class="hljs-comment">&lt;!-- 将微服务provider侧注册进eureka --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-eureka<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<ul>
<li>3.2.2 application.yml  </li>
</ul>
<pre><code>server:
 port: 8001
eureka:
  client:                #客户端注册进eureka服务列表内
    service-url:
      #单机defaultZone: http://localhost:7002/eureka
      #集群是
      #defaultZone: http://eureka7002.com:7002/eureka/,http://eureka7003.com:7003/eureka/,http://eureka7004.com:7004/eureka/
    defaultZone: http://eureka7002.com:7002/eureka/,http://eureka7003.com:7003/eureka/
  instance:
    instance-id: microservicecloud-dept8001
    prefer-ip-address: true    #访问路径可以显示IP地址
info:                  #在Eure页面访问info返回的信息的配置
  app.name: atguigu-microservicecloud
  company.name: www.mark.com
  build.artifactId: $project.artifactId$
  build.version: $project.version$</code></pre><ul>
<li><p>3.2.3主程序类  </p>
<p>添加注解：（注意和服务端区分开）<br>@EnableEurekaClient<br>@EnableDiscoveryClient </p>
<figure class="highlight less hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-variable">@SpringBootApplication</span></span><br><span class="line"><span class="hljs-variable">@EnableEurekaClient</span></span><br><span class="line"><span class="hljs-variable">@EnableDiscoveryClient</span></span><br><span class="line">public class Deptprovider8003_App &#123;</span><br></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li><p>3.3补充<br>如果是Eureka Client的消费者，如果获取注册中心中的微服务，那么还需要在配置类中注入一个组件RestTemplate<br>demo</p>
<figure class="highlight css hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-tag">package</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.mark</span><span class="hljs-selector-class">.springcloud</span><span class="hljs-selector-class">.config</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.cloud</span><span class="hljs-selector-class">.client</span><span class="hljs-selector-class">.loadbalancer</span><span class="hljs-selector-class">.LoadBalanced</span>;</span><br><span class="line"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.context</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.Bean</span>;</span><br><span class="line"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.context</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.Configuration</span>;</span><br><span class="line"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.web</span><span class="hljs-selector-class">.client</span><span class="hljs-selector-class">.RestTemplate</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * Created by Choisaaaa on 2018/7/7.</span></span><br><span class="line"><span class="hljs-comment"> * 自定义配置类</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"></span><br><span class="line">@<span class="hljs-keyword">Configuration</span></span><br><span class="line"><span class="hljs-keyword">public</span> class MyConfig &#123;</span><br><span class="line">    @<span class="hljs-keyword">Bean</span></span><br><span class="line">    @LoadBalanced//使用负载均衡</span><br><span class="line">    public RestTemplate restTemplate()&#123;</span><br><span class="line">        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">RestTemplate</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
<p> 调用的demo  </p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.mark.springcloud.controller;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> com.mark.springcloud.entities.Dept;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.PathVariable;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.RequestMapping;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.RestController;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.client.RestTemplate;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * Created by Choisaaaa on 2018/7/7.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-meta">@RestController</span></span><br><span class="line"><span class="hljs-meta">@RequestMapping(<span class="hljs-meta-string">"/consumer/dept"</span>)</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DeptControler_Consumer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//private static final String REST_URL_PREFIX = "http://localhost:8001";</span></span><br><span class="line">    <span class="hljs-comment">//MICROSERVICECLOUD-DEP：为Eureka Server中心的微服务实例名称</span></span><br><span class="line">    <span class="hljs-keyword">private</span> static <span class="hljs-keyword">final</span> String REST_URL_PREFIX = <span class="hljs-string">"http://MICROSERVICECLOUD-DEPT"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> RestTemplate restTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@RequestMapping(value = <span class="hljs-meta-string">"/add"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">public</span> boolean add(Dept dept) &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> restTemplate.getForObject(REST_URL_PREFIX+<span class="hljs-string">"/dept/add"</span>,<span class="hljs-built_in">Boolean</span>.<span class="hljs-keyword">class</span>,dept);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@RequestMapping(value = <span class="hljs-meta-string">"get/&#123;id&#125;"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">public</span> Dept <span class="hljs-keyword">get</span>(<span class="hljs-meta">@PathVariable(<span class="hljs-meta-string">"id"</span>)</span> <span class="hljs-built_in">Long</span> id) &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> restTemplate.getForObject(REST_URL_PREFIX+<span class="hljs-string">"/dept/get/"</span>+id,Dept.<span class="hljs-keyword">class</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@RequestMapping(value = <span class="hljs-meta-string">"/list"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">public</span> List&lt;Dept&gt; list()&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> restTemplate.getForObject(REST_URL_PREFIX+<span class="hljs-string">"/dept/list"</span>,List.<span class="hljs-keyword">class</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//消费者调用服务发现</span></span><br><span class="line">    <span class="hljs-meta">@RequestMapping(<span class="hljs-meta-string">"/discovery"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">public</span> Object discovery() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> restTemplate.getForObject(REST_URL_PREFIX+<span class="hljs-string">"/dept/discovery"</span>,Object.<span class="hljs-keyword">class</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>参考：<br><a href="https://www.cnblogs.com/knowledgesea/p/11208000.html" target="_blank" rel="noopener">https://www.cnblogs.com/knowledgesea/p/11208000.html</a><br>熔断<br><a href="https://blog.csdn.net/qq_36763236/article/details/82024039" target="_blank" rel="noopener">https://blog.csdn.net/qq_36763236/article/details/82024039</a><br><a href="https://www.cnblogs.com/guagua-join-1/p/9638767.html" target="_blank" rel="noopener">https://www.cnblogs.com/guagua-join-1/p/9638767.html</a></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-11T19:45:00.000Z">2019-10-11</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    12 分钟 read (About 1851 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/12/EqualsAndHashCode-注解详解/">@EqualsAndHashCode</a>
            
        </h1>
        <div class="content">
            <p>原文中提到的大致有以下几点：</p>
<ol>
<li><p>此注解会生成equals(Object other) 和 hashCode()方法。</p>
</li>
<li><p>它默认使用非静态，非瞬态的属性</p>
</li>
<li><p>可通过参数exclude排除一些属性</p>
</li>
<li><p>可通过参数of指定仅使用哪些属性</p>
</li>
<li><p>它默认仅使用该类中定义的属性且不调用父类的方法</p>
</li>
<li><p>可通过callSuper=true解决上一点问题。让其生成的方法中调用父类的方法。</p>
</li>
</ol>
<p>另：@Data相当于@Getter @Setter @RequiredArgsConstructor @ToString @EqualsAndHashCode这5个注解的合集。</p>
<p>通过官方文档，可以得知，当使用@Data注解时，则有了@EqualsAndHashCode注解，那么就会在此类中存在equals(Object other) 和 hashCode()方法，且不会使用父类的属性，这就导致了可能的问题。</p>
<p>比如，有多个类有相同的部分属性，把它们定义到父类中，恰好id（数据库主键）也在父类中，那么就会存在部分对象在比较时，它们并不相等，却因为lombok自动生成的equals(Object other) 和 hashCode()方法判定为相等，从而导致出错。</p>
<p>修复此问题的方法很简单：</p>
<ol>
<li><p>使用@Getter @Setter @ToString代替@Data并且自定义equals(Object other) 和 hashCode()方法，比如有些类只需要判断主键id是否相等即足矣。</p>
</li>
<li><p>或者使用在使用@Data时同时加上@EqualsAndHashCode(callSuper=true)注解。</p>
</li>
</ol>
<hr>
<hr>
<p>任意类的定义都可以添加@EqualsAndHashCode注解，让lombok帮你生成equals(Object other)和hashCode()方法的实现。默认情况下会使用非静态和非transient型字段来生成，但是你也通过在字段上添加@EqualsAndHashCode.Include或者@EqualsAndHashCode.Exclude修改你使用的字段（甚至指定各种方法的输出）。或者你也可以通过在类上使用@EqualsAndHashCode(onlyExplicitlyIncluded = true)，且在特定字段或特定方法上添加@EqualsAndHashCode.Include来指定他们。</p>
<p>如果将@EqualsAndHashCode添加到继承至另一个类的类上，这个功能会有点棘手。一般情况下，为这样的类自动生成equals和hashCode方法是一个坏思路，因为超类也有定义了一些字段，他们也需要equals/hashCode方法但是不会自动生成。通过设置callSuper=true，可以在生成的equals和hashCode方法里包含超类的方法。对于hashCode，·super.hashCode()·会被包含在hash算法内，而对于equals，如果超类实现认为它与传入的对象不一致则会返回false。注意：并非所有的equals都能正确的处理这样的情况。然而刚好lombok可以，若超类也使用lombok来生成equals方法，那么你可以安全的使用它的equals方法。如果你有一个明确的超类, 你得在callSuper上提供一些值来表示你已经斟酌过，要不然的话就会产生一条警告信息。</p>
<p>当你的类没有继承至任何类（非java.lang.Object, 当然任何类都是继承于Object类的），而你却将callSuer置为true, 这会产生编译错误（译者注： java: Generating equals/hashCode with a supercall to java.lang.Object is pointless. ）。因为这会使得生成的equals和hashCode方法实现只是简单的继承至Object类的方法，只有相同的对象并且相同的hashCode才会判定他们相等。若你的类继承至另一个类又没有设置callSuper, 则会产品一个告警，因为除非超类没有（或者没有跟相等相关的）字段，否则lombok无法为你生成考虑超类声明字段的实现。你需要编写自己的实现，或者依赖callSuper的链式功能。你也可以使用配置关键字lombok.equalsAndHashCode.callSuper.（译者注：配置关键字这里还没搞明白！！！）</p>
<p>NEW in Lombok 0.10:</p>
<p>除非你的类是final类型并且只是继承至java.lang.Object, 否则lombok会生成一个canEqual方法，这以为着JPA代理仍然可以等于他们的基类，但是添加新状态的子类不会破坏equals契约。下文解释了为什么需要这种方法的复杂原因：How to Write an Equality Method in Java。如果层次结构中的所有类都是scala case类和带有lombok生成的equals方法的类的混合，则所有的相等都能正常工作。如果你需要编写自己的equals方法，那么如果更改equals和hashCode方法，都应该始终覆盖canEqual.</p>
<p>NEW in Lombok 1.14.0:</p>
<p>要将注释放在equals的另一个参数（以及相关的canEqual）方法上，可以使用onParam = @ __（{@ AnnotationsHere}）。 但要小心！ 这是一个实验性功能。 有关更多详细信息，请参阅有关onX功能的文档。</p>
<p>看代码示例，最好自己写一下，然后查看编译后的class文件。</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.amos.lombok;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> lombok.EqualsAndHashCode;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> amos</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-meta">@EqualsAndHashCode</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EqualsAndHashCodeExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> <span class="hljs-keyword">int</span> transientVar = <span class="hljs-number">10</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> String name;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> score;</span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * 不包含该字段</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@EqualsAndHashCode</span>.Exclude</span><br><span class="line">    <span class="hljs-keyword">private</span> Shape shape = <span class="hljs-keyword">new</span> Square(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>);</span><br><span class="line">    <span class="hljs-keyword">private</span> String[] tags;</span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * 不包含该字段</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@EqualsAndHashCode</span>.Exclude</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@EqualsAndHashCode</span>(callSuper = <span class="hljs-keyword">true</span>)</span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Square</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Shape</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> width, height;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Square</span><span class="hljs-params">(<span class="hljs-keyword">int</span> width, <span class="hljs-keyword">int</span> height)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.width = width;</span><br><span class="line">            <span class="hljs-keyword">this</span>.height = height;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Shape</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编译后的class文件</p>
<figure class="highlight processing hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//</span></span><br><span class="line"><span class="hljs-comment">// Source code recreated from a .class file by IntelliJ IDEA</span></span><br><span class="line"><span class="hljs-comment">// (powered by Fernflower decompiler)</span></span><br><span class="line"><span class="hljs-comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">package</span> com.amos.lombok;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> class EqualsAndHashCodeExample &#123;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> <span class="hljs-built_in">int</span> transientVar = <span class="hljs-number">10</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">String</span> name;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> score;</span><br><span class="line">    <span class="hljs-keyword">private</span> EqualsAndHashCodeExample.Shape <span class="hljs-built_in">shape</span> = <span class="hljs-keyword">new</span> EqualsAndHashCodeExample.Square(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>);</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">String</span>[] tags;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> EqualsAndHashCodeExample() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">String</span> getName() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> equals(<span class="hljs-keyword">final</span> <span class="hljs-keyword">Object</span> o) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">this</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!(o <span class="hljs-keyword">instanceof</span> EqualsAndHashCodeExample)) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            EqualsAndHashCodeExample other = (EqualsAndHashCodeExample)o;</span><br><span class="line">            <span class="hljs-keyword">if</span> (!other.canEqual(<span class="hljs-keyword">this</span>)) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                label31: &#123;</span><br><span class="line">                    <span class="hljs-keyword">Object</span> <span class="hljs-keyword">this</span>$name = <span class="hljs-keyword">this</span>.getName();</span><br><span class="line">                    <span class="hljs-keyword">Object</span> other$name = other.getName();</span><br><span class="line">                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>$name == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (other$name == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                            <span class="hljs-keyword">break</span> label31;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>$name.equals(other$name)) &#123;</span><br><span class="line">                        <span class="hljs-keyword">break</span> label31;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">if</span> (Double.compare(<span class="hljs-keyword">this</span>.score, other.score) != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> Arrays.deepEquals(<span class="hljs-keyword">this</span>.tags, other.tags);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">boolean</span> canEqual(<span class="hljs-keyword">final</span> <span class="hljs-keyword">Object</span> other) &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> other <span class="hljs-keyword">instanceof</span> EqualsAndHashCodeExample;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> hashCode() &#123;</span><br><span class="line">        <span class="hljs-built_in">int</span> PRIME = <span class="hljs-keyword">true</span>;</span><br><span class="line">        <span class="hljs-built_in">int</span> result = <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">Object</span> $name = <span class="hljs-keyword">this</span>.getName();</span><br><span class="line">        <span class="hljs-built_in">int</span> result = result * <span class="hljs-number">59</span> + ($name == <span class="hljs-keyword">null</span> ? <span class="hljs-number">43</span> : $name.hashCode());</span><br><span class="line">        <span class="hljs-keyword">long</span> $score = Double.doubleToLongBits(<span class="hljs-keyword">this</span>.score);</span><br><span class="line">        result = result * <span class="hljs-number">59</span> + (<span class="hljs-built_in">int</span>)($score &gt;&gt;&gt; <span class="hljs-number">32</span> ^ $score);</span><br><span class="line">        result = result * <span class="hljs-number">59</span> + Arrays.deepHashCode(<span class="hljs-keyword">this</span>.tags);</span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> class Shape &#123;</span><br><span class="line">        <span class="hljs-keyword">public</span> Shape() &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> class Square extends EqualsAndHashCodeExample.Shape &#123;</span><br><span class="line">        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> <span class="hljs-built_in">width</span>;</span><br><span class="line">        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> <span class="hljs-built_in">height</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> Square(<span class="hljs-built_in">int</span> <span class="hljs-built_in">width</span>, <span class="hljs-built_in">int</span> <span class="hljs-built_in">height</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.<span class="hljs-built_in">width</span> = <span class="hljs-built_in">width</span>;</span><br><span class="line">            <span class="hljs-keyword">this</span>.<span class="hljs-built_in">height</span> = <span class="hljs-built_in">height</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> equals(<span class="hljs-keyword">final</span> <span class="hljs-keyword">Object</span> o) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">this</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!(o <span class="hljs-keyword">instanceof</span> EqualsAndHashCodeExample.Square)) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                EqualsAndHashCodeExample.Square other = (EqualsAndHashCodeExample.Square)o;</span><br><span class="line">                <span class="hljs-keyword">if</span> (!other.canEqual(<span class="hljs-keyword">this</span>)) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">super</span>.equals(o)) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.<span class="hljs-built_in">width</span> != other.<span class="hljs-built_in">width</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.<span class="hljs-built_in">height</span> == other.<span class="hljs-built_in">height</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">protected</span> <span class="hljs-built_in">boolean</span> canEqual(<span class="hljs-keyword">final</span> <span class="hljs-keyword">Object</span> other) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> other <span class="hljs-keyword">instanceof</span> EqualsAndHashCodeExample.Square;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> hashCode() &#123;</span><br><span class="line">            <span class="hljs-built_in">int</span> PRIME = <span class="hljs-keyword">true</span>;</span><br><span class="line">            <span class="hljs-built_in">int</span> result = <span class="hljs-keyword">super</span>.hashCode();</span><br><span class="line">            result = result * <span class="hljs-number">59</span> + <span class="hljs-keyword">this</span>.<span class="hljs-built_in">width</span>;</span><br><span class="line">            result = result * <span class="hljs-number">59</span> + <span class="hljs-keyword">this</span>.<span class="hljs-built_in">height</span>;</span><br><span class="line">            <span class="hljs-keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意<br>超类不加callSuper且不手动覆写</p>
<p>上述的代码，通过下面的代码测试</p>
<figure class="highlight cs hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">        Square square1 = <span class="hljs-keyword">new</span> Square(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);</span><br><span class="line">        Square square2 = <span class="hljs-keyword">new</span> Square(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);</span><br><span class="line">        <span class="hljs-comment">// false</span></span><br><span class="line">        System.<span class="hljs-keyword">out</span>.println(square1.<span class="hljs-keyword">equals</span>(square2));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>可以看出，明明对象应该是相等的，但是就是不等！！<br>因为下面的代码导致，可以看出使用的是Object的equals方法，该方法一定要对象完全一样且hashCode一样才判定相等。</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">super</span>.equals(o)) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>所以，为了避免这个问题，你要么手动覆写超类的equals，要么在超类上加callSuper注解。</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-11T17:58:00.000Z">2019-10-11</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 分钟 read (About 380 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/12/ide配置自定义模板/">ide配置自定义模板</a>
            
        </h1>
        <div class="content">
            <p>设置类注释模板<br>1.选择File–&gt;Settings–&gt;Editor–&gt;File and Code Templates–&gt;Includes–&gt;File Header. </p>
<p><img src="/images/pasted-176.png" alt="upload successful"><br>2.在右边空白处，编写自己的模板即可，注意Scheme是模板的生效范围，可选变量在description有介绍，附图中本人使用的模板（${USER}为计算机用户名，可以自行修改）。</p>
<figure class="highlight elixir hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * <span class="hljs-variable">@Auther</span>: <span class="hljs-variable">$&#123;</span>USER&#125;</span><br><span class="line"> * <span class="hljs-variable">@Date</span>: <span class="hljs-variable">$&#123;</span>DATE&#125; <span class="hljs-variable">$&#123;</span>HOUR&#125;<span class="hljs-symbol">:</span><span class="hljs-variable">$&#123;</span>MINUTE&#125;</span><br><span class="line"> * <span class="hljs-variable">@Description</span>: </span><br><span class="line"> *<span class="hljs-regexp">/</span></span><br></pre></td></tr></table></figure>

<p> 3.设置完成后，创建类时自动生成注释，效果如下。 </p>
<p><img src="/images/pasted-177.png" alt="upload successful"><br>设置方法注释模板<br>Idea没有可以直接设置方法注释模板的地方，可以借用Live Templates基本实现，步骤如下。<br>1.选择File–&gt;Settings–&gt;Editor–&gt;Live Templates，先选择右侧绿色加号新建一个自己的模板组，如图命名为myGroup。   </p>
<p><img src="/images/pasted-178.png" alt="upload successful"><br>2.选中已建好的组，选择右侧绿色加号新建模板，如下图。</p>
<p><img src="/images/pasted-179.png" alt="upload successful"><br>3.填好Abbreviation（快捷输入），Description（描述）和模板内容（图中模板如下）  </p>
<figure class="highlight elixir hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> *</span><br><span class="line"> * 功能描述: </span><br><span class="line"> *</span><br><span class="line"> * <span class="hljs-variable">@param</span>: <span class="hljs-variable">$param</span>$</span><br><span class="line"> * <span class="hljs-variable">@return</span>: <span class="hljs-variable">$return</span>$</span><br><span class="line"> * <span class="hljs-variable">@auther</span>: <span class="hljs-variable">$user</span>$</span><br><span class="line"> * <span class="hljs-variable">@date</span>: <span class="hljs-variable">$date</span><span class="hljs-variable">$ </span><span class="hljs-variable">$time</span>$</span><br><span class="line"> *<span class="hljs-regexp">/</span></span><br></pre></td></tr></table></figure>

<p>4.点击Define，勾选Java<br><img src="/images/pasted-180.png" alt="upload successful"><br>5.点击Edit variables编辑变量，设置如下，点击Ok–&gt;Apply完成设置。 </p>
<p><img src="/images/pasted-181.png" alt="upload successful"><br>6.输入“<code>/**</code>”，然后按Tab键即可生成注释，如下图。注意此方式有个缺点，需要在方法内部生成，否则@param为null。 </p>
<p><img src="/images/pasted-182.png" alt="upload successful"></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-11T14:16:00.000Z">2019-10-11</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    13 分钟 read (About 1893 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/11/lombok注解介绍/">lombok注解介绍</a>
            
        </h1>
        <div class="content">
            <p>lombok是一个可以帮助我们简化java代码编写的工具类，尤其是简化javabean的编写，即通过采用注解的方式，消除代码中的构造方法，getter/setter等代码，使我们写的类更加简洁，当然，这带来的副作用就是不易阅读…不过，还是能看得懂吧，废话不多说，先看一下lombok支持的一些常见的注解。</p>
<p> 1 @NonNull<br> 2 @Cleanup<br> 3 @Getter/@Setter<br> 4 @ToString<br> 5 @EqualsAndHashCode<br> 6 @NoArgsConstructor/@RequiredArgsConstructor/@AllArgsConstructor<br> 7 @Data<br> 8 @Value<br> 9 @SneakyThrows<br>10 @Synchronized<br>11 @Log</p>
<ul>
<li>@NonNull<br>这个注解可以用在成员方法或者构造方法的参数前面，会自动产生一个关于此参数的非空检查，如果参数为空，则抛出一个空指针异常，举个例子来看看：</li>
</ul>
<figure class="highlight less hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//成员方法参数加上@NonNull注解</span></span><br><span class="line"><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">getName</span>(<span class="hljs-variable">@NonNull</span> Person p)&#123;</span><br><span class="line">    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getName</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实际效果相当于：</p>
<figure class="highlight less hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">getName</span>(<span class="hljs-variable">@NonNull</span> Person p)&#123;</span><br><span class="line">    <span class="hljs-selector-tag">if</span>(p==null)&#123;</span><br><span class="line">        <span class="hljs-selector-tag">throw</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">NullPointerException</span>(<span class="hljs-string">"person"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getName</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>用在构造方法的参数上效果类似，就不再举例子了。</p>
<ul>
<li>@Cleanup<br>这个注解用在变量前面，可以保证此变量代表的资源会被自动关闭，默认是调用资源的close()方法，如果该资源有其它关闭方法，可使用@Cleanup(“methodName”)来指定要调用的方法，就用输入输出流来举个例子吧：</li>
</ul>
<figure class="highlight d hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(String[] args) throws IOException &#123;</span><br><span class="line">     <span class="hljs-keyword">@Cleanup</span> InputStream <span class="hljs-keyword">in</span> = <span class="hljs-keyword">new</span> FileInputStream(args[<span class="hljs-number">0</span>]);</span><br><span class="line">     <span class="hljs-keyword">@Cleanup</span> OutputStream <span class="hljs-keyword">out</span> = <span class="hljs-keyword">new</span> FileOutputStream(args[<span class="hljs-number">1</span>]);</span><br><span class="line">     <span class="hljs-keyword">byte</span>[] b = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span>];</span><br><span class="line">     <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;</span><br><span class="line">       <span class="hljs-keyword">int</span> r = <span class="hljs-keyword">in</span>.read(b);</span><br><span class="line">       <span class="hljs-keyword">if</span> (r == -<span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;</span><br><span class="line">       <span class="hljs-keyword">out</span>.write(b, <span class="hljs-number">0</span>, r);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p> 实际效果相当于：</p>
 <figure class="highlight cs hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>) throws IOException</span> &#123;</span><br><span class="line">     InputStream <span class="hljs-keyword">in</span> = <span class="hljs-keyword">new</span> FileInputStream(args[<span class="hljs-number">0</span>]);</span><br><span class="line">     <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">       OutputStream <span class="hljs-keyword">out</span> = <span class="hljs-keyword">new</span> FileOutputStream(args[<span class="hljs-number">1</span>]);</span><br><span class="line">       <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">         <span class="hljs-keyword">byte</span>[] b = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">10000</span>];</span><br><span class="line">         <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;</span><br><span class="line">           <span class="hljs-keyword">int</span> r = <span class="hljs-keyword">in</span>.read(b);</span><br><span class="line">           <span class="hljs-keyword">if</span> (r == <span class="hljs-number">-1</span>) <span class="hljs-keyword">break</span>;</span><br><span class="line">           <span class="hljs-keyword">out</span>.write(b, <span class="hljs-number">0</span>, r);</span><br><span class="line">         &#125;</span><br><span class="line">       &#125; <span class="hljs-keyword">finally</span> &#123;</span><br><span class="line">         <span class="hljs-keyword">if</span> (<span class="hljs-keyword">out</span> != <span class="hljs-literal">null</span>) &#123;</span><br><span class="line">           <span class="hljs-keyword">out</span>.close();</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125; <span class="hljs-keyword">finally</span> &#123;</span><br><span class="line">       <span class="hljs-keyword">if</span> (<span class="hljs-keyword">in</span> != <span class="hljs-literal">null</span>) &#123;</span><br><span class="line">         <span class="hljs-keyword">in</span>.close();</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>是不是简化了很多。</p>
<ul>
<li>@Getter/@Setter<br>这一对注解从名字上就很好理解，用在成员变量前面，相当于为成员变量生成对应的get和set方法，同时还可以为生成的方法指定访问修饰符，当然，默认为public，直接来看下面的简单的例子：</li>
</ul>
<figure class="highlight less hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">Programmer</span>&#123;</span><br><span class="line">    <span class="hljs-variable">@Getter</span></span><br><span class="line">    <span class="hljs-variable">@Setter</span></span><br><span class="line">    private String name;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-variable">@Setter</span>(AccessLevel.PROTECTED)</span><br><span class="line">    private int age;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-variable">@Getter</span>(AccessLevel.PUBLIC)</span><br><span class="line">    private String language;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实际效果相当于：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Programmer</span>&#123;</span></span><br><span class="line">    <span class="hljs-keyword">private</span> String name;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;</span><br><span class="line">    <span class="hljs-keyword">private</span> String language;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> age)</span></span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getLanguage</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> language;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这两个注解还可以直接用在类上，可以为此类里的所有非静态成员变量生成对应的get和set方法。</p>
<ul>
<li><p>@ToString/@EqualsAndHashCode<br>这两个注解也比较好理解，就是生成toString，equals和hashcode方法，同时后者还会生成一个canEqual方法，用于判断某个对象是否是当前类的实例，生成方法时只会使用类中的非静态和非transient成员变量，这些都比较好理解，就不举例子了。<br>当然，这两个注解也可以添加限制条件，例如用@ToString(exclude={“param1”，“param2”})来排除param1和param2两个成员变量，或者用@ToString(of={“param1”，“param2”})来指定使用param1和param2两个成员变量，@EqualsAndHashCode注解也有同样的用法。</p>
</li>
<li><p>@NoArgsConstructor/@RequiredArgsConstructor /@AllArgsConstructor<br>这三个注解都是用在类上的，第一个和第三个都很好理解，就是为该类产生无参的构造方法和包含所有参数的构造方法，第二个注解则使用类中所有带有@NonNull注解的或者带有final修饰的成员变量生成对应的构造方法，当然，和前面几个注解一样，成员变量都是非静态的，另外，如果类中含有final修饰的成员变量，是无法使用@NoArgsConstructor注解的。<br>三个注解都可以指定生成的构造方法的访问权限，同时，第二个注解还可以用@RequiredArgsConstructor(staticName=”methodName”)的形式生成一个指定名称的静态方法，返回一个调用相应的构造方法产生的对象，下面来看一个生动鲜活的例子：</p>
</li>
</ul>
<figure class="highlight less hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-variable">@RequiredArgsConstructor</span>(staticName = <span class="hljs-string">"sunsfan"</span>)</span><br><span class="line"><span class="hljs-variable">@AllArgsConstructor</span>(access = AccessLevel.PROTECTED)</span><br><span class="line"><span class="hljs-variable">@NoArgsConstructor</span></span><br><span class="line">public class Shape &#123;</span><br><span class="line">    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">x</span>;</span><br><span class="line">    @<span class="hljs-selector-tag">NonNull</span></span><br><span class="line">    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">double</span> <span class="hljs-selector-tag">y</span>;</span><br><span class="line">    @<span class="hljs-selector-tag">NonNull</span></span><br><span class="line">    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">name</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实际效果相当于：</p>
<figure class="highlight fortran hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-built_in">Shape</span> &#123;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> x;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> y;</span><br><span class="line">    <span class="hljs-keyword">private</span> String <span class="hljs-keyword">name</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-built_in">Shape</span>()&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">Shape</span>(<span class="hljs-built_in">int</span> x,<span class="hljs-keyword">double</span> y,String <span class="hljs-keyword">name</span>)&#123;</span><br><span class="line">        this.x = x;</span><br><span class="line">        this.y = y;</span><br><span class="line">        this.<span class="hljs-keyword">name</span> = <span class="hljs-keyword">name</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-built_in">Shape</span>(<span class="hljs-keyword">double</span> y,String <span class="hljs-keyword">name</span>)&#123;</span><br><span class="line">        this.y = y;</span><br><span class="line">        this.<span class="hljs-keyword">name</span> = <span class="hljs-keyword">name</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> static <span class="hljs-built_in">Shape</span> sunsfan(<span class="hljs-keyword">double</span> y,String <span class="hljs-keyword">name</span>)&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> new <span class="hljs-built_in">Shape</span>(y,<span class="hljs-keyword">name</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>@Data/@Value<br>@Data注解综合了3,4,5和6里面的@RequiredArgsConstructor注解，其中@RequiredArgsConstructor使用了类中的带有@NonNull注解的或者final修饰的成员变量，它可以使用@Data(staticConstructor=”methodName”)来生成一个静态方法，返回一个调用相应的构造方法产生的对象。这个例子就也省略了吧…<br>@Value注解和@Data类似，区别在于它会把所有成员变量默认定义为private final修饰，并且不会生成set方法。</p>
</li>
<li><p>@SneakyThrows<br>这个注解用在方法上，可以将方法中的代码用try-catch语句包裹起来，捕获异常并在catch中用Lombok.sneakyThrow(e)把异常抛出，可以使用@SneakyThrows(Exception.class)的形式指定抛出哪种异常，很简单的注解，直接看个例子：</p>
</li>
</ul>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SneakyThrows</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="hljs-meta">@SneakyThrows</span>(UnsupportedEncodingException.class)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">utf8ToString</span><span class="hljs-params">(<span class="hljs-keyword">byte</span>[] bytes)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> String(bytes, <span class="hljs-string">"UTF-8"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@SneakyThrows</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Throwable();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实际效果相当于：</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SneakyThrows</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="hljs-meta">@SneakyThrows</span>(UnsupportedEncodingException.class)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">utf8ToString</span><span class="hljs-params">(<span class="hljs-keyword">byte</span>[] bytes)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">try</span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> String(bytes, <span class="hljs-string">"UTF-8"</span>);</span><br><span class="line">        &#125;<span class="hljs-keyword">catch</span>(UnsupportedEncodingException uee)&#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> Lombok.sneakyThrow(uee);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@SneakyThrows</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">try</span>&#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Throwable();</span><br><span class="line">        &#125;<span class="hljs-keyword">catch</span>(Throwable t)&#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> Lombok.sneakyThrow(t);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>@Synchronized<br>这个注解用在类方法或者实例方法上，效果和synchronized关键字相同，区别在于锁对象不同，对于类方法和实例方法，synchronized关键字的锁对象分别是类的class对象和this对象，而@Synchronized得锁对象分别是私有静态final对象LOCK和私有final对象LOCK和私有final对象lock，当然，也可以自己指定锁对象，例子也很简单，往下看：</li>
</ul>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Synchronized</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Object readLock = <span class="hljs-keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Synchronized</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">hello</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="hljs-string">"world"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Synchronized</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">answerToLife</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-number">42</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Synchronized</span>(<span class="hljs-string">"readLock"</span>)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="hljs-string">"bar"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实际效果相当于：</p>
<figure class="highlight processing hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> class Synchronized &#123;</span><br><span class="line">   <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">Object</span> $LOCK = <span class="hljs-keyword">new</span> <span class="hljs-keyword">Object</span>[<span class="hljs-number">0</span>];</span><br><span class="line">   <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">Object</span> $lock = <span class="hljs-keyword">new</span> <span class="hljs-keyword">Object</span>[<span class="hljs-number">0</span>];</span><br><span class="line">   <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">Object</span> readLock = <span class="hljs-keyword">new</span> <span class="hljs-keyword">Object</span>();</span><br><span class="line"></span><br><span class="line">   <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> hello() &#123;</span><br><span class="line">     <span class="hljs-keyword">synchronized</span>($LOCK) &#123;</span><br><span class="line">       System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"world"</span>);</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> answerToLife() &#123;</span><br><span class="line">     <span class="hljs-keyword">synchronized</span>($lock) &#123;</span><br><span class="line">       <span class="hljs-keyword">return</span> <span class="hljs-number">42</span>;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> foo() &#123;</span><br><span class="line">     <span class="hljs-keyword">synchronized</span>(readLock) &#123;</span><br><span class="line">       System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"bar"</span>);</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>@Log</li>
</ul>
<p>这个注解用在类上，可以省去从日志工厂生成日志对象这一步，直接进行日志记录，具体注解根据日志工具的不同而不同，同时，可以在注解中使用topic来指定生成log对象时的类名。不同的日志注解总结如下(上面是注解，下面是实际作用)：</p>
<figure class="highlight d hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">@CommonsLog</span></span><br><span class="line"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> org.apache.commons.logging.Log log = org.apache.commons.logging.LogFactory.getLog(LogExample.<span class="hljs-keyword">class</span>);</span><br><span class="line"><span class="hljs-keyword">@JBossLog</span></span><br><span class="line"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> org.jboss.logging.Logger log = org.jboss.logging.Logger.getLogger(LogExample.<span class="hljs-keyword">class</span>);</span><br><span class="line"><span class="hljs-keyword">@Log</span></span><br><span class="line"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> java.util.logging.Logger log = java.util.logging.Logger.getLogger(LogExample.<span class="hljs-keyword">class</span>.getName());</span><br><span class="line"><span class="hljs-keyword">@Log4j</span></span><br><span class="line"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> org.apache.log4j.Logger log = org.apache.log4j.Logger.getLogger(LogExample.<span class="hljs-keyword">class</span>);</span><br><span class="line"><span class="hljs-keyword">@Log4j2</span></span><br><span class="line"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> org.apache.logging.log4j.Logger log = org.apache.logging.log4j.LogManager.getLogger(LogExample.<span class="hljs-keyword">class</span>);</span><br><span class="line"><span class="hljs-keyword">@Slf4j</span></span><br><span class="line"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(LogExample.<span class="hljs-keyword">class</span>);</span><br><span class="line"><span class="hljs-keyword">@XSlf4j</span></span><br><span class="line"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> org.slf4j.ext.XLogger log = org.slf4j.ext.XLoggerFactory.getXLogger(LogExample.<span class="hljs-keyword">class</span>);</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-11T13:47:00.000Z">2019-10-11</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 分钟 read (About 928 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/11/Builder/">@Builder</a>
            
        </h1>
        <div class="content">
            <p>lombok的@Builder实际是建造者模式的一个变种，所以在创建复杂对象时常使用</p>
<figure class="highlight fortran hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">import</span> lombok.Builder;</span><br><span class="line"><span class="hljs-keyword">import</span> lombok.<span class="hljs-keyword">Data</span>;</span><br><span class="line"></span><br><span class="line">@<span class="hljs-keyword">Data</span></span><br><span class="line">@Builder</span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> People &#123;</span><br><span class="line">    <span class="hljs-keyword">private</span> String <span class="hljs-keyword">name</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> String sex;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用了@Bulider和@Data注解后，就可以使用链式风格优雅地创建对象</p>
<figure class="highlight cs hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TestLombok</span> &#123;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testBuilderAnnotation</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="line">        People luoTianyan = People.builder()</span><br><span class="line">                .sex(<span class="hljs-string">"female"</span>)</span><br><span class="line">                .age(<span class="hljs-number">23</span>)</span><br><span class="line">                .name(<span class="hljs-string">"LuoTianyan"</span>)</span><br><span class="line">                .build();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        System.<span class="hljs-keyword">out</span>.println(luoTianyan.toString());</span><br><span class="line">        <span class="hljs-comment">//People(name=LuoTianyan, sex=female, age=23)</span></span><br><span class="line"></span><br><span class="line">        People people = <span class="hljs-keyword">new</span> People(<span class="hljs-string">"LuoTianyan"</span>,<span class="hljs-string">"female"</span>,<span class="hljs-number">23</span>);</span><br><span class="line">        System.<span class="hljs-keyword">out</span>.println(luoTianyan.<span class="hljs-keyword">equals</span>(people));</span><br><span class="line">        <span class="hljs-comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>class People加上了@Builder和@Data注解后，多了一个静态内部类PeopleBuilder，People调用静态方法builder生成PeopleBuilder对象，PeopleBuilder对象可以使用”.属性名(属性值)”的方式进行属性设置，再调用build()方法就生成了People对象，并且如果两个People对象的属性如果相同，就会认为这两个对象相等，即重写了hashCode和equls方法。</p>
<p>可以利用Javap、cfr进行反编译该字节码；</p>
<p>这里就直接在Intellij IDEA下，查看反编译的文件People.class；</p>
<p>可以看到，生成的有：</p>
<p>Getter和Setter方法；<br>访问类型是private无参构造方法，访问类型为default的全部参数的构造方法；<br>重写hashCode、equals、toString方法，则People可以做为Map的key；<br>访问类型为public的静态方法builder，返回的是People.PeopleBuilder对象，非单例；<br>访问类型为public的静态内部类PeopleBuilder，该类主要有build方法，返回类型是People；<br>最后还有个canEqual方法，判断是否与People同类型。</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//</span></span><br><span class="line"><span class="hljs-comment">// Source code recreated from a .class file by IntelliJ IDEA</span></span><br><span class="line"><span class="hljs-comment">// (powered by Fernflower decompiler)</span></span><br><span class="line"><span class="hljs-comment">//</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">private</span> String name;</span><br><span class="line">    <span class="hljs-keyword">private</span> String sex;</span><br><span class="line">    <span class="hljs-keyword">private</span> int age;</span><br><span class="line"></span><br><span class="line">    People(String name, String sex, int age) &#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.name = name;</span><br><span class="line">        <span class="hljs-keyword">this</span>.sex = sex;</span><br><span class="line">        <span class="hljs-keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> static People.PeopleBuilder builder() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> new People.PeopleBuilder();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> People() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> String getName() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> String getSex() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> int getAge() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> void setName(String name) &#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> void setSex(String sex) &#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> void setAge(int age) &#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> boolean equals(Object o) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">this</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!(o instanceof People)) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            People other = (People)o;</span><br><span class="line">            <span class="hljs-keyword">if</span> (!other.canEqual(<span class="hljs-keyword">this</span>)) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                label39: &#123;</span><br><span class="line">                    Object <span class="hljs-keyword">this</span>$name = <span class="hljs-keyword">this</span>.getName();</span><br><span class="line">                    Object other$name = other.getName();</span><br><span class="line">                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>$name == <span class="hljs-literal">null</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (other$name == <span class="hljs-literal">null</span>) &#123;</span><br><span class="line">                            <span class="hljs-keyword">break</span> label39;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>$name.equals(other$name)) &#123;</span><br><span class="line">                        <span class="hljs-keyword">break</span> label39;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                Object <span class="hljs-keyword">this</span>$sex = <span class="hljs-keyword">this</span>.getSex();</span><br><span class="line">                Object other$sex = other.getSex();</span><br><span class="line">                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>$sex == <span class="hljs-literal">null</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (other$sex != <span class="hljs-literal">null</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>$sex.equals(other$sex)) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getAge() != other.getAge()) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">protected</span> boolean canEqual(Object other) &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> other instanceof People;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> int hashCode() &#123;</span><br><span class="line">        int PRIME = <span class="hljs-literal">true</span>;</span><br><span class="line">        int result = <span class="hljs-number">1</span>;</span><br><span class="line">        Object $name = <span class="hljs-keyword">this</span>.getName();</span><br><span class="line">        int result = result * <span class="hljs-number">59</span> + ($name == <span class="hljs-literal">null</span> ? <span class="hljs-number">43</span> : $name.hashCode());</span><br><span class="line">        Object $sex = <span class="hljs-keyword">this</span>.getSex();</span><br><span class="line">        result = result * <span class="hljs-number">59</span> + ($sex == <span class="hljs-literal">null</span> ? <span class="hljs-number">43</span> : $sex.hashCode());</span><br><span class="line">        result = result * <span class="hljs-number">59</span> + <span class="hljs-keyword">this</span>.getAge();</span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> String toString() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-string">"People(name="</span> + <span class="hljs-keyword">this</span>.getName() + <span class="hljs-string">", sex="</span> + <span class="hljs-keyword">this</span>.getSex() + <span class="hljs-string">", age="</span> + <span class="hljs-keyword">this</span>.getAge() + <span class="hljs-string">")"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> static <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PeopleBuilder</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">private</span> String name;</span><br><span class="line">        <span class="hljs-keyword">private</span> String sex;</span><br><span class="line">        <span class="hljs-keyword">private</span> int age;</span><br><span class="line"></span><br><span class="line">        PeopleBuilder() &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> People.PeopleBuilder name(String name) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.name = name;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> People.PeopleBuilder sex(String sex) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.sex = sex;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> People.PeopleBuilder age(int age) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.age = age;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> People build() &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> new People(<span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.sex, <span class="hljs-keyword">this</span>.age);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> String toString() &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-string">"People.PeopleBuilder(name="</span> + <span class="hljs-keyword">this</span>.name + <span class="hljs-string">", sex="</span> + <span class="hljs-keyword">this</span>.sex + <span class="hljs-string">", age="</span> + <span class="hljs-keyword">this</span>.age + <span class="hljs-string">")"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>自从Java 6起，Javac就支持“JSR 269 Pluggable Annotation Processing API”规范，只要程序实现了该API，就能在javac运行的时候得到调用。</p>
<p>Lombok就是一个实现了”JSR 269 API”的程序。在使用javac的过程中，它产生作用的具体流程如下：</p>
<p>Javac对源代码进行分析，生成一棵抽象语法树(AST)</p>
<p>Javac编译过程中调用实现了JSR 269的Lombok程序</p>
<p>此时Lombok就对第一步骤得到的AST进行处理，找到Lombok注解所在类对应的语法树(AST)，然后修改该语法树(AST)，增加Lombok注解定义的相应树节点</p>
<p>Javac使用修改后的抽象语法树(AST)生成字节码文件</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-11T11:16:00.000Z">2019-10-11</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    1 分钟 read (About 112 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/11/able-注解详解/">@Table 注解详解</a>
            
        </h1>
        <div class="content">
            <p>spring @Table注解<br>作用是 ： 声明此对象映射到数据库的数据表，通过它可以为实体指定表(talbe)</p>
<p>常用的两个属性：<br>1、name 用来命名 当前实体类 对应的数据库 表的名字<br><code>@Table(name = &quot;tab_user&quot;）</code></p>
<p>2、uniqueConstraints 用来批量命名唯一键<br>其作用等同于多个：@Column(unique = true)</p>
<p><code>@Table(name = &quot;tab_user&quot;,uniqueConstraints = {@UniqueConstraint(columnNames={&quot;uid&quot;,&quot;email&quot;})})</code></p>
<p><img src="/images/pasted-183.png" alt="upload successful"><br><img src="/images/pasted-184.png" alt="upload successful"></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-29T15:51:00.000Z">2019-09-29</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    10 分钟 read (About 1471 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/29/设计模式依赖倒置原则/">设计模式六大原则（3）：依赖倒置原则</a>
            
        </h1>
        <div class="content">
            <h3 id="定义："><a href="#定义：" class="headerlink" title="定义："></a>定义：</h3><p>高层模块不应该依赖低层模块，二者都应该依赖其抽象；抽象不应该依赖细节；细节应该依赖抽象。<br>问题由来：类A直接依赖类B，假如要将类A改为依赖类C，则必须通过修改类A的代码来达成。这种场景下，类A一般是高层模块，负责复杂的业务逻辑；类B和类C是低层模块，负责基本的原子操作；假如修改类A，会给程序带来不必要的风险。</p>
<h4 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h4><p>将类A修改为依赖接口I，类B和类C各自实现接口I，类A通过接口I间接与类B或者类C发生联系，则会大大降低修改类A的几率。  </p>
<pre><code>依赖倒置原则基于这样一个事实：相对于细节的多变性，抽象的东西要稳定的多。以抽象为基础搭建起来的架构比以细节为基础搭建起来的架构要稳定的多。在java中，抽象指的是接口或者抽象类，细节就是具体的实现类，使用接口或者抽象类的目的是制定好规范和契约，而不去涉及任何具体的操作，把展现细节的任务交给他们的实现类去完成。

依赖倒置原则的核心思想是面向接口编程，我们依旧用一个例子来说明面向接口编程比相对于面向实现编程好在什么地方。场景是这样的，母亲给孩子讲故事，只要给她一本书，她就可以照着书给孩子讲故事了。代码如下：</code></pre><figure class="highlight cs hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span>&#123;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getContent</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-string">"很久很久以前有一个阿拉伯的故事……"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-keyword">class</span> <span class="hljs-title">Mother</span>&#123;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">narrate</span>(<span class="hljs-params">Book book</span>)</span>&#123;</span><br><span class="line">		System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"妈妈开始讲故事"</span>);</span><br><span class="line">		System.<span class="hljs-keyword">out</span>.println(book.getContent());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Client</span>&#123;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>)</span>&#123;</span><br><span class="line">		Mother mother = <span class="hljs-keyword">new</span> Mother();</span><br><span class="line">		mother.narrate(<span class="hljs-keyword">new</span> Book());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>运行结果：</p>
<p>妈妈开始讲故事<br>很久很久以前有一个阿拉伯的故事……  </p>
<p>运行良好，假如有一天，需求变成这样：不是给书而是给一份报纸，让这位母亲讲一下报纸上的故事，报纸的代码如下：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Newspaper</span>&#123;</span></span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getContent</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-string">"林书豪38+7领导尼克斯击败湖人……"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这位母亲却办不到，因为她居然不会读报纸上的故事，这太荒唐了，只是将书换成报纸，居然必须要修改Mother才能读。假如以后需求换成杂志呢？换成网页呢？还要不断地修改Mother，这显然不是好的设计。原因就是Mother与Book之间的耦合性太高了，必须降低他们之间的耦合度才行。</p>
<p>我们引入一个抽象的接口IReader。读物，只要是带字的都属于读物：</p>
<figure class="highlight cs hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">interface</span> <span class="hljs-title">IReader</span>&#123;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getContent</span>(<span class="hljs-params"></span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Mother类与接口IReader发生依赖关系，而Book和Newspaper都属于读物的范畴，他们各自都去实现IReader接口，这样就符合依赖倒置原则了，代码修改为：</p>
<figure class="highlight haxe hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Newspaper</span> <span class="hljs-keyword"><span class="hljs-keyword">implements</span> <span class="hljs-type">IReader</span></span> </span>&#123;</span><br><span class="line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">String</span> getContent()&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-string">"林书豪17+9助尼克斯击败老鹰……"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span> <span class="hljs-keyword"><span class="hljs-keyword">implements</span> <span class="hljs-type">IReader</span></span></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">String</span> getContent()&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-string">"很久很久以前有一个阿拉伯的故事……"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mother</span></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">public</span> void narrate(IReader reader)&#123;</span><br><span class="line">		System.out.println(<span class="hljs-string">"妈妈开始讲故事"</span>);</span><br><span class="line">		System.out.println(reader.getContent());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Client</span></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> void main(<span class="hljs-keyword">String</span>[] args)&#123;</span><br><span class="line">		Mother mother = <span class="hljs-keyword">new</span> <span class="hljs-type">Mother</span>();</span><br><span class="line">		mother.narrate(<span class="hljs-keyword">new</span> <span class="hljs-type">Book</span>());</span><br><span class="line">		mother.narrate(<span class="hljs-keyword">new</span> <span class="hljs-type">Newspaper</span>());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p>妈妈开始讲故事<br>很久很久以前有一个阿拉伯的故事……<br>妈妈开始讲故事<br>林书豪17+9助尼克斯击败老鹰……</p>
<pre><code>这样修改后，无论以后怎样扩展Client类，都不需要再修改Mother类了。这只是一个简单的例子，实际情况中，代表高层模块的Mother类将负责完成主要的业务逻辑，一旦需要对它进行修改，引入错误的风险极大。所以遵循依赖倒置原则可以降低类之间的耦合性，提高系统的稳定性，降低修改程序造成的风险。

采用依赖倒置原则给多人并行开发带来了极大的便利，比如上例中，原本Mother类与Book类直接耦合时，Mother类必须等Book类编码完成后才可以进行编码，因为Mother类依赖于Book类。修改后的程序则可以同时开工，互不影响，因为Mother与Book类一点关系也没有。参与协作开发的人越多、项目越庞大，采用依赖导致原则的意义就越重大。现在很流行的TDD开发模式就是依赖倒置原则最成功的应用。

     传递依赖关系有三种方式，以上的例子中使用的方法是接口传递，另外还有两种传递方式：构造方法传递和setter方法传递，相信用过Spring框架的，对依赖的传递方式一定不会陌生。</code></pre><p>在实际编程中，我们一般需要做到如下3点：</p>
<p>低层模块尽量都要有抽象类或接口，或者两者都有。<br>变量的声明类型尽量是抽象类或接口。<br>使用继承时遵循里氏替换原则。<br>        依赖倒置原则的核心就是要我们面向接口编程，理解了面向接口编程，也就理解了依赖倒置。</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/categories/IT/page/2/">Previous</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/categories/IT/page/4/">Next</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/categories/IT/">1</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/categories/IT/page/2/">2</a></li>
            
            <li><a class="pagination-link is-current" href="/categories/IT/page/3/">3</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/categories/IT/page/4/">4</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/categories/IT/page/10/">10</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2020/05/29/@Select注解时使用in/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="文档标题">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-29T15:53:20.000Z">2020-05-29</time></div>
                    <a href="/2020/05/29/@Select注解时使用in/" class="title has-link-black-ter is-size-6 has-text-weight-normal">文档标题</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/JAVAEE/">JAVAEE</a> / <a class="has-link-grey -link" href="/categories/JAVAEE/MYBATIS/">MYBATIS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/29/mysql共享锁和排它锁/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="mysql共享锁和排它锁">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-29T15:35:53.000Z">2020-05-29</time></div>
                    <a href="/2020/05/29/mysql共享锁和排它锁/" class="title has-link-black-ter is-size-6 has-text-weight-normal">mysql共享锁和排它锁</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/JAVAEE/">JAVAEE</a> / <a class="has-link-grey -link" href="/categories/JAVAEE/MYSQL/">MYSQL</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/29/邮箱找回密码与二次认证/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-29T14:40:15.741Z">2020-05-29</time></div>
                    <a href="/2020/05/29/邮箱找回密码与二次认证/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/29/可视化面板/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-29T14:40:15.601Z">2020-05-29</time></div>
                    <a href="/2020/05/29/可视化面板/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/29/CS应用配置/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-29T14:40:15.581Z">2020-05-29</time></div>
                    <a href="/2020/05/29/CS应用配置/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/avatar.png" alt="Joe">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Joe
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Learning
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Your location</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <p class="title has-text-weight-normal">
                        220
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <p class="title has-text-weight-normal">
                        15
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <p class="title has-text-weight-normal">
                        100
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/ppoffice" target="_blank">
                Follow</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/joeithub">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
        
            
        
            
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/ES/">
            <span class="level-start">
                <span class="level-item">ES</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/GIT/">
            <span class="level-start">
                <span class="level-item">GIT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/IT/">
            <span class="level-start">
                <span class="level-item">IT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">194</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/">
            <span class="level-start">
                <span class="level-item">JAVAEE</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/JAVAEE/DESIGN-PATTERNS/">
            <span class="level-start">
                <span class="level-item">DESIGN PATTERNS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYBATIS/">
            <span class="level-start">
                <span class="level-item">MYBATIS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYSQL/">
            <span class="level-start">
                <span class="level-item">MYSQL</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/">
            <span class="level-start">
                <span class="level-item">SPRINGBOOT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/SECURITY/">
            <span class="level-start">
                <span class="level-item">SECURITY</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SYSTEM/">
            <span class="level-start">
                <span class="level-item">SYSTEM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/VIM/">
            <span class="level-start">
                <span class="level-item">VIM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/WORK/">
            <span class="level-start">
                <span class="level-item">WORK</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/office/">
            <span class="level-start">
                <span class="level-item">office</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/分类1/">
            <span class="level-start">
                <span class="level-item">分类1</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/电商/">
            <span class="level-start">
                <span class="level-item">电商</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Tag Cloud
        </h3>
        <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/CI-CD/" style="font-size: 10px;">CI/CD</a> <a href="/tags/ELASTICSEARCH/" style="font-size: 10px;">ELASTICSEARCH</a> <a href="/tags/EXCEL/" style="font-size: 10px;">EXCEL</a> <a href="/tags/Eureka/" style="font-size: 10.91px;">Eureka</a> <a href="/tags/GO/" style="font-size: 10px;">GO</a> <a href="/tags/IDEA/" style="font-size: 10.91px;">IDEA</a> <a href="/tags/IT/" style="font-size: 14.55px;">IT</a> <a href="/tags/JAVAEE/" style="font-size: 20px;">JAVAEE</a> <a href="/tags/JAVASCRIPT/" style="font-size: 11.82px;">JAVASCRIPT</a> <a href="/tags/JAVASE/" style="font-size: 10.91px;">JAVASE</a> <a href="/tags/LINUX/" style="font-size: 10px;">LINUX</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/MAC/" style="font-size: 10px;">MAC</a> <a href="/tags/MQ/" style="font-size: 11.82px;">MQ</a> <a href="/tags/ONOS/" style="font-size: 15.45px;">ONOS</a> <a href="/tags/OSGI/" style="font-size: 14.55px;">OSGI</a> <a href="/tags/OSI/" style="font-size: 10px;">OSI</a> <a href="/tags/PROTOCAL/" style="font-size: 10px;">PROTOCAL</a> <a href="/tags/PYTHON/" style="font-size: 10.91px;">PYTHON</a> <a href="/tags/Quartz/" style="font-size: 10px;">Quartz</a> <a href="/tags/RPM/" style="font-size: 10px;">RPM</a> <a href="/tags/Ribbon/" style="font-size: 10px;">Ribbon</a> <a href="/tags/SECURITY/" style="font-size: 10px;">SECURITY</a> <a href="/tags/SPRING-BOOT/" style="font-size: 10px;">SPRING-BOOT</a> <a href="/tags/SQL/" style="font-size: 12.73px;">SQL</a> <a href="/tags/SQLAlert/" style="font-size: 18.18px;">SQLAlert</a> <a href="/tags/SSO/" style="font-size: 10px;">SSO</a> <a href="/tags/StringRedisTemplate/" style="font-size: 10px;">StringRedisTemplate</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/TK-MYBATIS/" style="font-size: 10px;">TK.MYBATIS</a> <a href="/tags/UDP/" style="font-size: 10px;">UDP</a> <a href="/tags/annotation/" style="font-size: 15.45px;">annotation</a> <a href="/tags/bazel/" style="font-size: 10px;">bazel</a> <a href="/tags/beanutils/" style="font-size: 10px;">beanutils</a> <a href="/tags/centos/" style="font-size: 10px;">centos</a> <a href="/tags/classloader/" style="font-size: 10px;">classloader</a> <a href="/tags/computer/" style="font-size: 10px;">computer</a> <a href="/tags/cron/" style="font-size: 10px;">cron</a> <a href="/tags/debug/" style="font-size: 10px;">debug</a> <a href="/tags/docker/" style="font-size: 12.73px;">docker</a> <a href="/tags/druid/" style="font-size: 10px;">druid</a> <a href="/tags/elasticsearch/" style="font-size: 13.64px;">elasticsearch</a> <a href="/tags/enlink/" style="font-size: 10.91px;">enlink</a> <a href="/tags/fastjson/" style="font-size: 10px;">fastjson</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/gitlab/" style="font-size: 10px;">gitlab</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/hexo/" style="font-size: 12.73px;">hexo</a> <a href="/tags/idea/" style="font-size: 10.91px;">idea</a> <a href="/tags/interceptor/" style="font-size: 11.82px;">interceptor</a> <a href="/tags/jetty/" style="font-size: 10px;">jetty</a> <a href="/tags/jpa/" style="font-size: 10.91px;">jpa</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/karaf/" style="font-size: 11.82px;">karaf</a> <a href="/tags/keepalived/" style="font-size: 10px;">keepalived</a> <a href="/tags/linux-shell/" style="font-size: 15.45px;">linux-shell</a> <a href="/tags/listener/" style="font-size: 10px;">listener</a> <a href="/tags/loadbalanced/" style="font-size: 10px;">loadbalanced</a> <a href="/tags/logback/" style="font-size: 10px;">logback</a> <a href="/tags/login/" style="font-size: 10.91px;">login</a> <a href="/tags/lombok/" style="font-size: 11.82px;">lombok</a> <a href="/tags/mac/" style="font-size: 15.45px;">mac</a> <a href="/tags/markdown/" style="font-size: 11.82px;">markdown</a> <a href="/tags/mybatis/" style="font-size: 17.27px;">mybatis</a> <a href="/tags/mycat/" style="font-size: 10.91px;">mycat</a> <a href="/tags/mysql/" style="font-size: 16.36px;">mysql</a> <a href="/tags/network/" style="font-size: 12.73px;">network</a> <a href="/tags/oauth2/" style="font-size: 10px;">oauth2</a> <a href="/tags/pagehelper/" style="font-size: 10px;">pagehelper</a> <a href="/tags/postman/" style="font-size: 10px;">postman</a> <a href="/tags/python/" style="font-size: 11.82px;">python</a> <a href="/tags/rabbitMq/" style="font-size: 11.82px;">rabbitMq</a> <a href="/tags/redis/" style="font-size: 11.82px;">redis</a> <a href="/tags/redisTemplate/" style="font-size: 10px;">redisTemplate</a> <a href="/tags/reflection/" style="font-size: 11.82px;">reflection</a> <a href="/tags/registry-center/" style="font-size: 10px;">registry center</a> <a href="/tags/restTemplate/" style="font-size: 10px;">restTemplate</a> <a href="/tags/ribbon/" style="font-size: 10px;">ribbon</a> <a href="/tags/serialVersionUID/" style="font-size: 10px;">serialVersionUID</a> <a href="/tags/servlet/" style="font-size: 10.91px;">servlet</a> <a href="/tags/session/" style="font-size: 10.91px;">session</a> <a href="/tags/spring/" style="font-size: 15.45px;">spring</a> <a href="/tags/spring-task/" style="font-size: 12.73px;">spring task</a> <a href="/tags/springboot/" style="font-size: 19.09px;">springboot</a> <a href="/tags/swagger/" style="font-size: 10px;">swagger</a> <a href="/tags/webClient/" style="font-size: 10px;">webClient</a> <a href="/tags/yaml/" style="font-size: 10.91px;">yaml</a> <a href="/tags/事物/" style="font-size: 10px;">事物</a> <a href="/tags/全局异常/" style="font-size: 10px;">全局异常</a> <a href="/tags/分布式/" style="font-size: 10px;">分布式</a> <a href="/tags/抖音/" style="font-size: 10px;">抖音</a> <a href="/tags/文件服务器/" style="font-size: 10.91px;">文件服务器</a> <a href="/tags/日志/" style="font-size: 10px;">日志</a> <a href="/tags/时间转化/" style="font-size: 10px;">时间转化</a> <a href="/tags/标签1/" style="font-size: 10px;">标签1</a> <a href="/tags/消息队列/" style="font-size: 10px;">消息队列</a> <a href="/tags/淘宝/" style="font-size: 10px;">淘宝</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a> <a href="/tags/高可用/" style="font-size: 10px;">高可用</a>
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/05/">
                <span class="level-start">
                    <span class="level-item">五月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">10</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">四月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">三月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">13</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">十月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">28</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">九月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">40</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">八月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">13</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">七月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">66</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AOP/">
                        <span class="tag">AOP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CI-CD/">
                        <span class="tag">CI/CD</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ELASTICSEARCH/">
                        <span class="tag">ELASTICSEARCH</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/EXCEL/">
                        <span class="tag">EXCEL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Eureka/">
                        <span class="tag">Eureka</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GO/">
                        <span class="tag">GO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDEA/">
                        <span class="tag">IDEA</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IT/">
                        <span class="tag">IT</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVAEE/">
                        <span class="tag">JAVAEE</span>
                        <span class="tag is-grey">130</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASCRIPT/">
                        <span class="tag">JAVASCRIPT</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASE/">
                        <span class="tag">JAVASE</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LINUX/">
                        <span class="tag">LINUX</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MAC/">
                        <span class="tag">MAC</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MQ/">
                        <span class="tag">MQ</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ONOS/">
                        <span class="tag">ONOS</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSGI/">
                        <span class="tag">OSGI</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSI/">
                        <span class="tag">OSI</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PROTOCAL/">
                        <span class="tag">PROTOCAL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PYTHON/">
                        <span class="tag">PYTHON</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Quartz/">
                        <span class="tag">Quartz</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RPM/">
                        <span class="tag">RPM</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Ribbon/">
                        <span class="tag">Ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SECURITY/">
                        <span class="tag">SECURITY</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SPRING-BOOT/">
                        <span class="tag">SPRING-BOOT</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQL/">
                        <span class="tag">SQL</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQLAlert/">
                        <span class="tag">SQLAlert</span>
                        <span class="tag is-grey">13</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SSO/">
                        <span class="tag">SSO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/StringRedisTemplate/">
                        <span class="tag">StringRedisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TCP/">
                        <span class="tag">TCP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TK-MYBATIS/">
                        <span class="tag">TK.MYBATIS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UDP/">
                        <span class="tag">UDP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/annotation/">
                        <span class="tag">annotation</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/bazel/">
                        <span class="tag">bazel</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/beanutils/">
                        <span class="tag">beanutils</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/centos/">
                        <span class="tag">centos</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/classloader/">
                        <span class="tag">classloader</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/computer/">
                        <span class="tag">computer</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/cron/">
                        <span class="tag">cron</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/debug/">
                        <span class="tag">debug</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/docker/">
                        <span class="tag">docker</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/druid/">
                        <span class="tag">druid</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/elasticsearch/">
                        <span class="tag">elasticsearch</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/enlink/">
                        <span class="tag">enlink</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/fastjson/">
                        <span class="tag">fastjson</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/git/">
                        <span class="tag">git</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/gitlab/">
                        <span class="tag">gitlab</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/go/">
                        <span class="tag">go</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/hexo/">
                        <span class="tag">hexo</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/idea/">
                        <span class="tag">idea</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/interceptor/">
                        <span class="tag">interceptor</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jetty/">
                        <span class="tag">jetty</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jpa/">
                        <span class="tag">jpa</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/json/">
                        <span class="tag">json</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/karaf/">
                        <span class="tag">karaf</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/keepalived/">
                        <span class="tag">keepalived</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/linux-shell/">
                        <span class="tag">linux-shell</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/listener/">
                        <span class="tag">listener</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/loadbalanced/">
                        <span class="tag">loadbalanced</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/logback/">
                        <span class="tag">logback</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/login/">
                        <span class="tag">login</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/lombok/">
                        <span class="tag">lombok</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mac/">
                        <span class="tag">mac</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/markdown/">
                        <span class="tag">markdown</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mybatis/">
                        <span class="tag">mybatis</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mycat/">
                        <span class="tag">mycat</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mysql/">
                        <span class="tag">mysql</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/network/">
                        <span class="tag">network</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/oauth2/">
                        <span class="tag">oauth2</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pagehelper/">
                        <span class="tag">pagehelper</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/postman/">
                        <span class="tag">postman</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/rabbitMq/">
                        <span class="tag">rabbitMq</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redis/">
                        <span class="tag">redis</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redisTemplate/">
                        <span class="tag">redisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/reflection/">
                        <span class="tag">reflection</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/registry-center/">
                        <span class="tag">registry center</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/restTemplate/">
                        <span class="tag">restTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ribbon/">
                        <span class="tag">ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/serialVersionUID/">
                        <span class="tag">serialVersionUID</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/servlet/">
                        <span class="tag">servlet</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/session/">
                        <span class="tag">session</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring/">
                        <span class="tag">spring</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring-task/">
                        <span class="tag">spring task</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/springboot/">
                        <span class="tag">springboot</span>
                        <span class="tag is-grey">43</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/swagger/">
                        <span class="tag">swagger</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/webClient/">
                        <span class="tag">webClient</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/yaml/">
                        <span class="tag">yaml</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/事物/">
                        <span class="tag">事物</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/全局异常/">
                        <span class="tag">全局异常</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/分布式/">
                        <span class="tag">分布式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/抖音/">
                        <span class="tag">抖音</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/文件服务器/">
                        <span class="tag">文件服务器</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/日志/">
                        <span class="tag">日志</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/时间转化/">
                        <span class="tag">时间转化</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/标签1/">
                        <span class="tag">标签1</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/消息队列/">
                        <span class="tag">消息队列</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/淘宝/">
                        <span class="tag">淘宝</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/设计模式/">
                        <span class="tag">设计模式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/高可用/">
                        <span class="tag">高可用</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/avatar.png" alt="Joe">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Joe
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Learning
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Your location</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <p class="title has-text-weight-normal">
                        220
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <p class="title has-text-weight-normal">
                        15
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <p class="title has-text-weight-normal">
                        100
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/ppoffice" target="_blank">
                Follow</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/joeithub">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/ES/">
            <span class="level-start">
                <span class="level-item">ES</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/GIT/">
            <span class="level-start">
                <span class="level-item">GIT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/IT/">
            <span class="level-start">
                <span class="level-item">IT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">194</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/">
            <span class="level-start">
                <span class="level-item">JAVAEE</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/JAVAEE/DESIGN-PATTERNS/">
            <span class="level-start">
                <span class="level-item">DESIGN PATTERNS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYBATIS/">
            <span class="level-start">
                <span class="level-item">MYBATIS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYSQL/">
            <span class="level-start">
                <span class="level-item">MYSQL</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/">
            <span class="level-start">
                <span class="level-item">SPRINGBOOT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/SECURITY/">
            <span class="level-start">
                <span class="level-item">SECURITY</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SYSTEM/">
            <span class="level-start">
                <span class="level-item">SYSTEM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/VIM/">
            <span class="level-start">
                <span class="level-item">VIM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/WORK/">
            <span class="level-start">
                <span class="level-item">WORK</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/office/">
            <span class="level-start">
                <span class="level-item">office</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/分类1/">
            <span class="level-start">
                <span class="level-item">分类1</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/电商/">
            <span class="level-start">
                <span class="level-item">电商</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Tag Cloud
        </h3>
        <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/CI-CD/" style="font-size: 10px;">CI/CD</a> <a href="/tags/ELASTICSEARCH/" style="font-size: 10px;">ELASTICSEARCH</a> <a href="/tags/EXCEL/" style="font-size: 10px;">EXCEL</a> <a href="/tags/Eureka/" style="font-size: 10.91px;">Eureka</a> <a href="/tags/GO/" style="font-size: 10px;">GO</a> <a href="/tags/IDEA/" style="font-size: 10.91px;">IDEA</a> <a href="/tags/IT/" style="font-size: 14.55px;">IT</a> <a href="/tags/JAVAEE/" style="font-size: 20px;">JAVAEE</a> <a href="/tags/JAVASCRIPT/" style="font-size: 11.82px;">JAVASCRIPT</a> <a href="/tags/JAVASE/" style="font-size: 10.91px;">JAVASE</a> <a href="/tags/LINUX/" style="font-size: 10px;">LINUX</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/MAC/" style="font-size: 10px;">MAC</a> <a href="/tags/MQ/" style="font-size: 11.82px;">MQ</a> <a href="/tags/ONOS/" style="font-size: 15.45px;">ONOS</a> <a href="/tags/OSGI/" style="font-size: 14.55px;">OSGI</a> <a href="/tags/OSI/" style="font-size: 10px;">OSI</a> <a href="/tags/PROTOCAL/" style="font-size: 10px;">PROTOCAL</a> <a href="/tags/PYTHON/" style="font-size: 10.91px;">PYTHON</a> <a href="/tags/Quartz/" style="font-size: 10px;">Quartz</a> <a href="/tags/RPM/" style="font-size: 10px;">RPM</a> <a href="/tags/Ribbon/" style="font-size: 10px;">Ribbon</a> <a href="/tags/SECURITY/" style="font-size: 10px;">SECURITY</a> <a href="/tags/SPRING-BOOT/" style="font-size: 10px;">SPRING-BOOT</a> <a href="/tags/SQL/" style="font-size: 12.73px;">SQL</a> <a href="/tags/SQLAlert/" style="font-size: 18.18px;">SQLAlert</a> <a href="/tags/SSO/" style="font-size: 10px;">SSO</a> <a href="/tags/StringRedisTemplate/" style="font-size: 10px;">StringRedisTemplate</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/TK-MYBATIS/" style="font-size: 10px;">TK.MYBATIS</a> <a href="/tags/UDP/" style="font-size: 10px;">UDP</a> <a href="/tags/annotation/" style="font-size: 15.45px;">annotation</a> <a href="/tags/bazel/" style="font-size: 10px;">bazel</a> <a href="/tags/beanutils/" style="font-size: 10px;">beanutils</a> <a href="/tags/centos/" style="font-size: 10px;">centos</a> <a href="/tags/classloader/" style="font-size: 10px;">classloader</a> <a href="/tags/computer/" style="font-size: 10px;">computer</a> <a href="/tags/cron/" style="font-size: 10px;">cron</a> <a href="/tags/debug/" style="font-size: 10px;">debug</a> <a href="/tags/docker/" style="font-size: 12.73px;">docker</a> <a href="/tags/druid/" style="font-size: 10px;">druid</a> <a href="/tags/elasticsearch/" style="font-size: 13.64px;">elasticsearch</a> <a href="/tags/enlink/" style="font-size: 10.91px;">enlink</a> <a href="/tags/fastjson/" style="font-size: 10px;">fastjson</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/gitlab/" style="font-size: 10px;">gitlab</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/hexo/" style="font-size: 12.73px;">hexo</a> <a href="/tags/idea/" style="font-size: 10.91px;">idea</a> <a href="/tags/interceptor/" style="font-size: 11.82px;">interceptor</a> <a href="/tags/jetty/" style="font-size: 10px;">jetty</a> <a href="/tags/jpa/" style="font-size: 10.91px;">jpa</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/karaf/" style="font-size: 11.82px;">karaf</a> <a href="/tags/keepalived/" style="font-size: 10px;">keepalived</a> <a href="/tags/linux-shell/" style="font-size: 15.45px;">linux-shell</a> <a href="/tags/listener/" style="font-size: 10px;">listener</a> <a href="/tags/loadbalanced/" style="font-size: 10px;">loadbalanced</a> <a href="/tags/logback/" style="font-size: 10px;">logback</a> <a href="/tags/login/" style="font-size: 10.91px;">login</a> <a href="/tags/lombok/" style="font-size: 11.82px;">lombok</a> <a href="/tags/mac/" style="font-size: 15.45px;">mac</a> <a href="/tags/markdown/" style="font-size: 11.82px;">markdown</a> <a href="/tags/mybatis/" style="font-size: 17.27px;">mybatis</a> <a href="/tags/mycat/" style="font-size: 10.91px;">mycat</a> <a href="/tags/mysql/" style="font-size: 16.36px;">mysql</a> <a href="/tags/network/" style="font-size: 12.73px;">network</a> <a href="/tags/oauth2/" style="font-size: 10px;">oauth2</a> <a href="/tags/pagehelper/" style="font-size: 10px;">pagehelper</a> <a href="/tags/postman/" style="font-size: 10px;">postman</a> <a href="/tags/python/" style="font-size: 11.82px;">python</a> <a href="/tags/rabbitMq/" style="font-size: 11.82px;">rabbitMq</a> <a href="/tags/redis/" style="font-size: 11.82px;">redis</a> <a href="/tags/redisTemplate/" style="font-size: 10px;">redisTemplate</a> <a href="/tags/reflection/" style="font-size: 11.82px;">reflection</a> <a href="/tags/registry-center/" style="font-size: 10px;">registry center</a> <a href="/tags/restTemplate/" style="font-size: 10px;">restTemplate</a> <a href="/tags/ribbon/" style="font-size: 10px;">ribbon</a> <a href="/tags/serialVersionUID/" style="font-size: 10px;">serialVersionUID</a> <a href="/tags/servlet/" style="font-size: 10.91px;">servlet</a> <a href="/tags/session/" style="font-size: 10.91px;">session</a> <a href="/tags/spring/" style="font-size: 15.45px;">spring</a> <a href="/tags/spring-task/" style="font-size: 12.73px;">spring task</a> <a href="/tags/springboot/" style="font-size: 19.09px;">springboot</a> <a href="/tags/swagger/" style="font-size: 10px;">swagger</a> <a href="/tags/webClient/" style="font-size: 10px;">webClient</a> <a href="/tags/yaml/" style="font-size: 10.91px;">yaml</a> <a href="/tags/事物/" style="font-size: 10px;">事物</a> <a href="/tags/全局异常/" style="font-size: 10px;">全局异常</a> <a href="/tags/分布式/" style="font-size: 10px;">分布式</a> <a href="/tags/抖音/" style="font-size: 10px;">抖音</a> <a href="/tags/文件服务器/" style="font-size: 10.91px;">文件服务器</a> <a href="/tags/日志/" style="font-size: 10px;">日志</a> <a href="/tags/时间转化/" style="font-size: 10px;">时间转化</a> <a href="/tags/标签1/" style="font-size: 10px;">标签1</a> <a href="/tags/消息队列/" style="font-size: 10px;">消息队列</a> <a href="/tags/淘宝/" style="font-size: 10px;">淘宝</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a> <a href="/tags/高可用/" style="font-size: 10px;">高可用</a>
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/05/">
                <span class="level-start">
                    <span class="level-item">五月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">10</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">四月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">三月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">13</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">十月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">28</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">九月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">40</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">八月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">13</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">七月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">66</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AOP/">
                        <span class="tag">AOP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CI-CD/">
                        <span class="tag">CI/CD</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ELASTICSEARCH/">
                        <span class="tag">ELASTICSEARCH</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/EXCEL/">
                        <span class="tag">EXCEL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Eureka/">
                        <span class="tag">Eureka</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GO/">
                        <span class="tag">GO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDEA/">
                        <span class="tag">IDEA</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IT/">
                        <span class="tag">IT</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVAEE/">
                        <span class="tag">JAVAEE</span>
                        <span class="tag is-grey">130</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASCRIPT/">
                        <span class="tag">JAVASCRIPT</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASE/">
                        <span class="tag">JAVASE</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LINUX/">
                        <span class="tag">LINUX</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MAC/">
                        <span class="tag">MAC</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MQ/">
                        <span class="tag">MQ</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ONOS/">
                        <span class="tag">ONOS</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSGI/">
                        <span class="tag">OSGI</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSI/">
                        <span class="tag">OSI</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PROTOCAL/">
                        <span class="tag">PROTOCAL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PYTHON/">
                        <span class="tag">PYTHON</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Quartz/">
                        <span class="tag">Quartz</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RPM/">
                        <span class="tag">RPM</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Ribbon/">
                        <span class="tag">Ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SECURITY/">
                        <span class="tag">SECURITY</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SPRING-BOOT/">
                        <span class="tag">SPRING-BOOT</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQL/">
                        <span class="tag">SQL</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQLAlert/">
                        <span class="tag">SQLAlert</span>
                        <span class="tag is-grey">13</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SSO/">
                        <span class="tag">SSO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/StringRedisTemplate/">
                        <span class="tag">StringRedisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TCP/">
                        <span class="tag">TCP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TK-MYBATIS/">
                        <span class="tag">TK.MYBATIS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UDP/">
                        <span class="tag">UDP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/annotation/">
                        <span class="tag">annotation</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/bazel/">
                        <span class="tag">bazel</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/beanutils/">
                        <span class="tag">beanutils</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/centos/">
                        <span class="tag">centos</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/classloader/">
                        <span class="tag">classloader</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/computer/">
                        <span class="tag">computer</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/cron/">
                        <span class="tag">cron</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/debug/">
                        <span class="tag">debug</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/docker/">
                        <span class="tag">docker</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/druid/">
                        <span class="tag">druid</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/elasticsearch/">
                        <span class="tag">elasticsearch</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/enlink/">
                        <span class="tag">enlink</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/fastjson/">
                        <span class="tag">fastjson</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/git/">
                        <span class="tag">git</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/gitlab/">
                        <span class="tag">gitlab</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/go/">
                        <span class="tag">go</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/hexo/">
                        <span class="tag">hexo</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/idea/">
                        <span class="tag">idea</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/interceptor/">
                        <span class="tag">interceptor</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jetty/">
                        <span class="tag">jetty</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jpa/">
                        <span class="tag">jpa</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/json/">
                        <span class="tag">json</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/karaf/">
                        <span class="tag">karaf</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/keepalived/">
                        <span class="tag">keepalived</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/linux-shell/">
                        <span class="tag">linux-shell</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/listener/">
                        <span class="tag">listener</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/loadbalanced/">
                        <span class="tag">loadbalanced</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/logback/">
                        <span class="tag">logback</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/login/">
                        <span class="tag">login</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/lombok/">
                        <span class="tag">lombok</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mac/">
                        <span class="tag">mac</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/markdown/">
                        <span class="tag">markdown</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mybatis/">
                        <span class="tag">mybatis</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mycat/">
                        <span class="tag">mycat</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mysql/">
                        <span class="tag">mysql</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/network/">
                        <span class="tag">network</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/oauth2/">
                        <span class="tag">oauth2</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pagehelper/">
                        <span class="tag">pagehelper</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/postman/">
                        <span class="tag">postman</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/rabbitMq/">
                        <span class="tag">rabbitMq</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redis/">
                        <span class="tag">redis</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redisTemplate/">
                        <span class="tag">redisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/reflection/">
                        <span class="tag">reflection</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/registry-center/">
                        <span class="tag">registry center</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/restTemplate/">
                        <span class="tag">restTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ribbon/">
                        <span class="tag">ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/serialVersionUID/">
                        <span class="tag">serialVersionUID</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/servlet/">
                        <span class="tag">servlet</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/session/">
                        <span class="tag">session</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring/">
                        <span class="tag">spring</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring-task/">
                        <span class="tag">spring task</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/springboot/">
                        <span class="tag">springboot</span>
                        <span class="tag is-grey">43</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/swagger/">
                        <span class="tag">swagger</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/webClient/">
                        <span class="tag">webClient</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/yaml/">
                        <span class="tag">yaml</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/事物/">
                        <span class="tag">事物</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/全局异常/">
                        <span class="tag">全局异常</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/分布式/">
                        <span class="tag">分布式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/抖音/">
                        <span class="tag">抖音</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/文件服务器/">
                        <span class="tag">文件服务器</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/日志/">
                        <span class="tag">日志</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/时间转化/">
                        <span class="tag">时间转化</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/标签1/">
                        <span class="tag">标签1</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/消息队列/">
                        <span class="tag">消息队列</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/淘宝/">
                        <span class="tag">淘宝</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/设计模式/">
                        <span class="tag">设计模式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/高可用/">
                        <span class="tag">高可用</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="Learning" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 Joe Tong&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh_CN");</script>

<script>
var IcarusThemeSettings = {
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>



    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>