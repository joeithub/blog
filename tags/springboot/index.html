<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.9.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>Tag: springboot - Learning</title>


    <meta name="description" content="private learning">
<meta property="og:type" content="website">
<meta property="og:title" content="Learning">
<meta property="og:url" content="/blog/tags/springboot/index.html">
<meta property="og:site_name" content="Learning">
<meta property="og:description" content="private learning">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="/images/og_image.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Learning">
<meta name="twitter:description" content="private learning">
<meta name="twitter:image" content="/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="Learning" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Categories</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    <div class="card-content">
        <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/tags">Tags</a></li>
            <li class="is-active"><a href="#" aria-current="page">springboot</a></li>
        </ul>
        </nav>
    </div>
</div>

    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-15T13:39:00.000Z">2019-10-15</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 分钟 read (About 1146 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/15/springboot-session/">springboot session</a>
            
        </h1>
        <div class="content">
            <p>SpringBoot+SpringSession+Redis实现session共享及单点登录<br>最近在学习springboot，session这个点一直困扰了我好久，今天把这些天踩的坑分享出来吧，希望能帮助更多的人。</p>
<p>一、pom.xml配置 </p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.session<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-session-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>二、application.properties的redis配置</p>
<figure class="highlight stylus hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#redis</span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.host</span>=<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span></span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.port</span>=<span class="hljs-number">6379</span></span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.password</span>=<span class="hljs-number">123456</span></span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.pool</span><span class="hljs-selector-class">.max-idle</span>=<span class="hljs-number">8</span></span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.pool</span><span class="hljs-selector-class">.min-idle</span>=<span class="hljs-number">0</span></span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.pool</span><span class="hljs-selector-class">.max-active</span>=<span class="hljs-number">8</span></span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.pool</span><span class="hljs-selector-class">.max-wait</span>=-<span class="hljs-number">1</span></span><br><span class="line">#超时一定要大于<span class="hljs-number">0</span></span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.timeout</span>=<span class="hljs-number">3000</span></span><br><span class="line">spring<span class="hljs-selector-class">.session</span><span class="hljs-selector-class">.store-type</span>=redis</span><br></pre></td></tr></table></figure>

<p>在配置redis时需要确保redis安装正确，并且配置notify-keyspace-events Egx，spring.redis.timeout设置为大于0，我当时这里配置为0时springboot时启不起来。</p>
<p>三、编写登录状态拦截器RedisSessionInterceptor</p>
<figure class="highlight aspectj hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//拦截登录失效的请求</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RedisSessionInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">HandlerInterceptor</span></span></span><br><span class="line"><span class="hljs-class"></span>&#123;</span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> StringRedisTemplate redisTemplate;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> preHandle(HttpServletRequest request, HttpServletResponse response, Object <span class="hljs-keyword">handler</span>) <span class="hljs-keyword">throws</span> Exception</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-comment">//无论访问的地址是不是正确的，都进行登录验证，登录成功后的访问再进行分发，404的访问自然会进入到错误控制器中</span></span><br><span class="line">        HttpSession session = request.getSession();</span><br><span class="line">        <span class="hljs-keyword">if</span> (session.getAttribute(<span class="hljs-string">"loginUserId"</span>) != <span class="hljs-keyword">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="hljs-comment">//验证当前请求的session是否是已登录的session</span></span><br><span class="line">                String loginSessionId = redisTemplate.opsForValue().get(<span class="hljs-string">"loginUser:"</span> + (<span class="hljs-keyword">long</span>) session.getAttribute(<span class="hljs-string">"loginUserId"</span>));</span><br><span class="line">                <span class="hljs-keyword">if</span> (loginSessionId != <span class="hljs-keyword">null</span> &amp;&amp; loginSessionId.equals(session.getId()))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="hljs-keyword">catch</span> (Exception e)</span><br><span class="line">            &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        response401(response);</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> response401(HttpServletResponse response)</span><br><span class="line">    &#123;</span><br><span class="line">        response.setCharacterEncoding(<span class="hljs-string">"UTF-8"</span>);</span><br><span class="line">        response.setContentType(<span class="hljs-string">"application/json; charset=utf-8"</span>);</span><br><span class="line"> </span><br><span class="line">        <span class="hljs-keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            response.getWriter().print(JSON.toJSONString(<span class="hljs-keyword">new</span> ReturnData(StatusCode.NEED_LOGIN, <span class="hljs-string">""</span>, <span class="hljs-string">"用户未登录！"</span>)));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">catch</span> (IOException e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> postHandle(HttpServletRequest request, HttpServletResponse response, Object <span class="hljs-keyword">handler</span>, ModelAndView modelAndView) <span class="hljs-keyword">throws</span> Exception</span><br><span class="line">    &#123;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> afterCompletion(HttpServletRequest request, HttpServletResponse response, Object <span class="hljs-keyword">handler</span>, Exception ex) <span class="hljs-keyword">throws</span> Exception</span><br><span class="line">    &#123;</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>四、配置拦截器</p>
<figure class="highlight scala hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Configuration</span></span><br><span class="line">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WebSecurityConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">WebMvcConfigurerAdapter</span></span></span><br><span class="line"><span class="hljs-class"></span>&#123;</span><br><span class="line">    <span class="hljs-meta">@Bean</span></span><br><span class="line">    public <span class="hljs-type">RedisSessionInterceptor</span> getSessionInterceptor()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-type">RedisSessionInterceptor</span>();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    public void addInterceptors(<span class="hljs-type">InterceptorRegistry</span> registry)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-comment">//所有已api开头的访问都要进入RedisSessionInterceptor拦截器进行登录验证，并排除login接口(全路径)。必须写成链式，分别设置的话会创建多个拦截器。</span></span><br><span class="line">        <span class="hljs-comment">//必须写成getSessionInterceptor()，否则SessionInterceptor中的@Autowired会无效</span></span><br><span class="line">        registry.addInterceptor(getSessionInterceptor()).addPathPatterns(<span class="hljs-string">"/api/**"</span>).excludePathPatterns(<span class="hljs-string">"/api/user/login"</span>);</span><br><span class="line">        <span class="hljs-keyword">super</span>.addInterceptors(registry);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>五、登录控制器</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@RestController</span></span><br><span class="line"><span class="hljs-meta">@RequestMapping</span>(value = <span class="hljs-string">"/api/user"</span>)</span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginController</span></span></span><br><span class="line"><span class="hljs-class"></span>&#123;</span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> UserService userService;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> StringRedisTemplate redisTemplate;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@RequestMapping</span>(<span class="hljs-string">"/login"</span>)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> ReturnData <span class="hljs-title">login</span><span class="hljs-params">(HttpServletRequest request, String account, String password)</span></span></span><br><span class="line"><span class="hljs-function">    </span>&#123;</span><br><span class="line">        User user = userService.findUserByAccountAndPassword(account, password);</span><br><span class="line">        <span class="hljs-keyword">if</span> (user != <span class="hljs-keyword">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            HttpSession session = request.getSession();</span><br><span class="line">            session.setAttribute(<span class="hljs-string">"loginUserId"</span>, user.getUserId());</span><br><span class="line">            redisTemplate.opsForValue().set(<span class="hljs-string">"loginUser:"</span> + user.getUserId(), session.getId());</span><br><span class="line"> </span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ReturnData(StatusCode.REQUEST_SUCCESS, user, <span class="hljs-string">"登录成功！"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> MyException(StatusCode.ACCOUNT_OR_PASSWORD_ERROR, <span class="hljs-string">"账户名或密码错误！"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@RequestMapping</span>(value = <span class="hljs-string">"/getUserInfo"</span>)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> ReturnData <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">long</span> userId)</span></span></span><br><span class="line"><span class="hljs-function">    </span>&#123;</span><br><span class="line">        User user = userService.findUserByUserId(userId);</span><br><span class="line">        <span class="hljs-keyword">if</span> (user != <span class="hljs-keyword">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ReturnData(StatusCode.REQUEST_SUCCESS, user, <span class="hljs-string">"查询成功！"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> MyException(StatusCode.USER_NOT_EXIST, <span class="hljs-string">"用户不存在！"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>六、效果</p>
<p>我在浏览器上登录，然后获取用户信息，再在postman上登录相同的账号，浏览器再获取用户信息，就会提示401错误了，浏览器需要重新登录才能获取得到用户信息，同样，postman上登录的账号就失效了。</p>
<p>浏览器：</p>
<p><img src="/images/pasted-194.png" alt="upload successful"></p>
<p>postman：</p>
<p><img src="/images/pasted-195.png" alt="upload successful"></p>
<p>七、核心原理详解<br>分布式session需要解决两个难点：1、正确配置redis让springboot把session托管到redis服务器。2、单点登录。</p>
<p>1、redis：<br>redis需要能正确启动到出现如下效果才证明redis正常配置并启动</p>
<p><img src="/images/pasted-196.png" alt="upload successful"><br>同时还要保证配置正确</p>
<figure class="highlight less hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-variable">@EnableCaching</span></span><br><span class="line"><span class="hljs-variable">@EnableRedisHttpSession</span>(maxInactiveIntervalInSeconds = <span class="hljs-number">30</span>)<span class="hljs-comment">//session过期时间(秒)</span></span><br><span class="line"><span class="hljs-variable">@Configuration</span></span><br><span class="line">public class RedisSessionConfig</span><br><span class="line">&#123;</span><br><span class="line">    <span class="hljs-variable">@Bean</span></span><br><span class="line">    public static ConfigureRedisAction configureRedisAction()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-comment">//让springSession不再执行config命令</span></span><br><span class="line">        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ConfigureRedisAction</span><span class="hljs-selector-class">.NO_OP</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>springboot启动后能在redis上查到缓存的session才能说明整个redis+springboot配置成功！</p>
<p><img src="/images/pasted-197.png" alt="upload successful"></p>
<p>2、单点登录：<br>这里的实现我搜过大量资料，基本是基于第三方框架实现的，我在想，既然已经使用redis做集中缓存了那干嘛不用redis来做单点登录呢？</p>
<p>1、用户登录时，在redis中记录该userId对应的sessionId，并将userId保存到session中。</p>
<p>HttpSession session = request.getSession();<br>session.setAttribute(“loginUserId”, user.getUserId());<br>redisTemplate.opsForValue().set(“loginUser:” + user.getUserId(), session.getId());<br>2、访问接口时，会在RedisSessionInterceptor拦截器中的preHandle()中捕获，然后根据该请求发起者的session中保存的userId去redis查当前已登录的sessionId，若查到的sessionId与访问者的sessionId相等，那么说明请求合法，放行。否则抛出401异常给全局异常捕获器去返回给客户端401状态。</p>
<p>单点登录经过我的验证后满足需求，暂时没有出现问题，也希望大家能看看有没有问题，有的话给我点好的建议！</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-14T16:55:00.000Z">2019-10-14</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    10 分钟 read (About 1517 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/15/Spring的@ExceptionHandler和@ControllerAdvice统一处理异常/">Spring的@ExceptionHandler和@ControllerAdvice统一处理异常</a>
            
        </h1>
        <div class="content">
            <p>前言</p>
<p>之前敲代码的时候,避免不了各种try…catch, 如果业务复杂一点, 就会发现全都是try…catch</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">try&#123;</span><br><span class="line">    <span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span></span><br><span class="line">&#125;catch(Exception1 e)&#123;</span><br><span class="line">    <span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span></span><br><span class="line">&#125;catch(Exception2 e)&#123;</span><br><span class="line">    <span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span>.</span><br><span class="line">&#125;catch(Exception3 e)&#123;</span><br><span class="line">    <span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span><span class="hljs-built_in">..</span>.</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样其实代码既不简洁好看 ,我们敲着也烦, 一般我们可能想到用拦截器去处理, 但是既然现在Spring这么火,AOP大家也不陌生, 那么Spring一定为我们想好了这个解决办法.果然:</p>
<p>@ExceptionHandler<br>源码</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//该注解作用对象为方法</span></span><br><span class="line"><span class="hljs-meta">@Target(&#123;ElementType.METHOD&#125;)</span></span><br><span class="line"><span class="hljs-comment">//在运行时有效</span></span><br><span class="line"><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="hljs-meta">@Documented</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> ExceptionHandler &#123;</span><br><span class="line">	<span class="hljs-comment">//value()可以指定异常类</span></span><br><span class="line">    Class&lt;? extends Throwable&gt;[] value() <span class="hljs-keyword">default</span> &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@ControllerAdvice<br>源码</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Target(&#123;ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="hljs-meta">@Documented</span></span><br><span class="line"><span class="hljs-comment">//bean对象交给spring管理生成</span></span><br><span class="line"><span class="hljs-meta">@Component</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> ControllerAdvice &#123;</span><br><span class="line">    <span class="hljs-meta">@AliasFor(<span class="hljs-meta-string">"basePackages"</span>)</span></span><br><span class="line">    String[] value() <span class="hljs-keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@AliasFor(<span class="hljs-meta-string">"value"</span>)</span></span><br><span class="line">    String[] basePackages() <span class="hljs-keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    Class&lt;?&gt;[] basePackageClasses() <span class="hljs-keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    Class&lt;?&gt;[] assignableTypes() <span class="hljs-keyword">default</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    Class&lt;? extends Annotation&gt;[] annotations() <span class="hljs-keyword">default</span> &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>从名字上可以看出大体意思是控制器增强</p>
<p>所以结合上面我们可以知道,使用@ExceptionHandler，可以处理异常, 但是仅限于当前Controller中处理异常, @ControllerAdvice可以配置basePackage下的所有controller. 所以结合两者使用,就可以处理全局的异常了.  </p>
<p>一、代码</p>
<p>这里需要声明的是，这个统一异常处理类，也是基于ControllerAdvice，也就是控制层切面的，如果是过滤器抛出的异常，不会被捕获!!!  
在@ControllerAdvice注解下的类，里面的方法用@ExceptionHandler注解修饰的方法，会将对应的异常交给对应的方法处理。</p>
<figure class="highlight aspectj hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@ExceptionHandler</span>(&#123;IOException.class&#125;)</span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-function">Result <span class="hljs-title">handleException</span><span class="hljs-params">(IOExceptione)</span> </span>&#123;</span><br><span class="line">    log.<span class="hljs-keyword">error</span>(<span class="hljs-string">"[handleException] "</span>, e);</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">return</span> ResultUtil.<span class="hljs-title">failureDefaultError</span><span class="hljs-params">()</span></span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>比如这个，就是捕获IO异常并处理。</p>
<p>废话不多说，代码：</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.zgd.shop.core.exception;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> com.zgd.shop.core.error.ErrorCache;</span><br><span class="line"><span class="hljs-keyword">import</span> com.zgd.shop.core.result.Result;</span><br><span class="line"><span class="hljs-keyword">import</span> com.zgd.shop.core.result.ResultUtil;</span><br><span class="line"><span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="hljs-keyword">import</span> org.apache.commons.lang3.StringUtils;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.http.HttpStatus;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.http.converter.HttpMessageNotReadableException;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.validation.BindException;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.validation.BindingResult;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.validation.FieldError;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.HttpMediaTypeNotSupportedException;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.HttpRequestMethodNotSupportedException;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.MethodArgumentNotValidException;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.MissingServletRequestParameterException;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.ControllerAdvice;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.ExceptionHandler;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.ResponseBody;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.ResponseStatus;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.method.<span class="hljs-keyword">annotation</span>.MethodArgumentTypeMismatchException;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> javax.validation.ConstraintViolation;</span><br><span class="line"><span class="hljs-keyword">import</span> javax.validation.ConstraintViolationException;</span><br><span class="line"><span class="hljs-keyword">import</span> javax.validation.ValidationException;</span><br><span class="line"><span class="hljs-keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * GlobalExceptionHandle</span></span><br><span class="line"><span class="hljs-comment"> * 全局的异常处理</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> zgd</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2019/7/19 11:01</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-meta">@ControllerAdvice</span></span><br><span class="line"><span class="hljs-meta">@ResponseBody</span></span><br><span class="line"><span class="hljs-meta">@Slf4j</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GlobalExceptionHandle</span> </span>&#123;</span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 请求参数错误</span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> static String BASE_PARAM_ERR_CODE = <span class="hljs-string">"BASE-PARAM-01"</span>;</span><br><span class="line">  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> static String BASE_PARAM_ERR_MSG = <span class="hljs-string">"参数校验不通过"</span>;</span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 无效的请求</span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> static String BASE_BAD_REQUEST_ERR_CODE = <span class="hljs-string">"BASE-PARAM-02"</span>;</span><br><span class="line">  <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> static String BASE_BAD_REQUEST_ERR_MSG = <span class="hljs-string">"无效的请求"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 顶级的异常处理</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.OK)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;Exception.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleException(Exception e) &#123;</span><br><span class="line">    log.error(<span class="hljs-string">"[handleException] "</span>, e);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failureDefaultError();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 自定义的异常处理</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> ex</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.OK)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;BizServiceException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result serviceExceptionHandler(BizServiceException ex) &#123;</span><br><span class="line">    String errorCode = ex.getErrCode();</span><br><span class="line">    String msg = ex.getErrMsg() == <span class="hljs-literal">null</span> ? <span class="hljs-string">""</span> : ex.getErrMsg();</span><br><span class="line">    String innerErrMsg;</span><br><span class="line">    String outerErrMsg;</span><br><span class="line">    <span class="hljs-keyword">if</span> (BASE_PARAM_ERR_CODE.equalsIgnoreCase(errorCode)) &#123;</span><br><span class="line">      innerErrMsg = <span class="hljs-string">"参数校验不通过："</span> + msg;</span><br><span class="line">      outerErrMsg = BASE_PARAM_ERR_MSG;</span><br><span class="line">    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ex.isInnerError()) &#123;</span><br><span class="line">      innerErrMsg = ErrorCache.getInternalMsg(errorCode);</span><br><span class="line">      outerErrMsg = ErrorCache.getMsg(errorCode);</span><br><span class="line">      <span class="hljs-keyword">if</span> (StringUtils.isNotBlank(msg)) &#123;</span><br><span class="line">        innerErrMsg = innerErrMsg + <span class="hljs-string">"，"</span> + msg;</span><br><span class="line">        outerErrMsg = outerErrMsg + <span class="hljs-string">"，"</span> + msg;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">      innerErrMsg = msg;</span><br><span class="line">      outerErrMsg = msg;</span><br><span class="line">    &#125;</span><br><span class="line">    log.info(<span class="hljs-string">"【错误码】：&#123;&#125;，【错误码内部描述】：&#123;&#125;，【错误码外部描述】：&#123;&#125;"</span>, errorCode, innerErrMsg, outerErrMsg);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(errorCode, outerErrMsg);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 缺少servlet请求参数抛出的异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;MissingServletRequestParameterException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleMissingServletRequestParameterException(MissingServletRequestParameterException e) &#123;</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleMissingServletRequestParameterException] 参数错误: "</span> + e.getParameterName());</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_PARAM_ERR_CODE, BASE_PARAM_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 请求参数不能正确读取解析时，抛出的异常，比如传入和接受的参数类型不一致</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.OK)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;HttpMessageNotReadableException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleHttpMessageNotReadableException(HttpMessageNotReadableException e) &#123;</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleHttpMessageNotReadableException] 参数解析失败："</span>, e);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_PARAM_ERR_CODE, BASE_PARAM_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 请求参数无效抛出的异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;MethodArgumentNotValidException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleMethodArgumentNotValidException(MethodArgumentNotValidException e) &#123;</span><br><span class="line">    BindingResult result = e.getBindingResult();</span><br><span class="line">    String message = getBindResultMessage(result);</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleMethodArgumentNotValidException] 参数验证失败："</span> + message);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_PARAM_ERR_CODE, BASE_PARAM_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">private</span> String getBindResultMessage(BindingResult result) &#123;</span><br><span class="line">    FieldError error = result.getFieldError();</span><br><span class="line">    String field = error != <span class="hljs-literal">null</span> ? error.getField() : <span class="hljs-string">"空"</span>;</span><br><span class="line">    String code = error != <span class="hljs-literal">null</span> ? error.getDefaultMessage() : <span class="hljs-string">"空"</span>;</span><br><span class="line">    <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"%s:%s"</span>, field, code);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 方法请求参数类型不匹配异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;MethodArgumentTypeMismatchException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleMethodArgumentTypeMismatchException(MethodArgumentTypeMismatchException e) &#123;</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleMethodArgumentTypeMismatchException] 方法参数类型不匹配异常: "</span>, e);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_PARAM_ERR_CODE, BASE_PARAM_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 请求参数绑定到controller请求参数时的异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;BindException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleHttpMessageNotReadableException(BindException e) &#123;</span><br><span class="line">    BindingResult result = e.getBindingResult();</span><br><span class="line">    String message = getBindResultMessage(result);</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleHttpMessageNotReadableException] 参数绑定失败："</span> + message);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_PARAM_ERR_CODE, BASE_PARAM_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * javax.validation:validation-api 校验参数抛出的异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;ConstraintViolationException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleServiceException(ConstraintViolationException e) &#123;</span><br><span class="line">    Set&lt;ConstraintViolation&lt;?&gt;&gt; violations = e.getConstraintViolations();</span><br><span class="line">    ConstraintViolation&lt;?&gt; violation = violations.iterator().next();</span><br><span class="line">    String message = violation.getMessage();</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleServiceException] 参数验证失败："</span> + message);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_PARAM_ERR_CODE, BASE_PARAM_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * javax.validation 下校验参数时抛出的异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.BAD_REQUEST)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;ValidationException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleValidationException(ValidationException e) &#123;</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleValidationException] 参数验证失败："</span>, e);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_PARAM_ERR_CODE, BASE_PARAM_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 不支持该请求方法时抛出的异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.METHOD_NOT_ALLOWED)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;HttpRequestMethodNotSupportedException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleHttpRequestMethodNotSupportedException(HttpRequestMethodNotSupportedException e) &#123;</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleHttpRequestMethodNotSupportedException] 不支持当前请求方法: "</span>, e);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_BAD_REQUEST_ERR_CODE, BASE_BAD_REQUEST_ERR_MSG);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">   * 不支持当前媒体类型抛出的异常</span></span><br><span class="line"><span class="hljs-comment">   *</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@param</span> e</span></span><br><span class="line"><span class="hljs-comment">   * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">   */</span></span><br><span class="line">  <span class="hljs-meta">@ResponseStatus(HttpStatus.UNSUPPORTED_MEDIA_TYPE)</span></span><br><span class="line">  <span class="hljs-meta">@ExceptionHandler(&#123;HttpMediaTypeNotSupportedException.class&#125;)</span></span><br><span class="line">  <span class="hljs-keyword">public</span> Result handleHttpMediaTypeNotSupportedException(HttpMediaTypeNotSupportedException e) &#123;</span><br><span class="line">    log.warn(<span class="hljs-string">"[handleHttpMediaTypeNotSupportedException] 不支持当前媒体类型: "</span>, e);</span><br><span class="line">    <span class="hljs-keyword">return</span> ResultUtil.failure(BASE_BAD_REQUEST_ERR_CODE, BASE_BAD_REQUEST_ERR_MSG);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>至于返回值，就可以理解为controller层方法的返回值，可以返回@ResponseBody，或者页面。我这里是一个@ResponseBody的Result&lt;&gt;，前后端分离。</p>
<p>我们也可以自己根据需求，捕获更多的异常类型。</p>
<p>包括我们自定义的异常类型。比如：</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.zgd.shop.core.exception;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * BizServiceException</span></span><br><span class="line"><span class="hljs-comment"> * 业务抛出的异常</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> zgd</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2019/7/19 11:04</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-meta">@Data</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BizServiceException</span> <span class="hljs-title">extends</span> <span class="hljs-title">RuntimeException</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">private</span> String errCode;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">private</span> String errMsg;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">private</span> boolean isInnerError;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">public</span> BizServiceException()&#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.isInnerError=<span class="hljs-literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">public</span> BizServiceException(String errCode)&#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.errCode =errCode;</span><br><span class="line">    <span class="hljs-keyword">this</span>.isInnerError = <span class="hljs-literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">public</span> BizServiceException(String errCode,boolean isInnerError)&#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.errCode =errCode;</span><br><span class="line">    <span class="hljs-keyword">this</span>.isInnerError = isInnerError;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">public</span> BizServiceException(String errCode,String errMsg)&#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.errCode =errCode;</span><br><span class="line">    <span class="hljs-keyword">this</span>.errMsg = errMsg;</span><br><span class="line">    <span class="hljs-keyword">this</span>.isInnerError = <span class="hljs-literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">public</span> BizServiceException(String errCode,String errMsg,boolean isInnerError)&#123;</span><br><span class="line">    <span class="hljs-keyword">this</span>.errCode =errCode;</span><br><span class="line">    <span class="hljs-keyword">this</span>.errMsg = errMsg;</span><br><span class="line">    <span class="hljs-keyword">this</span>.isInnerError = isInnerError;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-12T16:38:00.000Z">2019-10-12</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    1 小时 read (About 6844 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/13/euraka-配置介绍/">euraka 配置介绍</a>
            
        </h1>
        <div class="content">
            <p>spring cloud eureka 参数配置</p>
<p>eureka.client.registry-fetch-interval-seconds<br>表示eureka client间隔多久去拉取服务注册信息，默认为30秒，对于api-gateway，如果要迅速获取服务注册状态，可以缩小该值，比如5秒</p>
<p>eureka.instance.lease-expiration-duration-in-seconds<br>leaseExpirationDurationInSeconds，表示eureka server至上一次收到client的心跳之后，等待下一次心跳的超时时间，在这个时间内若没收到下一次心跳，则将移除该instance。</p>
<p>默认为90秒<br>如果该值太大，则很可能将流量转发过去的时候，该instance已经不存活了。<br>如果该值设置太小了，则instance则很可能因为临时的网络抖动而被摘除掉。<br>该值至少应该大于leaseRenewalIntervalInSeconds<br>eureka.instance.lease-renewal-interval-in-seconds<br>leaseRenewalIntervalInSeconds，表示eureka client发送心跳给server端的频率。如果在leaseExpirationDurationInSeconds后，server端没有收到client的心跳，则将摘除该instance。除此之外，如果该instance实现了HealthCheckCallback，并决定让自己unavailable的话，则该instance也不会接收到流量。</p>
<p>默认30秒<br>eureka.server.enable-self-preservation<br>是否开启自我保护模式，默认为true。</p>
<p>默认情况下，如果Eureka Server在一定时间内没有接收到某个微服务实例的心跳，Eureka Server将会注销该实例（默认90秒）。但是当网络分区故障发生时，微服务与Eureka Server之间无法正常通信，以上行为可能变得非常危险了——因为微服务本身其实是健康的，此时本不应该注销这个微服务。</p>
<p>Eureka通过“自我保护模式”来解决这个问题——当Eureka Server节点在短时间内丢失过多客户端时（可能发生了网络分区故障），那么这个节点就会进入自我保护模式。一旦进入该模式，Eureka Server就会保护服务注册表中的信息，不再删除服务注册表中的数据（也就是不会注销任何微服务）。当网络故障恢复后，该Eureka Server节点会自动退出自我保护模式。</p>
<p>综上，自我保护模式是一种应对网络异常的安全保护措施。它的架构哲学是宁可同时保留所有微服务（健康的微服务和不健康的微服务都会保留），也不盲目注销任何健康的微服务。使用自我保护模式，可以让Eureka集群更加的健壮、稳定。</p>
<p>eureka.server.eviction-interval-timer-in-ms<br>eureka server清理无效节点的时间间隔，默认60000毫秒，即60秒</p>
<p>测试环境参考配置<br>eureka server</p>
<figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">eureka:</span></span><br><span class="line"><span class="hljs-attr">  server:</span></span><br><span class="line"><span class="hljs-attr">    enable-self-preservation:</span> <span class="hljs-literal">false</span>           <span class="hljs-comment"># 关闭自我保护模式（缺省为打开）</span></span><br><span class="line"><span class="hljs-attr">    eviction-interval-timer-in-ms:</span> <span class="hljs-number">5000</span>       <span class="hljs-comment"># 续期时间，即扫描失效服务的间隔时间（缺省为60*1000ms）</span></span><br></pre></td></tr></table></figure>

<p>eureka client</p>
<figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">eureka:</span></span><br><span class="line"><span class="hljs-attr">  instance:</span></span><br><span class="line"><span class="hljs-attr">    lease-renewal-interval-in-seconds:</span> <span class="hljs-number">5</span>      <span class="hljs-comment"># 心跳时间，即服务续约间隔时间（缺省为30s）</span></span><br><span class="line"><span class="hljs-attr">    lease-expiration-duration-in-seconds:</span> <span class="hljs-number">10</span>  <span class="hljs-comment"># 发呆时间，即服务续约到期时间（缺省为90s）</span></span><br><span class="line"><span class="hljs-attr">  client:</span></span><br><span class="line"><span class="hljs-attr">    healthcheck:</span></span><br><span class="line"><span class="hljs-attr">      enabled:</span> <span class="hljs-literal">true</span>                           <span class="hljs-comment"># 开启健康检查（依赖spring-boot-starter-actuator）</span></span><br></pre></td></tr></table></figure>

<p>zuul</p>
<figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">eureka:</span></span><br><span class="line"><span class="hljs-attr">  client:</span></span><br><span class="line"><span class="hljs-attr">    registry-fetch-interval-seconds:</span> <span class="hljs-number">5</span> <span class="hljs-comment"># 默认为30秒</span></span><br></pre></td></tr></table></figure>

<p>client完整参数列表<br>~/.m2/repository/org/springframework/cloud/spring-cloud-netflix-eureka-client/1.2.3.RELEASE/spring-cloud-netflix-eureka-client-1.2.3.RELEASE.jar!/META-INF/spring-configuration-metadata.json</p>
<figure class="highlight json hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="hljs-attr">"groups"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="hljs-attr">"properties"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.allow-redirects"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether server can redirect a client request to a backup server/cluster.\n If set to false, the server will handle the request directly, If set to true, it\n may send HTTP redirect to the client, with a new server location."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.availability-zones"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.util.Map&lt;java.lang.String,java.lang.String&gt;"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the list of availability zones (used in AWS data centers) for the region in\n which this instance resides.\n\n The changes are effective at runtime at the next registry fetch cycle as specified\n by registryFetchIntervalSeconds."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.backup-registry-impl"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the name of the implementation which implements BackupRegistry to fetch the\n registry information as a fall back option for only the first time when the eureka\n client starts.\n\n This may be needed for applications which needs additional resiliency for registry\n information without which it cannot operate."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.cache-refresh-executor-exponential-back-off-bound"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Cache refresh executor exponential back off related property. It is a maximum\n multiplier value for retry delay, in case where a sequence of timeouts occurred."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">10</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.cache-refresh-executor-thread-pool-size"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"The thread pool size for the cacheRefreshExecutor to initialise with"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">2</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.client-data-accept"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"EurekaAccept name for client data accept"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.decoder-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"This is a transient config and once the latest codecs are stable, can be removed\n (as there will only be one)"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.disable-delta"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether the eureka client should disable fetching of delta and should\n rather resort to getting the full registry information.\n\n Note that the delta fetches can reduce the traffic tremendously, because the rate\n of change with the eureka server is normally much lower than the rate of fetches.\n\n The changes are effective at runtime at the next registry fetch cycle as specified\n by registryFetchIntervalSeconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.dollar-replacement"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get a replacement string for Dollar sign &lt;code&gt;$&lt;\/code&gt; during\n serializing/deserializing information in eureka server."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"_-"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.enabled"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Flag to indicate that the Eureka client is enabled."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.encoder-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"This is a transient config and once the latest codecs are stable, can be removed\n (as there will only be one)"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.escape-char-replacement"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get a replacement string for underscore sign &lt;code&gt;_&lt;\/code&gt; during\n serializing/deserializing information in eureka server."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"__"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-connection-idle-timeout-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how much time (in seconds) that the HTTP connections to eureka server can\n stay idle before it can be closed.\n\n In the AWS environment, it is recommended that the values is 30 seconds or less,\n since the firewall cleans up the connection information after a few mins leaving\n the connection hanging in limbo"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-server-connect-timeout-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how long to wait (in seconds) before a connection to eureka server needs\n to timeout. Note that the connections in the client are pooled by\n org.apache.http.client.HttpClient and this setting affects the actual connection\n creation and also the wait time to get the connection from the pool."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">5</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-server-d-n-s-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the DNS name to be queried to get the list of eureka servers.This information\n is not required if the contract returns the service urls by implementing\n serviceUrls.\n\n The DNS mechanism is used when useDnsForFetchingServiceUrls is set to true and the\n eureka client expects the DNS to configured a certain way so that it can fetch\n changing eureka servers dynamically.\n\n The changes are effective at runtime."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-server-port"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the port to be used to construct the service url to contact eureka server when\n the list of eureka servers come from the DNS.This information is not required if\n the contract returns the service urls eurekaServerServiceUrls(String).\n\n The DNS mechanism is used when useDnsForFetchingServiceUrls is set to true and the\n eureka client expects the DNS to configured a certain way so that it can fetch\n changing eureka servers dynamically.\n\n The changes are effective at runtime."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-server-read-timeout-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how long to wait (in seconds) before a read from eureka server needs to\n timeout."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">8</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-server-total-connections"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the total number of connections that is allowed from eureka client to all\n eureka servers."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">200</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-server-total-connections-per-host"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the total number of connections that is allowed from eureka client to a eureka\n server host."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">50</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-server-u-r-l-context"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the URL context to be used to construct the service url to contact eureka\n server when the list of eureka servers come from the DNS. This information is not\n required if the contract returns the service urls from eurekaServerServiceUrls.\n\n The DNS mechanism is used when useDnsForFetchingServiceUrls is set to true and the\n eureka client expects the DNS to configured a certain way so that it can fetch\n changing eureka servers dynamically. The changes are effective at runtime."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.eureka-service-url-poll-interval-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how often(in seconds) to poll for changes to eureka server information.\n Eureka servers could be added or removed and this setting controls how soon the\n eureka clients should know about it."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.fetch-registry"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether this client should fetch eureka registry information from eureka\n server."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.fetch-remote-regions-registry"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Comma separated list of regions for which the eureka registry information will be\n fetched. It is mandatory to define the availability zones for each of these regions\n as returned by availabilityZones. Failing to do so, will result in failure of\n discovery client startup."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.filter-only-up-instances"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether to get the applications after filtering the applications for\n instances with only InstanceStatus UP states."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.g-zip-content"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether the content fetched from eureka server has to be compressed\n whenever it is supported by the server. The registry information from the eureka\n server is compressed for optimum network traffic."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.heartbeat-executor-exponential-back-off-bound"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Heartbeat executor exponential back off related property. It is a maximum\n multiplier value for retry delay, in case where a sequence of timeouts occurred."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">10</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.heartbeat-executor-thread-pool-size"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"The thread pool size for the heartbeatExecutor to initialise with"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">2</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.initial-instance-info-replication-interval-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how long initially (in seconds) to replicate instance info to the eureka\n server"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">40</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.instance-info-replication-interval-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how often(in seconds) to replicate instance changes to be replicated to\n the eureka server."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.log-delta-diff"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether to log differences between the eureka server and the eureka\n client in terms of registry information.\n\n Eureka client tries to retrieve only delta changes from eureka server to minimize\n network traffic. After receiving the deltas, eureka client reconciles the\n information from the server to verify it has not missed out some information.\n Reconciliation failures could happen when the client has had network issues\n communicating to server.If the reconciliation fails, eureka client gets the full\n registry information.\n\n While getting the full registry information, the eureka client can log the\n differences between the client and the server and this setting controls that.\n\n The changes are effective at runtime at the next registry fetch cycle as specified\n by registryFetchIntervalSecondsr"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.on-demand-update-status-change"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"If set to true, local status updates via ApplicationInfoManager will trigger\n on-demand (but rate limited) register/updates to remote eureka servers"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.prefer-same-zone-eureka"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether or not this instance should try to use the eureka server in the\n same zone for latency and/or other reason.\n\n Ideally eureka clients are configured to talk to servers in the same zone\n\n The changes are effective at runtime at the next registry fetch cycle as specified\n by registryFetchIntervalSeconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.property-resolver"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.core.env.PropertyResolver"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.proxy-host"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the proxy host to eureka server if any."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.proxy-password"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the proxy password if any."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.proxy-port"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the proxy port to eureka server if any."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.proxy-user-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the proxy user name if any."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.region"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the region (used in AWS datacenters) where this instance resides."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"us-east-1"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.register-with-eureka"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether or not this instance should register its information with eureka\n server for discovery by others.\n\n In some cases, you do not want your instances to be discovered whereas you just\n want do discover other instances."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.registry-fetch-interval-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how often(in seconds) to fetch the registry information from the eureka\n server."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.registry-refresh-single-vip-address"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether the client is only interested in the registry information for a\n single VIP."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.service-url"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.util.Map&lt;java.lang.String,java.lang.String&gt;"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Map of availability zone to list of fully qualified URLs to communicate with eureka\n server. Each value can be a single URL or a comma separated list of alternative\n locations.\n\n Typically the eureka server URLs carry protocol,host,port,context and version\n information if any. Example:\n http://ec2-256-156-243-129.compute-1.amazonaws.com:7001/eureka/\n\n The changes are effective at runtime at the next service url refresh cycle as\n specified by eurekaServiceUrlPollIntervalSeconds."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.transport"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"com.netflix.discovery.shared.transport.EurekaTransportConfig"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.client.use-dns-for-fetching-service-urls"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether the eureka client should use the DNS mechanism to fetch a list of\n eureka servers to talk to. When the DNS name is updated to have additional servers,\n that information is used immediately after the eureka client polls for that\n information as specified in eurekaServiceUrlPollIntervalSeconds.\n\n Alternatively, the service urls can be returned serviceUrls, but the users should\n implement their own mechanism to return the updated list in case of changes.\n\n The changes are effective at runtime."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaClientConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.a-s-g-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the AWS autoscaling group name associated with this instance. This information\n is specifically used in an AWS environment to automatically put an instance out of\n service after the instance is launched and it has been disabled for traffic.."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.app-group-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get the name of the application group to be registered with eureka."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.appname"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get the name of the application to be registered with eureka."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"unknown"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.data-center-info"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"com.netflix.appinfo.DataCenterInfo"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Returns the data center this instance is deployed. This information is used to get\n some AWS specific instance information if the instance is deployed in AWS."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.default-address-resolution-order"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String[]"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.environment"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.core.env.Environment"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.health-check-url"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the absolute health check page URL for this instance. The users can provide\n the healthCheckUrlPath if the health check page resides in the same instance\n talking to eureka, else in the cases where the instance is a proxy for some other\n server, users can provide the full URL. If the full URL is provided it takes\n precedence.\n\n &lt;p&gt;\n It is normally used for making educated decisions based on the health of the\n instance - for example, it can be used to determine whether to proceed deployments\n to an entire farm or stop the deployments without causing further damage. The full\n URL should follow the format http://$&#123;eureka.hostname&#125;:7001/ where the value\n $&#123;eureka.hostname&#125; is replaced at runtime."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.health-check-url-path"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the relative health check URL path for this instance. The health check page\n URL is then constructed out of the hostname and the type of communication - secure\n or unsecure as specified in securePort and nonSecurePort.\n\n It is normally used for making educated decisions based on the health of the\n instance - for example, it can be used to determine whether to proceed deployments\n to an entire farm or stop the deployments without causing further damage."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"/health"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.home-page-url"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the absolute home page URL for this instance. The users can provide the\n homePageUrlPath if the home page resides in the same instance talking to eureka,\n else in the cases where the instance is a proxy for some other server, users can\n provide the full URL. If the full URL is provided it takes precedence.\n\n It is normally used for informational purposes for other services to use it as a\n landing page. The full URL should follow the format http://$&#123;eureka.hostname&#125;:7001/\n where the value $&#123;eureka.hostname&#125; is replaced at runtime."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.home-page-url-path"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the relative home page URL Path for this instance. The home page URL is then\n constructed out of the hostName and the type of communication - secure or unsecure.\n\n It is normally used for informational purposes for other services to use it as a\n landing page."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"/"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.host-info"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.cloud.commons.util.InetUtils$HostInfo"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.hostname"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"The hostname if it can be determined at configuration time (otherwise it will be\n guessed from OS primitives)."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.hostname"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"The hostname if it can be determined at configuration time (otherwise it will be\n guessed from OS primitives)."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.inet-utils"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.cloud.commons.util.InetUtils"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.initial-status"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"com.netflix.appinfo.InstanceInfo$InstanceStatus"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Initial status to register with rmeote Eureka server."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.instance-enabled-onit"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether the instance should be enabled for taking traffic as soon as it\n is registered with eureka. Sometimes the application might need to do some\n pre-processing before it is ready to take traffic."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.instance-id"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get the unique Id (within the scope of the appName) of this instance to be\n registered with eureka."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.ip-address"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get the IPAdress of the instance. This information is for academic purposes only as\n the communication from other instances primarily happen using the information\n supplied in &#123;@link #getHostName(boolean)&#125;."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.lease-expiration-duration-in-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates the time in seconds that the eureka server waits since it received the\n last heartbeat before it can remove this instance from its view and there by\n disallowing traffic to this instance.\n\n Setting this value too long could mean that the traffic could be routed to the\n instance even though the instance is not alive. Setting this value too small could\n mean, the instance may be taken out of traffic because of temporary network\n glitches.This value to be set to atleast higher than the value specified in\n leaseRenewalIntervalInSeconds."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">90</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.lease-renewal-interval-in-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates how often (in seconds) the eureka client needs to send heartbeats to\n eureka server to indicate that it is still alive. If the heartbeats are not\n received for the period specified in leaseExpirationDurationInSeconds, eureka\n server will remove the instance from its view, there by disallowing traffic to this\n instance.\n\n Note that the instance could still not take traffic if it implements\n HealthCheckCallback and then decides to make itself unavailable."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.metadata-map"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.util.Map&lt;java.lang.String,java.lang.String&gt;"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the metadata name/value pairs associated with this instance. This information\n is sent to eureka server and can be used by other instances."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.namespace"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get the namespace used to find properties. Ignored in Spring Cloud."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"eureka"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.non-secure-port"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get the non-secure port on which the instance should receive traffic."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">80</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.non-secure-port-enabled"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether the non-secure port should be enabled for traffic or not."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.prefer-ip-address"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Flag to say that, when guessing a hostname, the IP address of the server should be\n used in prference to the hostname reported by the OS."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.secure-health-check-url"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the absolute secure health check page URL for this instance. The users can\n provide the secureHealthCheckUrl if the health check page resides in the same\n instance talking to eureka, else in the cases where the instance is a proxy for\n some other server, users can provide the full URL. If the full URL is provided it\n takes precedence.\n\n &lt;p&gt;\n It is normally used for making educated decisions based on the health of the\n instance - for example, it can be used to determine whether to proceed deployments\n to an entire farm or stop the deployments without causing further damage. The full\n URL should follow the format http://$&#123;eureka.hostname&#125;:7001/ where the value\n $&#123;eureka.hostname&#125; is replaced at runtime."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.secure-port"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Get the Secure port on which the instance should receive traffic."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">443</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.secure-port-enabled"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Indicates whether the secure port should be enabled for traffic or not."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.secure-virtual-host-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the secure virtual host name defined for this instance.\n\n This is typically the way other instance would find this instance by using the\n secure virtual host name.Think of this as similar to the fully qualified domain\n name, that the users of your services will need to find this instance."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"unknown"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.status-page-url"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the absolute status page URL path for this instance. The users can provide the\n statusPageUrlPath if the status page resides in the same instance talking to\n eureka, else in the cases where the instance is a proxy for some other server,\n users can provide the full URL. If the full URL is provided it takes precedence.\n\n It is normally used for informational purposes for other services to find about the\n status of this instance. Users can provide a simple HTML indicating what is the\n current status of the instance."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.status-page-url-path"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the relative status page URL path for this instance. The status page URL is\n then constructed out of the hostName and the type of communication - secure or\n unsecure as specified in securePort and nonSecurePort.\n\n It is normally used for informational purposes for other services to find about the\n status of this instance. Users can provide a simple HTML indicating what is the\n current status of the instance."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"/info"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.virtual-host-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Gets the virtual host name defined for this instance.\n\n This is typically the way other instance would find this instance by using the\n virtual host name.Think of this as similar to the fully qualified domain name, that\n the users of your services will need to find this instance."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.EurekaInstanceConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"unknown"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="hljs-attr">"hints"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>server完整参数列表<br>~/.m2/repository/org/springframework/cloud/spring-cloud-netflix-eureka-server/1.2.3.RELEASE/spring-cloud-netflix-eureka-server-1.2.3.RELEASE.jar!/META-INF/spring-configuration-metadata.json</p>
<figure class="highlight json hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="hljs-attr">"groups"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.dashboard"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaDashboardProperties"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaDashboardProperties"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.registry"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.InstanceRegistryProperties"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.InstanceRegistryProperties"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="hljs-attr">"properties"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.dashboard.enabled"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Flag to enable the Eureka dashboard. Default true."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaDashboardProperties"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.dashboard.path"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"The path to the Eureka dashboard (relative to the servlet path). Defaults to \"/\"."</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaDashboardProperties"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"/"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.registry.default-open-for-traffic-count"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Value used in determining when leases are cancelled, default to 1 for standalone.\n Should be set to 0 for peer replicated eurekas"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.InstanceRegistryProperties"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.instance.registry.expected-number-of-renews-per-min"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.InstanceRegistryProperties"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.a-s-g-cache-expiry-timeout-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.a-s-g-query-timeout-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">300</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.a-s-g-update-interval-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.a-w-s-access-id"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.a-w-s-secret-key"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.batch-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.binding-strategy"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"com.netflix.eureka.aws.AwsBindingStrategy"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.delta-retention-timer-interval-in-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.disable-delta"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.disable-delta-for-remote-regions"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.disable-transparent-fallback-to-other-region"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.e-i-p-bind-rebind-retries"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">3</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.e-i-p-binding-retry-interval-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.e-i-p-binding-retry-interval-ms-when-unbound"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.enable-replicated-request-compression"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.enable-self-preservation"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.eviction-interval-timer-in-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.g-zip-content-from-remote-region"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.json-codec-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.list-auto-scaling-groups-role-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"ListAutoScalingGroups"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.log-identity-headers"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.max-elements-in-peer-replication-pool"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">10000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.max-elements-in-status-replication-pool"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">10000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.max-idle-thread-age-in-minutes-for-peer-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">15</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.max-idle-thread-in-minutes-age-for-status-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">10</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.max-threads-for-peer-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">20</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.max-threads-for-status-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.max-time-for-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.min-threads-for-peer-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">5</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.min-threads-for-status-replication"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.number-of-replication-retries"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">5</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.peer-eureka-nodes-update-interval-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.peer-eureka-status-refresh-time-interval-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.peer-node-connect-timeout-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">200</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.peer-node-connection-idle-timeout-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.peer-node-read-timeout-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">200</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.peer-node-total-connections"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.peer-node-total-connections-per-host"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">500</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.prime-aws-replica-connections"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.property-resolver"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"org.springframework.core.env.PropertyResolver"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.rate-limiter-burst-size"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">10</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.rate-limiter-enabled"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.rate-limiter-full-fetch-average-rate"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">100</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.rate-limiter-privileged-clients"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.util.Set&lt;java.lang.String&gt;"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.rate-limiter-registry-fetch-average-rate"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">500</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.rate-limiter-throttle-standard-clients"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">false</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.registry-sync-retries"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.registry-sync-retry-wait-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-app-whitelist"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.util.Map&lt;java.lang.String,java.util.Set&lt;java.lang.String&gt;&gt;"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-connect-timeout-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-connection-idle-timeout-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-fetch-thread-pool-size"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">20</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-read-timeout-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-registry-fetch-interval"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-total-connections"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">1000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-total-connections-per-host"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">500</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-trust-store"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">""</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-trust-store-password"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-string">"changeit"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-urls"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String[]"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.remote-region-urls-with-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.util.Map&lt;java.lang.String,java.lang.String&gt;"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.renewal-percent-threshold"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Double"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0.85</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.renewal-threshold-update-interval-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.response-cache-auto-expiration-in-seconds"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">180</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.response-cache-update-interval-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.retention-time-in-m-s-in-delta-queue"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.route53-bind-rebind-retries"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">3</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.route53-binding-retry-interval-ms"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.route53-domain-t-t-l"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Long"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">30</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.sync-when-timestamp-differs"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.use-read-only-response-cache"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Boolean"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.wait-time-in-ms-when-sync-empty"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.Integer"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span>,</span><br><span class="line">      <span class="hljs-attr">"defaultValue"</span>: <span class="hljs-number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"eureka.server.xml-codec-name"</span>,</span><br><span class="line">      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"java.lang.String"</span>,</span><br><span class="line">      <span class="hljs-attr">"sourceType"</span>: <span class="hljs-string">"org.springframework.cloud.netflix.eureka.server.EurekaServerConfigBean"</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="hljs-attr">"hints"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-12T16:18:00.000Z">2019-10-12</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    7 分钟 read (About 1018 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/13/spring-seesion/">spring session实现session共享</a>
            
        </h1>
        <div class="content">
            <p>使用Spring Session redis进行Session共享</p>
<p>在搭建完集群环境后，不得不考虑的一个问题就是用户访问产生的session如何处理。</p>
<p>session的处理有很多种方法，详情见转载的上篇博客：集群/分布式环境下5种session处理策略</p>
<p>在这里我们讨论其中的第三种方法：session共享。</p>
<p>redis集群做主从复制，利用redis数据库的最终一致性，将session信息存入redis中。当应用服务器发现session不在本机内存的时候，就去redis数据库中查找，因为redis数据库是独立于应用服务器的数据库，所以可以做到session的共享和高可用。</p>
<p>不足：</p>
<p>1.redis需要内存较大，否则会出现用户session从Cache中被清除。</p>
<p>2.需要定期的刷新缓存</p>
<p>初步结构如下  </p>
<p><img src="/images/pasted-187.png" alt="upload successful"><br>但是这个结构仍然存在问题，redis master是一个重要瓶颈，如果master崩溃的时候，但是redis不会主动的进行master切换，这时session服务中断。</p>
<p>但是我们先做到这个结构，后面再进行优化修改。<br>Spring Boot提供了Spring Session来完成session共享。</p>
<p>官方文档：<a href="http://docs.spring.io/spring-session/docs/current/reference/html5/guides/boot.html#boot-sample" target="_blank" rel="noopener">http://docs.spring.io/spring-session/docs/current/reference/html5/guides/boot.html#boot-sample</a></p>
<p>首先创建简单的Controller： </p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@Controller</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserController</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="hljs-meta">@RequestMapping(value=<span class="hljs-meta-string">"/main"</span>, method=RequestMethod.GET)</span></span><br><span class="line">	<span class="hljs-keyword">public</span> String main(HttpServletRequest request) &#123;</span><br><span class="line">		HttpSession session = request.getSession();</span><br><span class="line">		String sessionId = (String) session.getAttribute(<span class="hljs-string">"sessionId"</span>);</span><br><span class="line">		<span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != sessionId) &#123; <span class="hljs-comment">// sessionId不为空</span></span><br><span class="line">			System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"main sessionId:"</span> + sessionId);</span><br><span class="line">			<span class="hljs-keyword">return</span> <span class="hljs-string">"main"</span>;</span><br><span class="line">		&#125; <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">// sessionId为空</span></span><br><span class="line">			<span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/login"</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="hljs-meta">@RequestMapping(value=<span class="hljs-meta-string">"/login"</span>, method=RequestMethod.GET)</span></span><br><span class="line">	<span class="hljs-keyword">public</span> String login() &#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-string">"login"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="hljs-meta">@RequestMapping(value=<span class="hljs-meta-string">"/doLogin"</span>, method=RequestMethod.POST)</span></span><br><span class="line">	<span class="hljs-keyword">public</span> String doLogin(HttpServletRequest request) &#123;</span><br><span class="line">		System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"I do real login here"</span>);</span><br><span class="line">		HttpSession session = request.getSession();</span><br><span class="line">		String sessionId = UUID.randomUUID().toString();</span><br><span class="line">		session.setAttribute(<span class="hljs-string">"sessionId"</span>, sessionId);</span><br><span class="line">		System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"login sessionId:"</span> + sessionId);</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/main"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>简单来说就是模拟一下权限控制，如果sessionId存在就访问主页，否则就跳转到登录页面。<br>那么如何实现session共享呢？</p>
<p>加入以下依赖：  </p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- spring session --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line">	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.session<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line">	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-session<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.0.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line"><span class="hljs-comment">&lt;!-- redis --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line">	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line">	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>增加配置类：</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@EnableRedisHttpSession</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HttpSessionConfig</span> </span>&#123;</span><br><span class="line">	<span class="hljs-meta">@Bean</span></span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">public</span> JedisConnectionFactory <span class="hljs-title">connectionFactory</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">	        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> JedisConnectionFactory();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个配置类有什么用呢？<br>官方文档：</p>
<p>The Spring configuration is responsible for creating a Servlet Filter that replaces the HttpSession implementation with an implementation backed by Spring Session. </p>
<p>也就是说，这个配置类可以创建一个过滤器，这个过滤器支持Spring Session代替HttpSession发挥作用。</p>
<p>The @EnableRedisHttpSession annotation creates a Spring Bean with the name of springSessionRepositoryFilter that implements Filter. The filter is what is in charge of replacing the HttpSession implementation to be backed by Spring Session. In this instance Spring Session is backed by Redis.</p>
<p>@EnableRedisHttpSession注解会创建一个springSessionRepositoryFilter的bean对象去实现这个过滤器。过滤器负责代替HttpSession。</p>
<p>也就是说，HttpSession不再发挥作用，而是通过过滤器使用redis直接操作Session。</p>
<p>在application.properties中添加redis的配置：</p>
<figure class="highlight stylus hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.host</span>=localhost</span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.password</span>=</span><br><span class="line">spring<span class="hljs-selector-class">.redis</span><span class="hljs-selector-class">.port</span>=<span class="hljs-number">6379</span></span><br></pre></td></tr></table></figure>

<p>这样，就完成了Session共享了。是不是很简单？业务代码甚至不需要一点点的修改。<br>验证：</p>
<p><img src="/images/pasted-188.png" alt="upload successful"><br>一开始redis数据库是空的。</p>
<p>运行项目：</p>
<p><img src="/images/pasted-190.png" alt="upload successful"><br>访问页面之后，可以在redis中看到session的信息。</p>
<p>随便登陆之后：</p>
<p><img src="/images/pasted-191.png" alt="upload successful"></p>
<p>进入到了main中。说明当前这个session中是存在sessionId的。</p>
<p>我们查看当前页面的cookie。也就是说，这个cookie是存在sessionId的。</p>
<p><img src="/images/pasted-192.png" alt="upload successful"></p>
<p>再运行一个新的项目，端口为8081。在原本的浏览器中直接打开一个新的标签页，我们知道，这个时候cookie是共享的。访问localhost:8081/main</p>
<p><img src="/images/pasted-193.png" alt="upload successful"><br>我们直接访问新的项目成功了！！同一个cookie，可以做到session在不同web服务器中的共享。</p>
<p>最后再次强调：</p>
<p>** HttpSession的实现被Spring Session替换，操作HttpSession等同于操作redis中的数据。**</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-12T13:47:00.000Z">2019-10-12</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 分钟 read (About 1150 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/12/分布式eureka/">分布式eureka</a>
            
        </h1>
        <div class="content">
            <ul>
<li><p>Netflix Eureka 简介  </p>
<ul>
<li><p>1、Eureka 是 Netflix 公司开发的服务发现框架，Spring Cloud 对它提供了支持，将它集成在了自己的 spring-cloud-netflix  子项目中。</p>
</li>
<li><p>2、Netflix 公司在 Github 上开源了很多项目，Eureka 只是其中一个，Netflix 开源主页：<a href="https://github.com/Netflix" target="_blank" rel="noopener">https://github.com/Netflix</a></p>
</li>
<li><p>3、Netflix Eureka GitHub 开源地址：<a href="https://github.com/Netflix/eureka。" target="_blank" rel="noopener">https://github.com/Netflix/eureka。</a></p>
</li>
</ul>
</li>
</ul>
<p>AWS Service registry for resilient mid-tier load balancing and failover.（Eureka 是用于弹性中间层负载平衡和故障转移的AWS服务注册中心）</p>
<ul>
<li><p>1.简介<br>EureKa在Spring Cloud全家桶中担任着服务的注册与发现的落地实现。Netflix在设计EureKa时遵循着AP原则，它基于REST的服务，用于定位服务，以实现云端中间层服务发现和故障转移，功能类似于Dubbo的注册中心Zookeeper。</p>
</li>
<li><p>2.实现原理</p>
</li>
</ul>
<p><img src="/images/pasted-185.png" alt="upload successful"></p>
<p>EureKa采用CS的设计架构，即包括了Eureka Server（服务端），EureKa client（客户端）。<br>1.EureKa Server 提供服务注册，各个节点启动后，在EureKa server中进行注册；</p>
<p>2 EureKa Client 是一个Java客户端，用于和服务端进行交互，同时客户端也是一个内置的默认使用轮询负载均衡算法的负载均衡器。在应用启动后，会向Eueka Server发送心跳（默认30秒）。如果Eureka Server在多个心跳周期内没有接受到某个节点的心跳，EureKa Server将会从服务注册表中将这个服务移出（默认90秒）。</p>
<ul>
<li><p>3.SpringCloud Eureka的使用步骤  </p>
<ul>
<li>3.1Eureka Service端(服务端)  </li>
<li>3.1.1.POM.XML<br>导入相依的依赖 </li>
</ul>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-eureka-server<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>3.1.2.application.yml<br>配置文件的配置demo</li>
</ul>
<figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">eureka:</span></span><br><span class="line"><span class="hljs-attr">  instance:</span></span><br><span class="line">    <span class="hljs-comment">#单机hostname: localhost</span></span><br><span class="line"><span class="hljs-attr">    hostname:</span> <span class="hljs-string">eureka7002.com</span>         <span class="hljs-comment">#eureka服务端的实例名称</span></span><br><span class="line"><span class="hljs-attr">  client:</span></span><br><span class="line"><span class="hljs-attr">    register-with-eureka:</span> <span class="hljs-literal">false</span>     <span class="hljs-comment">#false表示不向注册中心注册自己。</span></span><br><span class="line"><span class="hljs-attr">    fetch-registry:</span> <span class="hljs-literal">false</span>           <span class="hljs-comment">#false表示自己端就是注册中心，我的职责就是维护服务实例，并不需要去检索服务</span></span><br><span class="line"><span class="hljs-attr">    service-url:</span></span><br><span class="line">      <span class="hljs-comment">#单机设置与Eureka Server交互的地址查询服务和注册服务都需要依赖这个地址（单机）。</span></span><br><span class="line">      <span class="hljs-comment">#defaultZone: http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;/eureka/</span></span><br><span class="line"></span><br><span class="line">      <span class="hljs-comment">#Eureka高复用时设置其他的Eureka之间通信</span></span><br><span class="line">      <span class="hljs-comment">#defaultZone: http://eureka7003.com:7003/eureka/,http://eureka7004.com:7004/eureka/</span></span><br><span class="line"><span class="hljs-attr">       defaultZone:</span> <span class="hljs-attr">http://eureka7003.com:7003/eureka/</span></span><br><span class="line">  <span class="hljs-comment">#server:</span></span><br><span class="line">    <span class="hljs-comment">#enable-self-preservation: false   #Eureka服务端关闭心跳连接测试</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>3.1.3.主程序类<br>添加注解<br>@EnableEurekaServer<br>demo :</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.mark.eureka;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">@EnableEurekaServer</span></span><br><span class="line"><span class="hljs-meta">@SpringBootApplication</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EurekaServerApplication</span> &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(String[] args) &#123;</span><br><span class="line">        SpringApplication.run(EurekaServerApplication.<span class="hljs-keyword">class</span>, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<p> 启动后访问设置的端口eg <a href="http://127.0.0.1:7002/" target="_blank" rel="noopener">http://127.0.0.1:7002/</a></p>
<p> <img src="/images/pasted-186.png" alt="upload successful"></p>
<ul>
<li><p>3.2Eureka Clinet(客户端)</p>
<ul>
<li><p>3.2.1 pom.XMl</p>
 <figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">      <span class="hljs-comment">&lt;!-- 将微服务provider侧注册进eureka --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line">  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-eureka<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<ul>
<li>3.2.2 application.yml  </li>
</ul>
<pre><code>server:
 port: 8001
eureka:
  client:                #客户端注册进eureka服务列表内
    service-url:
      #单机defaultZone: http://localhost:7002/eureka
      #集群是
      #defaultZone: http://eureka7002.com:7002/eureka/,http://eureka7003.com:7003/eureka/,http://eureka7004.com:7004/eureka/
    defaultZone: http://eureka7002.com:7002/eureka/,http://eureka7003.com:7003/eureka/
  instance:
    instance-id: microservicecloud-dept8001
    prefer-ip-address: true    #访问路径可以显示IP地址
info:                  #在Eure页面访问info返回的信息的配置
  app.name: atguigu-microservicecloud
  company.name: www.mark.com
  build.artifactId: $project.artifactId$
  build.version: $project.version$</code></pre><ul>
<li><p>3.2.3主程序类  </p>
<p>添加注解：（注意和服务端区分开）<br>@EnableEurekaClient<br>@EnableDiscoveryClient </p>
<figure class="highlight less hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-variable">@SpringBootApplication</span></span><br><span class="line"><span class="hljs-variable">@EnableEurekaClient</span></span><br><span class="line"><span class="hljs-variable">@EnableDiscoveryClient</span></span><br><span class="line">public class Deptprovider8003_App &#123;</span><br></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li><p>3.3补充<br>如果是Eureka Client的消费者，如果获取注册中心中的微服务，那么还需要在配置类中注入一个组件RestTemplate<br>demo</p>
<figure class="highlight css hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-tag">package</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.mark</span><span class="hljs-selector-class">.springcloud</span><span class="hljs-selector-class">.config</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.cloud</span><span class="hljs-selector-class">.client</span><span class="hljs-selector-class">.loadbalancer</span><span class="hljs-selector-class">.LoadBalanced</span>;</span><br><span class="line"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.context</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.Bean</span>;</span><br><span class="line"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.context</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.Configuration</span>;</span><br><span class="line"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.web</span><span class="hljs-selector-class">.client</span><span class="hljs-selector-class">.RestTemplate</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * Created by Choisaaaa on 2018/7/7.</span></span><br><span class="line"><span class="hljs-comment"> * 自定义配置类</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"></span><br><span class="line">@<span class="hljs-keyword">Configuration</span></span><br><span class="line"><span class="hljs-keyword">public</span> class MyConfig &#123;</span><br><span class="line">    @<span class="hljs-keyword">Bean</span></span><br><span class="line">    @LoadBalanced//使用负载均衡</span><br><span class="line">    public RestTemplate restTemplate()&#123;</span><br><span class="line">        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">RestTemplate</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
<p> 调用的demo  </p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.mark.springcloud.controller;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> com.mark.springcloud.entities.Dept;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.PathVariable;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.RequestMapping;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.RestController;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.client.RestTemplate;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * Created by Choisaaaa on 2018/7/7.</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-meta">@RestController</span></span><br><span class="line"><span class="hljs-meta">@RequestMapping(<span class="hljs-meta-string">"/consumer/dept"</span>)</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DeptControler_Consumer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//private static final String REST_URL_PREFIX = "http://localhost:8001";</span></span><br><span class="line">    <span class="hljs-comment">//MICROSERVICECLOUD-DEP：为Eureka Server中心的微服务实例名称</span></span><br><span class="line">    <span class="hljs-keyword">private</span> static <span class="hljs-keyword">final</span> String REST_URL_PREFIX = <span class="hljs-string">"http://MICROSERVICECLOUD-DEPT"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> RestTemplate restTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@RequestMapping(value = <span class="hljs-meta-string">"/add"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">public</span> boolean add(Dept dept) &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> restTemplate.getForObject(REST_URL_PREFIX+<span class="hljs-string">"/dept/add"</span>,<span class="hljs-built_in">Boolean</span>.<span class="hljs-keyword">class</span>,dept);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@RequestMapping(value = <span class="hljs-meta-string">"get/&#123;id&#125;"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">public</span> Dept <span class="hljs-keyword">get</span>(<span class="hljs-meta">@PathVariable(<span class="hljs-meta-string">"id"</span>)</span> <span class="hljs-built_in">Long</span> id) &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> restTemplate.getForObject(REST_URL_PREFIX+<span class="hljs-string">"/dept/get/"</span>+id,Dept.<span class="hljs-keyword">class</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@RequestMapping(value = <span class="hljs-meta-string">"/list"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">public</span> List&lt;Dept&gt; list()&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> restTemplate.getForObject(REST_URL_PREFIX+<span class="hljs-string">"/dept/list"</span>,List.<span class="hljs-keyword">class</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//消费者调用服务发现</span></span><br><span class="line">    <span class="hljs-meta">@RequestMapping(<span class="hljs-meta-string">"/discovery"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">public</span> Object discovery() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> restTemplate.getForObject(REST_URL_PREFIX+<span class="hljs-string">"/dept/discovery"</span>,Object.<span class="hljs-keyword">class</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>参考：<br><a href="https://www.cnblogs.com/knowledgesea/p/11208000.html" target="_blank" rel="noopener">https://www.cnblogs.com/knowledgesea/p/11208000.html</a><br>熔断<br><a href="https://blog.csdn.net/qq_36763236/article/details/82024039" target="_blank" rel="noopener">https://blog.csdn.net/qq_36763236/article/details/82024039</a><br><a href="https://www.cnblogs.com/guagua-join-1/p/9638767.html" target="_blank" rel="noopener">https://www.cnblogs.com/guagua-join-1/p/9638767.html</a></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-11T19:45:00.000Z">2019-10-11</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    12 分钟 read (About 1851 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/12/EqualsAndHashCode-注解详解/">@EqualsAndHashCode</a>
            
        </h1>
        <div class="content">
            <p>原文中提到的大致有以下几点：</p>
<ol>
<li><p>此注解会生成equals(Object other) 和 hashCode()方法。</p>
</li>
<li><p>它默认使用非静态，非瞬态的属性</p>
</li>
<li><p>可通过参数exclude排除一些属性</p>
</li>
<li><p>可通过参数of指定仅使用哪些属性</p>
</li>
<li><p>它默认仅使用该类中定义的属性且不调用父类的方法</p>
</li>
<li><p>可通过callSuper=true解决上一点问题。让其生成的方法中调用父类的方法。</p>
</li>
</ol>
<p>另：@Data相当于@Getter @Setter @RequiredArgsConstructor @ToString @EqualsAndHashCode这5个注解的合集。</p>
<p>通过官方文档，可以得知，当使用@Data注解时，则有了@EqualsAndHashCode注解，那么就会在此类中存在equals(Object other) 和 hashCode()方法，且不会使用父类的属性，这就导致了可能的问题。</p>
<p>比如，有多个类有相同的部分属性，把它们定义到父类中，恰好id（数据库主键）也在父类中，那么就会存在部分对象在比较时，它们并不相等，却因为lombok自动生成的equals(Object other) 和 hashCode()方法判定为相等，从而导致出错。</p>
<p>修复此问题的方法很简单：</p>
<ol>
<li><p>使用@Getter @Setter @ToString代替@Data并且自定义equals(Object other) 和 hashCode()方法，比如有些类只需要判断主键id是否相等即足矣。</p>
</li>
<li><p>或者使用在使用@Data时同时加上@EqualsAndHashCode(callSuper=true)注解。</p>
</li>
</ol>
<hr>
<hr>
<p>任意类的定义都可以添加@EqualsAndHashCode注解，让lombok帮你生成equals(Object other)和hashCode()方法的实现。默认情况下会使用非静态和非transient型字段来生成，但是你也通过在字段上添加@EqualsAndHashCode.Include或者@EqualsAndHashCode.Exclude修改你使用的字段（甚至指定各种方法的输出）。或者你也可以通过在类上使用@EqualsAndHashCode(onlyExplicitlyIncluded = true)，且在特定字段或特定方法上添加@EqualsAndHashCode.Include来指定他们。</p>
<p>如果将@EqualsAndHashCode添加到继承至另一个类的类上，这个功能会有点棘手。一般情况下，为这样的类自动生成equals和hashCode方法是一个坏思路，因为超类也有定义了一些字段，他们也需要equals/hashCode方法但是不会自动生成。通过设置callSuper=true，可以在生成的equals和hashCode方法里包含超类的方法。对于hashCode，·super.hashCode()·会被包含在hash算法内，而对于equals，如果超类实现认为它与传入的对象不一致则会返回false。注意：并非所有的equals都能正确的处理这样的情况。然而刚好lombok可以，若超类也使用lombok来生成equals方法，那么你可以安全的使用它的equals方法。如果你有一个明确的超类, 你得在callSuper上提供一些值来表示你已经斟酌过，要不然的话就会产生一条警告信息。</p>
<p>当你的类没有继承至任何类（非java.lang.Object, 当然任何类都是继承于Object类的），而你却将callSuer置为true, 这会产生编译错误（译者注： java: Generating equals/hashCode with a supercall to java.lang.Object is pointless. ）。因为这会使得生成的equals和hashCode方法实现只是简单的继承至Object类的方法，只有相同的对象并且相同的hashCode才会判定他们相等。若你的类继承至另一个类又没有设置callSuper, 则会产品一个告警，因为除非超类没有（或者没有跟相等相关的）字段，否则lombok无法为你生成考虑超类声明字段的实现。你需要编写自己的实现，或者依赖callSuper的链式功能。你也可以使用配置关键字lombok.equalsAndHashCode.callSuper.（译者注：配置关键字这里还没搞明白！！！）</p>
<p>NEW in Lombok 0.10:</p>
<p>除非你的类是final类型并且只是继承至java.lang.Object, 否则lombok会生成一个canEqual方法，这以为着JPA代理仍然可以等于他们的基类，但是添加新状态的子类不会破坏equals契约。下文解释了为什么需要这种方法的复杂原因：How to Write an Equality Method in Java。如果层次结构中的所有类都是scala case类和带有lombok生成的equals方法的类的混合，则所有的相等都能正常工作。如果你需要编写自己的equals方法，那么如果更改equals和hashCode方法，都应该始终覆盖canEqual.</p>
<p>NEW in Lombok 1.14.0:</p>
<p>要将注释放在equals的另一个参数（以及相关的canEqual）方法上，可以使用onParam = @ __（{@ AnnotationsHere}）。 但要小心！ 这是一个实验性功能。 有关更多详细信息，请参阅有关onX功能的文档。</p>
<p>看代码示例，最好自己写一下，然后查看编译后的class文件。</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.amos.lombok;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> lombok.EqualsAndHashCode;</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> amos</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-meta">@EqualsAndHashCode</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EqualsAndHashCodeExample</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> <span class="hljs-keyword">int</span> transientVar = <span class="hljs-number">10</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> String name;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> score;</span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * 不包含该字段</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@EqualsAndHashCode</span>.Exclude</span><br><span class="line">    <span class="hljs-keyword">private</span> Shape shape = <span class="hljs-keyword">new</span> Square(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>);</span><br><span class="line">    <span class="hljs-keyword">private</span> String[] tags;</span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * 不包含该字段</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@EqualsAndHashCode</span>.Exclude</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@EqualsAndHashCode</span>(callSuper = <span class="hljs-keyword">true</span>)</span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Square</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Shape</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> width, height;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Square</span><span class="hljs-params">(<span class="hljs-keyword">int</span> width, <span class="hljs-keyword">int</span> height)</span> </span>&#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.width = width;</span><br><span class="line">            <span class="hljs-keyword">this</span>.height = height;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Shape</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编译后的class文件</p>
<figure class="highlight processing hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//</span></span><br><span class="line"><span class="hljs-comment">// Source code recreated from a .class file by IntelliJ IDEA</span></span><br><span class="line"><span class="hljs-comment">// (powered by Fernflower decompiler)</span></span><br><span class="line"><span class="hljs-comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">package</span> com.amos.lombok;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> class EqualsAndHashCodeExample &#123;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> <span class="hljs-built_in">int</span> transientVar = <span class="hljs-number">10</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">String</span> name;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> score;</span><br><span class="line">    <span class="hljs-keyword">private</span> EqualsAndHashCodeExample.Shape <span class="hljs-built_in">shape</span> = <span class="hljs-keyword">new</span> EqualsAndHashCodeExample.Square(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>);</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">String</span>[] tags;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> EqualsAndHashCodeExample() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">String</span> getName() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> equals(<span class="hljs-keyword">final</span> <span class="hljs-keyword">Object</span> o) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">this</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!(o <span class="hljs-keyword">instanceof</span> EqualsAndHashCodeExample)) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            EqualsAndHashCodeExample other = (EqualsAndHashCodeExample)o;</span><br><span class="line">            <span class="hljs-keyword">if</span> (!other.canEqual(<span class="hljs-keyword">this</span>)) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                label31: &#123;</span><br><span class="line">                    <span class="hljs-keyword">Object</span> <span class="hljs-keyword">this</span>$name = <span class="hljs-keyword">this</span>.getName();</span><br><span class="line">                    <span class="hljs-keyword">Object</span> other$name = other.getName();</span><br><span class="line">                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>$name == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (other$name == <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">                            <span class="hljs-keyword">break</span> label31;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>$name.equals(other$name)) &#123;</span><br><span class="line">                        <span class="hljs-keyword">break</span> label31;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">if</span> (Double.compare(<span class="hljs-keyword">this</span>.score, other.score) != <span class="hljs-number">0</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> Arrays.deepEquals(<span class="hljs-keyword">this</span>.tags, other.tags);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">boolean</span> canEqual(<span class="hljs-keyword">final</span> <span class="hljs-keyword">Object</span> other) &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> other <span class="hljs-keyword">instanceof</span> EqualsAndHashCodeExample;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> hashCode() &#123;</span><br><span class="line">        <span class="hljs-built_in">int</span> PRIME = <span class="hljs-keyword">true</span>;</span><br><span class="line">        <span class="hljs-built_in">int</span> result = <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">Object</span> $name = <span class="hljs-keyword">this</span>.getName();</span><br><span class="line">        <span class="hljs-built_in">int</span> result = result * <span class="hljs-number">59</span> + ($name == <span class="hljs-keyword">null</span> ? <span class="hljs-number">43</span> : $name.hashCode());</span><br><span class="line">        <span class="hljs-keyword">long</span> $score = Double.doubleToLongBits(<span class="hljs-keyword">this</span>.score);</span><br><span class="line">        result = result * <span class="hljs-number">59</span> + (<span class="hljs-built_in">int</span>)($score &gt;&gt;&gt; <span class="hljs-number">32</span> ^ $score);</span><br><span class="line">        result = result * <span class="hljs-number">59</span> + Arrays.deepHashCode(<span class="hljs-keyword">this</span>.tags);</span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> class Shape &#123;</span><br><span class="line">        <span class="hljs-keyword">public</span> Shape() &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> class Square extends EqualsAndHashCodeExample.Shape &#123;</span><br><span class="line">        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> <span class="hljs-built_in">width</span>;</span><br><span class="line">        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> <span class="hljs-built_in">height</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> Square(<span class="hljs-built_in">int</span> <span class="hljs-built_in">width</span>, <span class="hljs-built_in">int</span> <span class="hljs-built_in">height</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.<span class="hljs-built_in">width</span> = <span class="hljs-built_in">width</span>;</span><br><span class="line">            <span class="hljs-keyword">this</span>.<span class="hljs-built_in">height</span> = <span class="hljs-built_in">height</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> equals(<span class="hljs-keyword">final</span> <span class="hljs-keyword">Object</span> o) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">this</span>) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!(o <span class="hljs-keyword">instanceof</span> EqualsAndHashCodeExample.Square)) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                EqualsAndHashCodeExample.Square other = (EqualsAndHashCodeExample.Square)o;</span><br><span class="line">                <span class="hljs-keyword">if</span> (!other.canEqual(<span class="hljs-keyword">this</span>)) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">super</span>.equals(o)) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.<span class="hljs-built_in">width</span> != other.<span class="hljs-built_in">width</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.<span class="hljs-built_in">height</span> == other.<span class="hljs-built_in">height</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">protected</span> <span class="hljs-built_in">boolean</span> canEqual(<span class="hljs-keyword">final</span> <span class="hljs-keyword">Object</span> other) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> other <span class="hljs-keyword">instanceof</span> EqualsAndHashCodeExample.Square;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> hashCode() &#123;</span><br><span class="line">            <span class="hljs-built_in">int</span> PRIME = <span class="hljs-keyword">true</span>;</span><br><span class="line">            <span class="hljs-built_in">int</span> result = <span class="hljs-keyword">super</span>.hashCode();</span><br><span class="line">            result = result * <span class="hljs-number">59</span> + <span class="hljs-keyword">this</span>.<span class="hljs-built_in">width</span>;</span><br><span class="line">            result = result * <span class="hljs-number">59</span> + <span class="hljs-keyword">this</span>.<span class="hljs-built_in">height</span>;</span><br><span class="line">            <span class="hljs-keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意<br>超类不加callSuper且不手动覆写</p>
<p>上述的代码，通过下面的代码测试</p>
<figure class="highlight cs hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">        Square square1 = <span class="hljs-keyword">new</span> Square(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);</span><br><span class="line">        Square square2 = <span class="hljs-keyword">new</span> Square(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);</span><br><span class="line">        <span class="hljs-comment">// false</span></span><br><span class="line">        System.<span class="hljs-keyword">out</span>.println(square1.<span class="hljs-keyword">equals</span>(square2));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>可以看出，明明对象应该是相等的，但是就是不等！！<br>因为下面的代码导致，可以看出使用的是Object的equals方法，该方法一定要对象完全一样且hashCode一样才判定相等。</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">super</span>.equals(o)) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>所以，为了避免这个问题，你要么手动覆写超类的equals，要么在超类上加callSuper注解。</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-11T14:16:00.000Z">2019-10-11</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    13 分钟 read (About 1893 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/11/lombok注解介绍/">lombok注解介绍</a>
            
        </h1>
        <div class="content">
            <p>lombok是一个可以帮助我们简化java代码编写的工具类，尤其是简化javabean的编写，即通过采用注解的方式，消除代码中的构造方法，getter/setter等代码，使我们写的类更加简洁，当然，这带来的副作用就是不易阅读…不过，还是能看得懂吧，废话不多说，先看一下lombok支持的一些常见的注解。</p>
<p> 1 @NonNull<br> 2 @Cleanup<br> 3 @Getter/@Setter<br> 4 @ToString<br> 5 @EqualsAndHashCode<br> 6 @NoArgsConstructor/@RequiredArgsConstructor/@AllArgsConstructor<br> 7 @Data<br> 8 @Value<br> 9 @SneakyThrows<br>10 @Synchronized<br>11 @Log</p>
<ul>
<li>@NonNull<br>这个注解可以用在成员方法或者构造方法的参数前面，会自动产生一个关于此参数的非空检查，如果参数为空，则抛出一个空指针异常，举个例子来看看：</li>
</ul>
<figure class="highlight less hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//成员方法参数加上@NonNull注解</span></span><br><span class="line"><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">getName</span>(<span class="hljs-variable">@NonNull</span> Person p)&#123;</span><br><span class="line">    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getName</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实际效果相当于：</p>
<figure class="highlight less hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">getName</span>(<span class="hljs-variable">@NonNull</span> Person p)&#123;</span><br><span class="line">    <span class="hljs-selector-tag">if</span>(p==null)&#123;</span><br><span class="line">        <span class="hljs-selector-tag">throw</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">NullPointerException</span>(<span class="hljs-string">"person"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getName</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>用在构造方法的参数上效果类似，就不再举例子了。</p>
<ul>
<li>@Cleanup<br>这个注解用在变量前面，可以保证此变量代表的资源会被自动关闭，默认是调用资源的close()方法，如果该资源有其它关闭方法，可使用@Cleanup(“methodName”)来指定要调用的方法，就用输入输出流来举个例子吧：</li>
</ul>
<figure class="highlight d hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(String[] args) throws IOException &#123;</span><br><span class="line">     <span class="hljs-keyword">@Cleanup</span> InputStream <span class="hljs-keyword">in</span> = <span class="hljs-keyword">new</span> FileInputStream(args[<span class="hljs-number">0</span>]);</span><br><span class="line">     <span class="hljs-keyword">@Cleanup</span> OutputStream <span class="hljs-keyword">out</span> = <span class="hljs-keyword">new</span> FileOutputStream(args[<span class="hljs-number">1</span>]);</span><br><span class="line">     <span class="hljs-keyword">byte</span>[] b = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span>];</span><br><span class="line">     <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;</span><br><span class="line">       <span class="hljs-keyword">int</span> r = <span class="hljs-keyword">in</span>.read(b);</span><br><span class="line">       <span class="hljs-keyword">if</span> (r == -<span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;</span><br><span class="line">       <span class="hljs-keyword">out</span>.write(b, <span class="hljs-number">0</span>, r);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p> 实际效果相当于：</p>
 <figure class="highlight cs hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>) throws IOException</span> &#123;</span><br><span class="line">     InputStream <span class="hljs-keyword">in</span> = <span class="hljs-keyword">new</span> FileInputStream(args[<span class="hljs-number">0</span>]);</span><br><span class="line">     <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">       OutputStream <span class="hljs-keyword">out</span> = <span class="hljs-keyword">new</span> FileOutputStream(args[<span class="hljs-number">1</span>]);</span><br><span class="line">       <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">         <span class="hljs-keyword">byte</span>[] b = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">10000</span>];</span><br><span class="line">         <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;</span><br><span class="line">           <span class="hljs-keyword">int</span> r = <span class="hljs-keyword">in</span>.read(b);</span><br><span class="line">           <span class="hljs-keyword">if</span> (r == <span class="hljs-number">-1</span>) <span class="hljs-keyword">break</span>;</span><br><span class="line">           <span class="hljs-keyword">out</span>.write(b, <span class="hljs-number">0</span>, r);</span><br><span class="line">         &#125;</span><br><span class="line">       &#125; <span class="hljs-keyword">finally</span> &#123;</span><br><span class="line">         <span class="hljs-keyword">if</span> (<span class="hljs-keyword">out</span> != <span class="hljs-literal">null</span>) &#123;</span><br><span class="line">           <span class="hljs-keyword">out</span>.close();</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125; <span class="hljs-keyword">finally</span> &#123;</span><br><span class="line">       <span class="hljs-keyword">if</span> (<span class="hljs-keyword">in</span> != <span class="hljs-literal">null</span>) &#123;</span><br><span class="line">         <span class="hljs-keyword">in</span>.close();</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>是不是简化了很多。</p>
<ul>
<li>@Getter/@Setter<br>这一对注解从名字上就很好理解，用在成员变量前面，相当于为成员变量生成对应的get和set方法，同时还可以为生成的方法指定访问修饰符，当然，默认为public，直接来看下面的简单的例子：</li>
</ul>
<figure class="highlight less hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">Programmer</span>&#123;</span><br><span class="line">    <span class="hljs-variable">@Getter</span></span><br><span class="line">    <span class="hljs-variable">@Setter</span></span><br><span class="line">    private String name;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-variable">@Setter</span>(AccessLevel.PROTECTED)</span><br><span class="line">    private int age;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-variable">@Getter</span>(AccessLevel.PUBLIC)</span><br><span class="line">    private String language;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实际效果相当于：</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Programmer</span>&#123;</span></span><br><span class="line">    <span class="hljs-keyword">private</span> String name;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;</span><br><span class="line">    <span class="hljs-keyword">private</span> String language;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> age)</span></span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getLanguage</span><span class="hljs-params">()</span></span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> language;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这两个注解还可以直接用在类上，可以为此类里的所有非静态成员变量生成对应的get和set方法。</p>
<ul>
<li><p>@ToString/@EqualsAndHashCode<br>这两个注解也比较好理解，就是生成toString，equals和hashcode方法，同时后者还会生成一个canEqual方法，用于判断某个对象是否是当前类的实例，生成方法时只会使用类中的非静态和非transient成员变量，这些都比较好理解，就不举例子了。<br>当然，这两个注解也可以添加限制条件，例如用@ToString(exclude={“param1”，“param2”})来排除param1和param2两个成员变量，或者用@ToString(of={“param1”，“param2”})来指定使用param1和param2两个成员变量，@EqualsAndHashCode注解也有同样的用法。</p>
</li>
<li><p>@NoArgsConstructor/@RequiredArgsConstructor /@AllArgsConstructor<br>这三个注解都是用在类上的，第一个和第三个都很好理解，就是为该类产生无参的构造方法和包含所有参数的构造方法，第二个注解则使用类中所有带有@NonNull注解的或者带有final修饰的成员变量生成对应的构造方法，当然，和前面几个注解一样，成员变量都是非静态的，另外，如果类中含有final修饰的成员变量，是无法使用@NoArgsConstructor注解的。<br>三个注解都可以指定生成的构造方法的访问权限，同时，第二个注解还可以用@RequiredArgsConstructor(staticName=”methodName”)的形式生成一个指定名称的静态方法，返回一个调用相应的构造方法产生的对象，下面来看一个生动鲜活的例子：</p>
</li>
</ul>
<figure class="highlight less hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-variable">@RequiredArgsConstructor</span>(staticName = <span class="hljs-string">"sunsfan"</span>)</span><br><span class="line"><span class="hljs-variable">@AllArgsConstructor</span>(access = AccessLevel.PROTECTED)</span><br><span class="line"><span class="hljs-variable">@NoArgsConstructor</span></span><br><span class="line">public class Shape &#123;</span><br><span class="line">    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">x</span>;</span><br><span class="line">    @<span class="hljs-selector-tag">NonNull</span></span><br><span class="line">    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">double</span> <span class="hljs-selector-tag">y</span>;</span><br><span class="line">    @<span class="hljs-selector-tag">NonNull</span></span><br><span class="line">    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">name</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实际效果相当于：</p>
<figure class="highlight fortran hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-built_in">Shape</span> &#123;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> x;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> y;</span><br><span class="line">    <span class="hljs-keyword">private</span> String <span class="hljs-keyword">name</span>;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-built_in">Shape</span>()&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">protected</span> <span class="hljs-built_in">Shape</span>(<span class="hljs-built_in">int</span> x,<span class="hljs-keyword">double</span> y,String <span class="hljs-keyword">name</span>)&#123;</span><br><span class="line">        this.x = x;</span><br><span class="line">        this.y = y;</span><br><span class="line">        this.<span class="hljs-keyword">name</span> = <span class="hljs-keyword">name</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-built_in">Shape</span>(<span class="hljs-keyword">double</span> y,String <span class="hljs-keyword">name</span>)&#123;</span><br><span class="line">        this.y = y;</span><br><span class="line">        this.<span class="hljs-keyword">name</span> = <span class="hljs-keyword">name</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> static <span class="hljs-built_in">Shape</span> sunsfan(<span class="hljs-keyword">double</span> y,String <span class="hljs-keyword">name</span>)&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> new <span class="hljs-built_in">Shape</span>(y,<span class="hljs-keyword">name</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>@Data/@Value<br>@Data注解综合了3,4,5和6里面的@RequiredArgsConstructor注解，其中@RequiredArgsConstructor使用了类中的带有@NonNull注解的或者final修饰的成员变量，它可以使用@Data(staticConstructor=”methodName”)来生成一个静态方法，返回一个调用相应的构造方法产生的对象。这个例子就也省略了吧…<br>@Value注解和@Data类似，区别在于它会把所有成员变量默认定义为private final修饰，并且不会生成set方法。</p>
</li>
<li><p>@SneakyThrows<br>这个注解用在方法上，可以将方法中的代码用try-catch语句包裹起来，捕获异常并在catch中用Lombok.sneakyThrow(e)把异常抛出，可以使用@SneakyThrows(Exception.class)的形式指定抛出哪种异常，很简单的注解，直接看个例子：</p>
</li>
</ul>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SneakyThrows</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="hljs-meta">@SneakyThrows</span>(UnsupportedEncodingException.class)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">utf8ToString</span><span class="hljs-params">(<span class="hljs-keyword">byte</span>[] bytes)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> String(bytes, <span class="hljs-string">"UTF-8"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@SneakyThrows</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Throwable();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实际效果相当于：</p>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SneakyThrows</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="hljs-meta">@SneakyThrows</span>(UnsupportedEncodingException.class)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">utf8ToString</span><span class="hljs-params">(<span class="hljs-keyword">byte</span>[] bytes)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">try</span>&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> String(bytes, <span class="hljs-string">"UTF-8"</span>);</span><br><span class="line">        &#125;<span class="hljs-keyword">catch</span>(UnsupportedEncodingException uee)&#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> Lombok.sneakyThrow(uee);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@SneakyThrows</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">try</span>&#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Throwable();</span><br><span class="line">        &#125;<span class="hljs-keyword">catch</span>(Throwable t)&#123;</span><br><span class="line">            <span class="hljs-keyword">throw</span> Lombok.sneakyThrow(t);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>@Synchronized<br>这个注解用在类方法或者实例方法上，效果和synchronized关键字相同，区别在于锁对象不同，对于类方法和实例方法，synchronized关键字的锁对象分别是类的class对象和this对象，而@Synchronized得锁对象分别是私有静态final对象LOCK和私有final对象LOCK和私有final对象lock，当然，也可以自己指定锁对象，例子也很简单，往下看：</li>
</ul>
<figure class="highlight java hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Synchronized</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Object readLock = <span class="hljs-keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Synchronized</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">hello</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="hljs-string">"world"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Synchronized</span></span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">answerToLife</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-number">42</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Synchronized</span>(<span class="hljs-string">"readLock"</span>)</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="hljs-string">"bar"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实际效果相当于：</p>
<figure class="highlight processing hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> class Synchronized &#123;</span><br><span class="line">   <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">Object</span> $LOCK = <span class="hljs-keyword">new</span> <span class="hljs-keyword">Object</span>[<span class="hljs-number">0</span>];</span><br><span class="line">   <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">Object</span> $lock = <span class="hljs-keyword">new</span> <span class="hljs-keyword">Object</span>[<span class="hljs-number">0</span>];</span><br><span class="line">   <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">Object</span> readLock = <span class="hljs-keyword">new</span> <span class="hljs-keyword">Object</span>();</span><br><span class="line"></span><br><span class="line">   <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> hello() &#123;</span><br><span class="line">     <span class="hljs-keyword">synchronized</span>($LOCK) &#123;</span><br><span class="line">       System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"world"</span>);</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> answerToLife() &#123;</span><br><span class="line">     <span class="hljs-keyword">synchronized</span>($lock) &#123;</span><br><span class="line">       <span class="hljs-keyword">return</span> <span class="hljs-number">42</span>;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> foo() &#123;</span><br><span class="line">     <span class="hljs-keyword">synchronized</span>(readLock) &#123;</span><br><span class="line">       System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"bar"</span>);</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>@Log</li>
</ul>
<p>这个注解用在类上，可以省去从日志工厂生成日志对象这一步，直接进行日志记录，具体注解根据日志工具的不同而不同，同时，可以在注解中使用topic来指定生成log对象时的类名。不同的日志注解总结如下(上面是注解，下面是实际作用)：</p>
<figure class="highlight d hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">@CommonsLog</span></span><br><span class="line"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> org.apache.commons.logging.Log log = org.apache.commons.logging.LogFactory.getLog(LogExample.<span class="hljs-keyword">class</span>);</span><br><span class="line"><span class="hljs-keyword">@JBossLog</span></span><br><span class="line"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> org.jboss.logging.Logger log = org.jboss.logging.Logger.getLogger(LogExample.<span class="hljs-keyword">class</span>);</span><br><span class="line"><span class="hljs-keyword">@Log</span></span><br><span class="line"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> java.util.logging.Logger log = java.util.logging.Logger.getLogger(LogExample.<span class="hljs-keyword">class</span>.getName());</span><br><span class="line"><span class="hljs-keyword">@Log4j</span></span><br><span class="line"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> org.apache.log4j.Logger log = org.apache.log4j.Logger.getLogger(LogExample.<span class="hljs-keyword">class</span>);</span><br><span class="line"><span class="hljs-keyword">@Log4j2</span></span><br><span class="line"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> org.apache.logging.log4j.Logger log = org.apache.logging.log4j.LogManager.getLogger(LogExample.<span class="hljs-keyword">class</span>);</span><br><span class="line"><span class="hljs-keyword">@Slf4j</span></span><br><span class="line"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger(LogExample.<span class="hljs-keyword">class</span>);</span><br><span class="line"><span class="hljs-keyword">@XSlf4j</span></span><br><span class="line"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> org.slf4j.ext.XLogger log = org.slf4j.ext.XLoggerFactory.getXLogger(LogExample.<span class="hljs-keyword">class</span>);</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-11T13:47:00.000Z">2019-10-11</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 分钟 read (About 928 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/11/Builder/">@Builder</a>
            
        </h1>
        <div class="content">
            <p>lombok的@Builder实际是建造者模式的一个变种，所以在创建复杂对象时常使用</p>
<figure class="highlight fortran hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">import</span> lombok.Builder;</span><br><span class="line"><span class="hljs-keyword">import</span> lombok.<span class="hljs-keyword">Data</span>;</span><br><span class="line"></span><br><span class="line">@<span class="hljs-keyword">Data</span></span><br><span class="line">@Builder</span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> People &#123;</span><br><span class="line">    <span class="hljs-keyword">private</span> String <span class="hljs-keyword">name</span>;</span><br><span class="line">    <span class="hljs-keyword">private</span> String sex;</span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用了@Bulider和@Data注解后，就可以使用链式风格优雅地创建对象</p>
<figure class="highlight cs hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TestLombok</span> &#123;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testBuilderAnnotation</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="line">        People luoTianyan = People.builder()</span><br><span class="line">                .sex(<span class="hljs-string">"female"</span>)</span><br><span class="line">                .age(<span class="hljs-number">23</span>)</span><br><span class="line">                .name(<span class="hljs-string">"LuoTianyan"</span>)</span><br><span class="line">                .build();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        System.<span class="hljs-keyword">out</span>.println(luoTianyan.toString());</span><br><span class="line">        <span class="hljs-comment">//People(name=LuoTianyan, sex=female, age=23)</span></span><br><span class="line"></span><br><span class="line">        People people = <span class="hljs-keyword">new</span> People(<span class="hljs-string">"LuoTianyan"</span>,<span class="hljs-string">"female"</span>,<span class="hljs-number">23</span>);</span><br><span class="line">        System.<span class="hljs-keyword">out</span>.println(luoTianyan.<span class="hljs-keyword">equals</span>(people));</span><br><span class="line">        <span class="hljs-comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>class People加上了@Builder和@Data注解后，多了一个静态内部类PeopleBuilder，People调用静态方法builder生成PeopleBuilder对象，PeopleBuilder对象可以使用”.属性名(属性值)”的方式进行属性设置，再调用build()方法就生成了People对象，并且如果两个People对象的属性如果相同，就会认为这两个对象相等，即重写了hashCode和equls方法。</p>
<p>可以利用Javap、cfr进行反编译该字节码；</p>
<p>这里就直接在Intellij IDEA下，查看反编译的文件People.class；</p>
<p>可以看到，生成的有：</p>
<p>Getter和Setter方法；<br>访问类型是private无参构造方法，访问类型为default的全部参数的构造方法；<br>重写hashCode、equals、toString方法，则People可以做为Map的key；<br>访问类型为public的静态方法builder，返回的是People.PeopleBuilder对象，非单例；<br>访问类型为public的静态内部类PeopleBuilder，该类主要有build方法，返回类型是People；<br>最后还有个canEqual方法，判断是否与People同类型。</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">//</span></span><br><span class="line"><span class="hljs-comment">// Source code recreated from a .class file by IntelliJ IDEA</span></span><br><span class="line"><span class="hljs-comment">// (powered by Fernflower decompiler)</span></span><br><span class="line"><span class="hljs-comment">//</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span> </span>&#123;</span><br><span class="line">    <span class="hljs-keyword">private</span> String name;</span><br><span class="line">    <span class="hljs-keyword">private</span> String sex;</span><br><span class="line">    <span class="hljs-keyword">private</span> int age;</span><br><span class="line"></span><br><span class="line">    People(String name, String sex, int age) &#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.name = name;</span><br><span class="line">        <span class="hljs-keyword">this</span>.sex = sex;</span><br><span class="line">        <span class="hljs-keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> static People.PeopleBuilder builder() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> new People.PeopleBuilder();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">private</span> People() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> String getName() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> String getSex() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> int getAge() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> void setName(String name) &#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> void setSex(String sex) &#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> void setAge(int age) &#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> boolean equals(Object o) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">this</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!(o instanceof People)) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">            People other = (People)o;</span><br><span class="line">            <span class="hljs-keyword">if</span> (!other.canEqual(<span class="hljs-keyword">this</span>)) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                label39: &#123;</span><br><span class="line">                    Object <span class="hljs-keyword">this</span>$name = <span class="hljs-keyword">this</span>.getName();</span><br><span class="line">                    Object other$name = other.getName();</span><br><span class="line">                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>$name == <span class="hljs-literal">null</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">if</span> (other$name == <span class="hljs-literal">null</span>) &#123;</span><br><span class="line">                            <span class="hljs-keyword">break</span> label39;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>$name.equals(other$name)) &#123;</span><br><span class="line">                        <span class="hljs-keyword">break</span> label39;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                Object <span class="hljs-keyword">this</span>$sex = <span class="hljs-keyword">this</span>.getSex();</span><br><span class="line">                Object other$sex = other.getSex();</span><br><span class="line">                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>$sex == <span class="hljs-literal">null</span>) &#123;</span><br><span class="line">                    <span class="hljs-keyword">if</span> (other$sex != <span class="hljs-literal">null</span>) &#123;</span><br><span class="line">                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>$sex.equals(other$sex)) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getAge() != other.getAge()) &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="line">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="line">                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">protected</span> boolean canEqual(Object other) &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> other instanceof People;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> int hashCode() &#123;</span><br><span class="line">        int PRIME = <span class="hljs-literal">true</span>;</span><br><span class="line">        int result = <span class="hljs-number">1</span>;</span><br><span class="line">        Object $name = <span class="hljs-keyword">this</span>.getName();</span><br><span class="line">        int result = result * <span class="hljs-number">59</span> + ($name == <span class="hljs-literal">null</span> ? <span class="hljs-number">43</span> : $name.hashCode());</span><br><span class="line">        Object $sex = <span class="hljs-keyword">this</span>.getSex();</span><br><span class="line">        result = result * <span class="hljs-number">59</span> + ($sex == <span class="hljs-literal">null</span> ? <span class="hljs-number">43</span> : $sex.hashCode());</span><br><span class="line">        result = result * <span class="hljs-number">59</span> + <span class="hljs-keyword">this</span>.getAge();</span><br><span class="line">        <span class="hljs-keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> String toString() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-string">"People(name="</span> + <span class="hljs-keyword">this</span>.getName() + <span class="hljs-string">", sex="</span> + <span class="hljs-keyword">this</span>.getSex() + <span class="hljs-string">", age="</span> + <span class="hljs-keyword">this</span>.getAge() + <span class="hljs-string">")"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> static <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PeopleBuilder</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">private</span> String name;</span><br><span class="line">        <span class="hljs-keyword">private</span> String sex;</span><br><span class="line">        <span class="hljs-keyword">private</span> int age;</span><br><span class="line"></span><br><span class="line">        PeopleBuilder() &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> People.PeopleBuilder name(String name) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.name = name;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> People.PeopleBuilder sex(String sex) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.sex = sex;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> People.PeopleBuilder age(int age) &#123;</span><br><span class="line">            <span class="hljs-keyword">this</span>.age = age;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> People build() &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> new People(<span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.sex, <span class="hljs-keyword">this</span>.age);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">public</span> String toString() &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-string">"People.PeopleBuilder(name="</span> + <span class="hljs-keyword">this</span>.name + <span class="hljs-string">", sex="</span> + <span class="hljs-keyword">this</span>.sex + <span class="hljs-string">", age="</span> + <span class="hljs-keyword">this</span>.age + <span class="hljs-string">")"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>自从Java 6起，Javac就支持“JSR 269 Pluggable Annotation Processing API”规范，只要程序实现了该API，就能在javac运行的时候得到调用。</p>
<p>Lombok就是一个实现了”JSR 269 API”的程序。在使用javac的过程中，它产生作用的具体流程如下：</p>
<p>Javac对源代码进行分析，生成一棵抽象语法树(AST)</p>
<p>Javac编译过程中调用实现了JSR 269的Lombok程序</p>
<p>此时Lombok就对第一步骤得到的AST进行处理，找到Lombok注解所在类对应的语法树(AST)，然后修改该语法树(AST)，增加Lombok注解定义的相应树节点</p>
<p>Javac使用修改后的抽象语法树(AST)生成字节码文件</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-10-11T11:16:00.000Z">2019-10-11</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    1 分钟 read (About 112 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/10/11/able-注解详解/">@Table 注解详解</a>
            
        </h1>
        <div class="content">
            <p>spring @Table注解<br>作用是 ： 声明此对象映射到数据库的数据表，通过它可以为实体指定表(talbe)</p>
<p>常用的两个属性：<br>1、name 用来命名 当前实体类 对应的数据库 表的名字<br><code>@Table(name = &quot;tab_user&quot;）</code></p>
<p>2、uniqueConstraints 用来批量命名唯一键<br>其作用等同于多个：@Column(unique = true)</p>
<p><code>@Table(name = &quot;tab_user&quot;,uniqueConstraints = {@UniqueConstraint(columnNames={&quot;uid&quot;,&quot;email&quot;})})</code></p>
<p><img src="/images/pasted-183.png" alt="upload successful"><br><img src="/images/pasted-184.png" alt="upload successful"></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-28T17:30:00.000Z">2019-09-28</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    1 分钟 read (About 136 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/29/loginintercepter/">logininterceptor（mycatdemo里的）</a>
            
        </h1>
        <div class="content">
            <figure class="highlight aspectj hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginInterceptor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HandlerInterceptorAdapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">//不需要拦截的url集合</span></span><br><span class="line">    <span class="hljs-keyword">private</span> List&lt;String&gt; IGNORE_URI;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object <span class="hljs-keyword">handler</span>)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="hljs-comment">//获取URI后缀</span></span><br><span class="line">        String requestUri = request.getServletPath();</span><br><span class="line"></span><br><span class="line">        <span class="hljs-keyword">if</span>(requestUri.equalsIgnoreCase(<span class="hljs-string">"/"</span>))    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">//过滤不需要拦截的地址</span></span><br><span class="line">        <span class="hljs-keyword">for</span> (String uri : IGNORE_URI) &#123;</span><br><span class="line">            <span class="hljs-keyword">if</span> (requestUri.startsWith(uri)) &#123;</span><br><span class="line">                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        HttpSession session = request.getSession();</span><br><span class="line">        <span class="hljs-comment">//session中包含登录状态放行</span></span><br><span class="line">        <span class="hljs-keyword">if</span>(session != <span class="hljs-keyword">null</span> &amp;&amp; session.getAttribute(<span class="hljs-string">"login_status"</span>) != <span class="hljs-keyword">null</span>)&#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;</span><br><span class="line">        &#125;<span class="hljs-keyword">else</span>&#123;</span><br><span class="line">            response.sendRedirect(<span class="hljs-string">"/user/login?timeout=true"</span>);</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">postHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object <span class="hljs-keyword">handler</span>, ModelAndView modelAndView)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">super</span>.postHandle(request, response, <span class="hljs-keyword">handler</span>, modelAndView);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> List&lt;String&gt; getIGNORE_URI() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> IGNORE_URI;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setIGNORE_URI</span><span class="hljs-params">(List&lt;String&gt; IGNORE_URI)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.IGNORE_URI = IGNORE_URI;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-27T00:53:00.000Z">2019-09-27</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 分钟 read (About 1217 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/27/Spring-Boot集成FastDFS/">Spring Boot集成FastDFS</a>
            
        </h1>
        <div class="content">
            <p><a href="https://blog.csdn.net/qq_756589808/article/details/82882589" target="_blank" rel="noopener">https://blog.csdn.net/qq_756589808/article/details/82882589</a></p>
<p>1、建立一个springboot的工程，下面的是我的目录结构：</p>
<p><img src="/images/pasted-160.png" alt="upload successful"></p>
<p>2、pom文件引入依赖：</p>
<figure class="highlight dust hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.reporting.outputEncoding</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">commons-lang3.version</span>&gt;</span>3.3.2<span class="hljs-tag">&lt;/<span class="hljs-name">commons-lang3.version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 支持 @ConfigurationProperties 注解 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-freemarker<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-amqp<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!-- 1.5的版本默认采用的连接池技术是jedis  2.0以上版本默认连接池是lettuce,</span></span></span><br><span class="line"><span class="hljs-xml">            在这里采用jedis，所以需要排除lettuce的jar --&gt;</span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">exclusions</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>redis.clients<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jedis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.lettuce<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lettuce-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                <span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">exclusions</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.4.1.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 添加jedis客户端 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>redis.clients<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jedis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/ojdbc/ojdbc --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.oracle<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>ojdbc6<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>11.2.0.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- http://repo1.maven.org/maven2/com/github/pagehelper/pagehelper/--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>pagehelper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- Apache工具组件 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.commons<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-lang3<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;commons-lang3.version&#125;</span><span class="hljs-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!--spring2.0集成redis所需common-pool2--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 必须加上，jedis依赖此  --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.commons<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-pool2<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-devtools<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- alibaba的druid数据库连接池 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 集成fastjson--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fastjson<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.47<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 集成Swagger2形成API文档请求接口--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.springfox<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springfox-swagger2<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.springfox<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 文件服务器--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.tobato<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fastdfs-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.26.1-RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-io<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-io<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-codec<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-codec<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.3.13.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.zaxxer<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>HikariCP<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.2.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-quartz<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-beanutils<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-beanutils-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.8.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>这个是方便在yml中自定义参数同过@Value的形式注入</p>
<p><img src="/images/pasted-161.png" alt="upload successful"></p>
<p>这个依赖确保是1.26.1以上的不然SpringBoot2.0集成会报错</p>
<p><img src="/images/pasted-162.png" alt="upload successful"></p>
<p>按照截图创建包以及建立类：</p>
<p><img src="/images/pasted-163.png" alt="upload successful"></p>
<p>3、编写FdfsConfig 类</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.saliai.logsystem.common.conf;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Value;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: Martin</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@Date</span>: 2018/10/12</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@Description</span>:</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@Modify</span> By:</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-meta">@Component</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FdfsConfig</span> </span>&#123;</span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;fdfs.res-host&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> String resHost;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@Value(<span class="hljs-meta-string">"<span class="hljs-subst">$&#123;fdfs.storage-port&#125;</span>"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">private</span> String storagePort;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-keyword">public</span> String getResHost() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> resHost;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-keyword">public</span> void setResHost(String resHost) &#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.resHost = resHost;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-keyword">public</span> String getStoragePort() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> storagePort;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-keyword">public</span> void setStoragePort(String storagePort) &#123;</span><br><span class="line">        <span class="hljs-keyword">this</span>.storagePort = storagePort;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4、编写 FdfsConfiguration 类</p>
<figure class="highlight css hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-tag">package</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.saliai</span><span class="hljs-selector-class">.logsystem</span><span class="hljs-selector-class">.common</span><span class="hljs-selector-class">.conf</span>;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * @author: Martin</span></span><br><span class="line"><span class="hljs-comment"> * @Date: 2018/10/12</span></span><br><span class="line"><span class="hljs-comment"> * @Description:</span></span><br><span class="line"><span class="hljs-comment"> * @Modify By:</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.github</span><span class="hljs-selector-class">.tobato</span><span class="hljs-selector-class">.fastdfs</span><span class="hljs-selector-class">.FdfsClientConfig</span>;</span><br><span class="line"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.context</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.Configuration</span>;</span><br><span class="line"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.context</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.EnableMBeanExport</span>;</span><br><span class="line"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.context</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.Import</span>;</span><br><span class="line"><span class="hljs-selector-tag">import</span> <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.jmx</span><span class="hljs-selector-class">.support</span><span class="hljs-selector-class">.RegistrationPolicy</span>;</span><br><span class="line"> </span><br><span class="line">@<span class="hljs-keyword">Configuration</span></span><br><span class="line">@<span class="hljs-keyword">Import</span>(<span class="hljs-keyword">FdfsClientConfig</span>.<span class="hljs-keyword">class</span>)</span><br><span class="line">@<span class="hljs-keyword">EnableMBeanExport</span>(<span class="hljs-keyword">registration</span> = RegistrationPolicy.IGNORE_EXISTING)</span><br><span class="line">public class FdfsConfiguration &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5、建立constants包并建立GlobalConstants类</p>
<p><img src="/images/pasted-164.png" alt="upload successful"></p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.saliai.logsystem.common.constants;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: Martin</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@Date</span>: 2018/10/25</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@Description</span>:</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@Modify</span> By:</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GlobalConstants</span> &#123;</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> String HTTP_FILEURL = <span class="hljs-string">"http://baihoomall.100healths.cn"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>6、创建截图中的FastDFSClientWrapper类：</p>
<figure class="highlight aspectj hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.saliai.logsystem.common.utils;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: Martin</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@Date</span>: 2018/9/28</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@Description</span>:</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@Modify</span> By:</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="hljs-keyword">import</span> com.github.tobato.fastdfs.domain.StorePath;</span><br><span class="line"><span class="hljs-keyword">import</span> com.github.tobato.fastdfs.exception.FdfsUnsupportStorePathException;</span><br><span class="line"><span class="hljs-keyword">import</span> com.github.tobato.fastdfs.proto.storage.DownloadByteArray;</span><br><span class="line"><span class="hljs-keyword">import</span> com.github.tobato.fastdfs.service.FastFileStorageClient;</span><br><span class="line"><span class="hljs-keyword">import</span> com.saliai.logsystem.common.conf.FdfsConfig;</span><br><span class="line"><span class="hljs-keyword">import</span> com.saliai.logsystem.common.constants.GlobalConstants;</span><br><span class="line"><span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="hljs-keyword">import</span> org.apache.commons.io.FilenameUtils;</span><br><span class="line"><span class="hljs-keyword">import</span> org.apache.commons.lang3.StringUtils;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-keyword">import</span> java.io.ByteArrayInputStream;</span><br><span class="line"><span class="hljs-keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="hljs-keyword">import</span> java.io.InputStream;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * 功能描述: 文件处理类</span></span><br><span class="line"><span class="hljs-comment"> *</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> Martin</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> V1.0</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@date</span> 2018/10/12</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-meta">@Component</span></span><br><span class="line"><span class="hljs-meta">@Slf</span>4j</span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FastDFSClientWrapper</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> FastFileStorageClient storageClient;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> FdfsConfig fdfsConfig;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-function">String <span class="hljs-title">uploadFile</span><span class="hljs-params">(MultipartFile file)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        StorePath storePath = storageClient.uploadFile((InputStream) file.getInputStream(), file.getSize(), FilenameUtils.getExtension(file.getOriginalFilename()), <span class="hljs-keyword">null</span>);</span><br><span class="line">        log.info(<span class="hljs-string">"storePath:"</span> + storePath);</span><br><span class="line">        <span class="hljs-function"><span class="hljs-keyword">return</span> <span class="hljs-title">getResAccessUrl</span><span class="hljs-params">(storePath)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * 封装文件完整URL地址</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> storePath</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">private</span> <span class="hljs-function">String <span class="hljs-title">getResAccessUrl</span><span class="hljs-params">(StorePath storePath)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-comment">//GlobalConstants.HTTP_PRODOCOL +</span></span><br><span class="line">        String fileUrl = GlobalConstants.HTTP_FILEURL + <span class="hljs-string">":"</span> + fdfsConfig.getStoragePort() + <span class="hljs-string">"/"</span> + storePath.getFullPath();</span><br><span class="line">        log.info(<span class="hljs-string">"fileUrl:"</span> + fileUrl);</span><br><span class="line">        <span class="hljs-keyword">return</span> fileUrl;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * 功能描述: 删除文件</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> fileUrl</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> void</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@author</span> Martin</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@date</span> 2018/10/12</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@version</span> V1.0</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">deleteFile</span><span class="hljs-params">(String fileUrl)</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">        log.info(<span class="hljs-string">"删除的文件的url:"</span> + fileUrl);</span><br><span class="line">        <span class="hljs-keyword">if</span> (StringUtils.isEmpty(fileUrl)) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">            StorePath storePath = StorePath.praseFromUrl(fileUrl);</span><br><span class="line">            log.info(<span class="hljs-string">"groupName:"</span>+storePath.getGroup()+<span class="hljs-string">"------"</span>+<span class="hljs-string">"文件路径path："</span>+storePath.getPath());</span><br><span class="line">            storageClient.deleteFile(storePath.getGroup(), storePath.getPath());</span><br><span class="line">        &#125; <span class="hljs-keyword">catch</span> (FdfsUnsupportStorePathException e) &#123;</span><br><span class="line">            log.warn(e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * 功能描述: 下载文件</span></span><br><span class="line"><span class="hljs-comment">     *</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> fileUrl</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> java.io.InputStream</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@author</span> Martin</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@date</span> 2018/10/12</span></span><br><span class="line"><span class="hljs-comment">     * <span class="hljs-doctag">@version</span> V1.0</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-keyword">public</span> <span class="hljs-function">InputStream <span class="hljs-title">downFile</span><span class="hljs-params">(String fileUrl)</span> </span>&#123;</span><br><span class="line">        <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">            StorePath storePath = StorePath.praseFromUrl(fileUrl);</span><br><span class="line">            <span class="hljs-keyword">byte</span>[] fileByte = storageClient.downloadFile(storePath.getGroup(), storePath.getPath(), <span class="hljs-keyword">new</span> DownloadByteArray());</span><br><span class="line">            InputStream ins = <span class="hljs-keyword">new</span> ByteArrayInputStream(fileByte);</span><br><span class="line">            <span class="hljs-keyword">return</span> ins;</span><br><span class="line">        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.<span class="hljs-keyword">error</span>(<span class="hljs-string">"Non IO Exception: Get File from Fast DFS failed"</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>7、接下来编写controller进行测试</p>
<figure class="highlight kotlin hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.saliai.logsystem.controller;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-keyword">import</span> com.saliai.logsystem.common.utils.FastDFSClientWrapper;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.*;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.servlet.mvc.support.RedirectAttributes;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-keyword">import</span> java.io.IOException;</span><br><span class="line"> </span><br><span class="line"><span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@author</span>: Martin</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@Date</span>: 2018/9/28</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@Description</span>:</span></span><br><span class="line"><span class="hljs-comment"> * <span class="hljs-doctag">@Modify</span> By:</span></span><br><span class="line"><span class="hljs-comment"> */</span></span><br><span class="line"><span class="hljs-meta">@Controller</span></span><br><span class="line"><span class="hljs-meta">@RequestMapping(<span class="hljs-meta-string">"/upload"</span>)</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UploadController</span> </span>&#123;</span><br><span class="line">    <span class="hljs-meta">@Autowired</span></span><br><span class="line">    <span class="hljs-keyword">private</span> FastDFSClientWrapper dfsClient;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@GetMapping(<span class="hljs-meta-string">"/"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">public</span> String index() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-string">"upload/upload"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@PostMapping(<span class="hljs-meta-string">"/fdfs_upload"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">public</span> String fdfsUpload(<span class="hljs-meta">@RequestParam(<span class="hljs-meta-string">"file"</span>)</span> MultipartFile file,</span><br><span class="line">                             RedirectAttributes redirectAttributes) &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (file.isEmpty()) &#123;</span><br><span class="line">            redirectAttributes.addFlashAttribute(<span class="hljs-string">"message"</span>, <span class="hljs-string">"Please select a file to upload"</span>);</span><br><span class="line">            <span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/upload/uploadStatus"</span>;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">            String fileUrl = dfsClient.uploadFile(file);</span><br><span class="line">            redirectAttributes.addFlashAttribute(<span class="hljs-string">"message"</span>,</span><br><span class="line">                    <span class="hljs-string">"You successfully uploaded '"</span> + fileUrl + <span class="hljs-string">"'"</span>);</span><br><span class="line">        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/upload/uploadStatus"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@GetMapping(<span class="hljs-meta-string">"/uploadStatus"</span>)</span></span><br><span class="line">    <span class="hljs-keyword">public</span> String uploadStatus() &#123;</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-string">"upload/uploadStatus"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="hljs-meta">@RequestMapping(<span class="hljs-meta-string">"/deleteFile"</span>)</span></span><br><span class="line">    <span class="hljs-meta">@ResponseBody</span></span><br><span class="line">    <span class="hljs-keyword">public</span> String deleteFile(<span class="hljs-meta">@RequestParam(value = <span class="hljs-meta-string">"fileUrl"</span>)</span> String fileUrl) &#123;</span><br><span class="line">        dfsClient.deleteFile(fileUrl);</span><br><span class="line">        <span class="hljs-keyword">return</span> <span class="hljs-string">"Success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>8、建立页面测试上传功能。这里使用freemarker</p>
<p><img src="/images/pasted-165.png" alt="upload successful"></p>
<p>upload.ftl:</p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Spring Boot file upload example<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/upload/fdfs_upload"</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">"multipart/form-data"</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"file"</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Submit"</span> /&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>uploadStatus.ftl:</p>
<figure class="highlight dust hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-xml"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span> <span class="hljs-attr">xmlns:th</span>=<span class="hljs-string">"http://www.thymeleaf.org"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Spring Boot - Upload Status<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;message&#125;</span><span class="hljs-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>在启动类中加上@EnableAutoConfiguration注解</p>
<p><img src="/images/pasted-167.png" alt="upload successful"></p>
<p>在配置文件中加入这两个截图的东西：</p>
<p><img src="/images/pasted-168.png" alt="upload successful"></p>
<p><img src="/images/pasted-169.png" alt="upload successful"></p>
<p>9、启动项目，进行测试<br><img src="/images/pasted-170.png" alt="upload successful"></p>
<p><img src="/images/pasted-171.png" alt="upload successful"><br>提交，进行文件上传：</p>
<p><img src="/images/pasted-172.png" alt="upload successful"></p>
<p>返回文件的地址，直接拷贝到浏览器访问，看看是否能访问。</p>
<p><img src="/images/pasted-173.png" alt="upload successful"></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-26T15:00:00.000Z">2019-09-26</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 分钟 read (About 246 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/26/Sprong-boot-Mongodb使用GridFs做小型文件服务器/">Sprong-boot Mongodb使用GridFs做小型文件服务器</a>
            
        </h1>
        <div class="content">
            <p>话不多说，直接正题：</p>
<figure class="highlight sqf hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">compile</span>(<span class="hljs-string">"org.springframework.boot:spring-boot-starter-data-mongodb"</span>)</span><br><span class="line"><span class="hljs-built_in">compile</span> <span class="hljs-built_in">group</span>: <span class="hljs-string">'commons-codec'</span>, <span class="hljs-built_in">name</span>: <span class="hljs-string">'commons-codec'</span>, version: <span class="hljs-string">'1.10'</span></span><br></pre></td></tr></table></figure>

<p>配置文件：</p>
<figure class="highlight dts hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-symbol">spring:</span></span><br><span class="line"><span class="hljs-symbol">  data:</span></span><br><span class="line"><span class="hljs-symbol">    mongodb:</span></span><br><span class="line"><span class="hljs-symbol">      database:</span> ***</span><br><span class="line"><span class="hljs-symbol">      host:</span> ***</span><br><span class="line"><span class="hljs-symbol">      username:</span> ***</span><br><span class="line"><span class="hljs-symbol">      password:</span> ***</span><br><span class="line"><span class="hljs-symbol">      port:</span> ***</span><br></pre></td></tr></table></figure>

<p>上传文件代码：</p>
<figure class="highlight dart hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">@ResponseBody</span></span><br><span class="line"><span class="hljs-meta">@PostMapping</span>(value = <span class="hljs-string">"/upload/file"</span>)</span><br><span class="line">public <span class="hljs-built_in">String</span> uploadSample(<span class="hljs-meta">@RequestBody</span> MultipartFile file) &#123;</span><br><span class="line">    <span class="hljs-keyword">try</span> &#123;</span><br><span class="line">        <span class="hljs-built_in">String</span> md5 = DigestUtils.md5Hex(file.getInputStream());</span><br><span class="line">        QueryBuilder builder = <span class="hljs-keyword">new</span> QueryBuilder();</span><br><span class="line">        builder.and(<span class="hljs-string">"md5"</span>).<span class="hljs-keyword">is</span>(md5);</span><br><span class="line">        GridFSDBFile gridFSDBFile = gridFsTemplate.findOne(<span class="hljs-keyword">new</span> BasicQuery(builder.<span class="hljs-keyword">get</span>()));</span><br><span class="line">        <span class="hljs-keyword">if</span> (gridFSDBFile != <span class="hljs-keyword">null</span>) &#123;</span><br><span class="line">            <span class="hljs-keyword">return</span> gridFSDBFile.getId().toString();</span><br><span class="line">        &#125;</span><br><span class="line">        GridFSFile gridFSFile = gridFsTemplate.store(file.getInputStream(), file.getOriginalFilename(), file.getContentType());</span><br><span class="line">        returngridFSFile.getId().toString();</span><br><span class="line">    &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>访问图片代码:</p>
<figure class="highlight vbscript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@GetMapping(value = <span class="hljs-string">"/get/file/&#123;id&#125;"</span>)</span><br><span class="line"><span class="hljs-keyword">public</span> void <span class="hljs-keyword">get</span>(@PathVariable Object id, HttpServletResponse <span class="hljs-built_in">response</span>) throws IOException &#123;</span><br><span class="line">    QueryBuilder builder = <span class="hljs-keyword">new</span> QueryBuilder();</span><br><span class="line">    builder.<span class="hljs-keyword">and</span>(<span class="hljs-string">"_id"</span>).<span class="hljs-keyword">is</span>(id);</span><br><span class="line">    GridFSDBFile file = gridFsTemplate.findOne(<span class="hljs-keyword">new</span> BasicQuery(builder.<span class="hljs-keyword">get</span>()));</span><br><span class="line">    <span class="hljs-built_in">response</span>.setContentType(file.getContentType());</span><br><span class="line">    file.writeTo(<span class="hljs-built_in">response</span>.getOutputStream());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>spring boot中默认配置可以满足基本需求，文件存储可以使用文件md5去重，非常方便，需要注意的是mongodb存储对文件大小的限制，这个具体数值请自行测试。</p>
<p>另一篇参考文档：<br><a href="https://blog.csdn.net/szs860806/article/details/72528618" target="_blank" rel="noopener">https://blog.csdn.net/szs860806/article/details/72528618</a></p>
<p><a href="https://www.songliguo.com/gridfs-mongodb-distributed-file-storage-system.html" target="_blank" rel="noopener">https://www.songliguo.com/gridfs-mongodb-distributed-file-storage-system.html</a></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-24T11:12:00.000Z">2019-09-24</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 分钟 read (About 451 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/24/HandlerInterceptor的preHandle、postHandle、afterCompletion方法的作用/">HandlerInterceptor的preHandle、postHandle、afterCompletion方法的作用</a>
            
        </h1>
        <div class="content">
            <h4 id="处理器拦截器（HandlerInterceptor）详解"><a href="#处理器拦截器（HandlerInterceptor）详解" class="headerlink" title="处理器拦截器（HandlerInterceptor）详解"></a>处理器拦截器（HandlerInterceptor）详解</h4><p>(1)preHandle方法是进行处理器拦截用的，顾名思义，该方法将在Controller处理之前进行调用。<br>SpringMVC中的Interceptor拦截器是链式的，可以同时存在多个Interceptor，然后SpringMVC会根据声明的前后顺序一个接一个的执行，而且所有的Interceptor中的preHandle方法都会在Controller方法调用之前调用。<br><strong>（SpringMVC的这种Interceptor链式结构也是可以进行中断的，这种中断方式是令preHandle的返回值为false，当preHandle的返回值为false的时候整个请求就结束了。）</strong><br>重写preHandle方法，在请求发生前执行。<br>(2)postHandle是进行处理器拦截用的，这个方法只会在当前这个Interceptor的preHandle方法返回值为true的时候才会执行。它的执行时间是在处理器进行处理之后，也就是在Controller的方法调用之后执行，但是它会在DispatcherServlet进行视图的渲染之前执行，也就是说在这个方法中你可以对ModelAndView进行操作。这个方法的链式结构跟正常访问的方向是相反的，也就是说先声明的Interceptor拦截器该方法反而会后调用。<br>重写postHandle方法，在请求完成后执行。<br>(3)afterCompletion这个方法只会在当前这个Interceptor的preHandle方法返回值为true的时候才会执行。该方法将在整个请求完成之后，也就是DispatcherServlet渲染了视图执行。（如性能监控中我们可以在此记录结束时间并输出消耗时间，还可以进行一些资源清理）</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-20T17:05:00.000Z">2019-09-20</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 分钟 read (About 241 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/21/springboot配置mvc/">springboot配置mvc和静态资源路径</a>
            
        </h1>
        <div class="content">
            <figure class="highlight yaml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attr">spring:</span>  </span><br><span class="line"><span class="hljs-comment">#配置控制台允许彩色输出 ANSI是一种字符代码，为使计算机支持更多语言，通常使用 0x00~0x7f 范围的1 个字节来表示 1 个英文字符。超出此范围的使用0x80~0xFFFF来编码，即扩展的ASCII编码。</span></span><br><span class="line">  <span class="hljs-attr">output:</span></span><br><span class="line"><span class="hljs-attr">    ansi:</span></span><br><span class="line"><span class="hljs-attr">      enabled:</span> <span class="hljs-string">ALWAYS</span></span><br><span class="line"><span class="hljs-attr">  jackson:</span>  </span><br><span class="line"><span class="hljs-attr">    time-zone:</span> <span class="hljs-string">GMT+8</span> </span><br><span class="line"><span class="hljs-attr">    date-format:</span> <span class="hljs-string">yyyy-MM-dd</span> <span class="hljs-attr">HH:mm:ss</span></span><br><span class="line"><span class="hljs-attr">  gson:</span></span><br><span class="line"><span class="hljs-attr">    date-format:</span> <span class="hljs-string">yyyy-MM-dd</span> <span class="hljs-attr">HH:mm:ss</span></span><br><span class="line"><span class="hljs-attr">  pid:</span></span><br><span class="line"><span class="hljs-attr">    file:</span> <span class="hljs-string">/var/run/ensbrain/server.pid</span></span><br><span class="line"><span class="hljs-attr">  mvc:</span></span><br><span class="line"><span class="hljs-attr">    static-path-pattern:</span> <span class="hljs-string">/**</span></span><br><span class="line">  <span class="hljs-comment">#指定静态资源存放的地址放前端打包的东西</span></span><br><span class="line">  <span class="hljs-attr">resources:</span></span><br><span class="line">    <span class="hljs-attr">static-locations:</span> <span class="hljs-attr">file:/usr/local/ensbrain/www/</span></span><br></pre></td></tr></table></figure>

<p>自定义日志等级高亮颜色<br>ANSI 简单输出测试</p>
<figure class="highlight arduino hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(<span class="hljs-keyword">String</span>[] args) &#123;</span><br><span class="line">       System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"\033[32m test  \033[39m 时间"</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p><img src="/images/pasted-156.png" alt="upload successful"></p>
<p>ASNI 颜色编码说明 </p>
<table>
<thead>
<tr>
<th align="left">ANSIConstants</th>
<th align="left">ASNI</th>
<th align="left">颜色</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ESC_START</td>
<td align="left">\033[</td>
<td align="left">编码开始标识</td>
</tr>
<tr>
<td align="left">BLACK_FG</td>
<td align="left">30</td>
<td align="left">BLACK_FG</td>
</tr>
<tr>
<td align="left">RED_FG</td>
<td align="left">31</td>
<td align="left">RED_FG</td>
</tr>
<tr>
<td align="left">GREEN_FG</td>
<td align="left">32</td>
<td align="left">GREEN_FG</td>
</tr>
<tr>
<td align="left">YELLOW_FG</td>
<td align="left">33</td>
<td align="left">YELLOW_FG</td>
</tr>
<tr>
<td align="left">BLUE_FG</td>
<td align="left">34</td>
<td align="left">BLUE_FG</td>
</tr>
<tr>
<td align="left">MAGENTA_FG</td>
<td align="left">35</td>
<td align="left">MAGENTA_FG</td>
</tr>
<tr>
<td align="left">CYAN_FG</td>
<td align="left">36</td>
<td align="left">CYAN_FG</td>
</tr>
<tr>
<td align="left">WHITE_FG</td>
<td align="left">37</td>
<td align="left">WHITE_FG</td>
</tr>
<tr>
<td align="left">DEFAULT_FG</td>
<td align="left">39</td>
<td align="left">DEFAULT_FG</td>
</tr>
<tr>
<td align="left">ESC_END</td>
<td align="left">m</td>
<td align="left">编码结束标识</td>
</tr>
</tbody></table>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-20T09:28:00.000Z">2019-09-20</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    9 分钟 read (About 1390 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/20/Springboot整合Logback日志/">Springboot整合Logback日志</a>
            
        </h1>
        <div class="content">
            <p>（一）添加依赖<br>  Springboot2.0自动整合了logback和log4j2，所以无需引入相关依赖。</p>
<p>（二）创建logback配置文件<br>  首先，官方推荐使用的xml名字的格式为：logback-spring.xml而不是logback.xml，至于为什么，因为带spring后缀的可以使用<springprofile>这个标签（PS：这个标签用于切换“开发环境”和“生产环境”）。</springprofile></p>
<figure class="highlight dust hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-comment">&lt;!-- 日志级别从低到高分为TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL，如果设置为WARN，则低于WARN的信息都不会输出 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-comment">&lt;!-- scan:当此属性设置为true时，配置文件如果发生改变，将会被重新加载，默认值为true --&gt;</span></span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-comment">&lt;!-- scanPeriod:设置监测配置文件是否有修改的时间间隔，如果没有给出时间单位，默认单位是毫秒。当scan为true时，此属性生效。默认的时间间隔为1分钟。 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-comment">&lt;!-- de<span class="hljs-doctag">bug:</span>当此属性设置为true时，将打印出logback内部日志信息，实时查看logback运行状态。默认值为false。 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>  <span class="hljs-attr">scan</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">scanPeriod</span>=<span class="hljs-string">"10 seconds"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">contextName</span>&gt;</span>logback<span class="hljs-tag">&lt;/<span class="hljs-name">contextName</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- name的值是变量的名称，value的值时变量定义的值。通过定义的值会被插入到logger上下文中。定义变量后，可以使“$</span></span><span class="hljs-template-variable">&#123;&#125;</span><span class="hljs-xml"><span class="hljs-comment">”来使用变量。 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 日志文件的输出路径 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"log.path"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"E:/log"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 彩色日志 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 彩色日志依赖的渲染类 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">conversionRule</span> <span class="hljs-attr">conversionWord</span>=<span class="hljs-string">"clr"</span> <span class="hljs-attr">converterClass</span>=<span class="hljs-string">"org.springframework.boot.logging.logback.ColorConverter"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">conversionRule</span> <span class="hljs-attr">conversionWord</span>=<span class="hljs-string">"wex"</span> <span class="hljs-attr">converterClass</span>=<span class="hljs-string">"org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">conversionRule</span> <span class="hljs-attr">conversionWord</span>=<span class="hljs-string">"wEx"</span> <span class="hljs-attr">converterClass</span>=<span class="hljs-string">"org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 彩色日志格式 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"CONSOLE_LOG_PATTERN"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$</span></span></span><span class="hljs-template-variable">&#123;CONSOLE_LOG_PATTERN:-%clr(%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string">)</span></span></span><span class="hljs-template-variable">&#123;faint&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string"> %clr($</span></span></span><span class="hljs-template-variable">&#123;LOG_LEVEL_PATTERN:-%5p&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string">) %clr($</span></span></span><span class="hljs-template-variable">&#123;PID:- &#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string">)</span></span></span><span class="hljs-template-variable">&#123;magenta&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string"> %clr(---)</span></span></span><span class="hljs-template-variable">&#123;faint&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string"> %clr([%15.15t])</span></span></span><span class="hljs-template-variable">&#123;faint&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string"> %clr(%-40.40logger</span></span></span><span class="hljs-template-variable">&#123;39&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string">)</span></span></span><span class="hljs-template-variable">&#123;cyan&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string"> %clr(:)</span></span></span><span class="hljs-template-variable">&#123;faint&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string"> %m%n$</span></span></span><span class="hljs-template-variable">&#123;LOG_EXCEPTION_CONVERSION_WORD:-%wEx&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string">&#125;"</span>/&gt;</span></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--输出到控制台--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"CONSOLE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.ConsoleAppender"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!--此日志appender是为开发使用，只配置最底级别，控制台输出的日志级别是大于或等于此级别的日志信息--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.classic.filter.ThresholdFilter"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>debug<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!--彩色日志--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!--&lt;Pattern&gt;$</span></span><span class="hljs-template-variable">&#123;CONSOLE_LOG_PATTERN&#125;</span><span class="hljs-xml"><span class="hljs-comment">&lt;/Pattern&gt;--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!--普通日志--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Pattern</span>&gt;</span>%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;</span><span class="hljs-xml"> [%thread] %-5level %logger</span><span class="hljs-template-variable">&#123;50&#125;</span><span class="hljs-xml"> - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">Pattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!-- 设置字符集 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--输出到文件--&gt;</span></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 时间滚动输出 level为 DEBUG 日志 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"DEBUG_FILE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 正在记录的日志文件的路径及文件名 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/log_debug.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!--日志文件输出格式--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;</span><span class="hljs-xml"> [%thread] %-5level %logger</span><span class="hljs-template-variable">&#123;50&#125;</span><span class="hljs-xml"> - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span> <span class="hljs-comment">&lt;!-- 设置字符集 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!-- 日志归档 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/debug/log-debug-%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd&#125;</span><span class="hljs-xml">.%i.log<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>100MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!--日志文件保留天数--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">maxHistory</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">maxHistory</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 此日志文件只记录debug级别的 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.classic.filter.LevelFilter"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>debug<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMatch</span>&gt;</span>ACCEPT<span class="hljs-tag">&lt;/<span class="hljs-name">onMatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMismatch</span>&gt;</span>DENY<span class="hljs-tag">&lt;/<span class="hljs-name">onMismatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 时间滚动输出 level为 INFO 日志 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"INFO_FILE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 正在记录的日志文件的路径及文件名 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/log_info.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!--日志文件输出格式--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;</span><span class="hljs-xml"> [%thread] %-5level %logger</span><span class="hljs-template-variable">&#123;50&#125;</span><span class="hljs-xml"> - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!-- 每天日志归档路径以及格式 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/info/log-info-%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd&#125;</span><span class="hljs-xml">.%i.log<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>100MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!--日志文件保留天数--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">maxHistory</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">maxHistory</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 此日志文件只记录info级别的 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.classic.filter.LevelFilter"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>info<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMatch</span>&gt;</span>ACCEPT<span class="hljs-tag">&lt;/<span class="hljs-name">onMatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMismatch</span>&gt;</span>DENY<span class="hljs-tag">&lt;/<span class="hljs-name">onMismatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 时间滚动输出 level为 WARN 日志 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"WARN_FILE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 正在记录的日志文件的路径及文件名 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/log_warn.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!--日志文件输出格式--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;</span><span class="hljs-xml"> [%thread] %-5level %logger</span><span class="hljs-template-variable">&#123;50&#125;</span><span class="hljs-xml"> - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span> <span class="hljs-comment">&lt;!-- 此处设置字符集 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/warn/log-warn-%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd&#125;</span><span class="hljs-xml">.%i.log<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>100MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!--日志文件保留天数--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">maxHistory</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">maxHistory</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 此日志文件只记录warn级别的 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.classic.filter.LevelFilter"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>warn<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMatch</span>&gt;</span>ACCEPT<span class="hljs-tag">&lt;/<span class="hljs-name">onMatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMismatch</span>&gt;</span>DENY<span class="hljs-tag">&lt;/<span class="hljs-name">onMismatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 时间滚动输出 level为 ERROR 日志 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"ERROR_FILE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 正在记录的日志文件的路径及文件名 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/log_error.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!--日志文件输出格式--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;</span><span class="hljs-xml"> [%thread] %-5level %logger</span><span class="hljs-template-variable">&#123;50&#125;</span><span class="hljs-xml"> - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span> <span class="hljs-comment">&lt;!-- 此处设置字符集 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/error/log-error-%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd&#125;</span><span class="hljs-xml">.%i.log<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>100MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!--日志文件保留天数--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">maxHistory</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">maxHistory</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 此日志文件只记录ERROR级别的 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.classic.filter.LevelFilter"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>ERROR<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMatch</span>&gt;</span>ACCEPT<span class="hljs-tag">&lt;/<span class="hljs-name">onMatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMismatch</span>&gt;</span>DENY<span class="hljs-tag">&lt;/<span class="hljs-name">onMismatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">logger</span>&gt;</span>用来设置某一个包或者具体的某一个类的日志打印级别、</span></span><br><span class="line"><span class="hljs-xml">        以及指定<span class="hljs-tag">&lt;<span class="hljs-name">appender</span>&gt;</span>。<span class="hljs-tag">&lt;<span class="hljs-name">logger</span>&gt;</span>仅有一个name属性，</span></span><br><span class="line"><span class="hljs-xml">        一个可选的level和一个可选的addtivity属性。</span></span><br><span class="line"><span class="hljs-xml">        name:用来指定受此logger约束的某一个包或者具体的某一个类。</span></span><br><span class="line"><span class="hljs-xml">        level:用来设置打印级别，大小写无关：TRACE, DEBUG, INFO, WARN, ERROR, ALL 和 OFF，</span></span><br><span class="line"><span class="hljs-xml">              还有一个特俗值INHERITED或者同义词NULL，代表强制执行上级的级别。</span></span><br><span class="line"><span class="hljs-xml">              如果未设置此属性，那么当前logger将会继承上级的级别。</span></span><br><span class="line"><span class="hljs-xml">        addtivity:是否向上级logger传递打印信息。默认是true。</span></span><br><span class="line"><span class="hljs-xml">    --&gt;</span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--&lt;logger name="org.pc.web" level="info"/&gt;--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--&lt;logger name="org.pc.scheduling.annotation.ScheduledAnnotationBeanPostProcessor" level="INFO"/&gt;--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--</span></span></span><br><span class="line"><span class="hljs-xml">        使用mybatis的时候，sql语句是debug下才会打印，而这里我们只配置了info，所以想要查看sql语句的话，有以下两种操作：</span></span><br><span class="line"><span class="hljs-xml">        第一种把<span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"info"</span>&gt;</span>改成<span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"DEBUG"</span>&gt;</span>这样就会打印sql，不过这样日志那边会出现很多其他消息</span></span><br><span class="line"><span class="hljs-xml">        第二种就是单独给dao下目录配置debug模式，代码如下，这样配置sql语句会打印，其他还是正常info级别：</span></span><br><span class="line"><span class="hljs-xml">     --&gt;</span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--&lt;logger name="org.pc.dao" level="info"/&gt;--&gt;</span></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--开发环境:打印控制台 start--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">springProfile</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dev"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"org.pc"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"debug"</span>/&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">springProfile</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--</span></span></span><br><span class="line"><span class="hljs-xml">        root节点是必选节点，用来指定最基础的日志输出级别，只有一个level属性</span></span><br><span class="line"><span class="hljs-xml">        level:用来设置打印级别，大小写无关：TRACE, DEBUG, INFO, WARN, ERROR, ALL 和 OFF，</span></span><br><span class="line"><span class="hljs-xml">        不能设置为INHERITED或者同义词NULL。默认是DEBUG</span></span><br><span class="line"><span class="hljs-xml">        可以包含零个或多个元素，标识这个appender将会添加到这个logger。</span></span><br><span class="line"><span class="hljs-xml">    --&gt;</span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"info"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"CONSOLE"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"DEBUG_FILE"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"INFO_FILE"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"WARN_FILE"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"ERROR_FILE"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--开发环境:打印控制台 end--&gt;</span></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--生产环境:输出到文件--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--&lt;springProfile name="pro"&gt;--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--&lt;root level="info"&gt;--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--&lt;appender-ref ref="CONSOLE" /&gt;--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--&lt;appender-ref ref="DEBUG_FILE" /&gt;--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--&lt;appender-ref ref="INFO_FILE" /&gt;--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--&lt;appender-ref ref="ERROR_FILE" /&gt;--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--&lt;appender-ref ref="WARN_FILE" /&gt;--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--&lt;/root&gt;--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--&lt;/springProfile&gt;--&gt;</span></span></span><br><span class="line"><span class="hljs-xml"></span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>定义好几种级别的日志分别输出到哪些文件中，然后在root标签里加入</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-19T17:11:00.000Z">2019-09-19</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 分钟 read (About 347 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/20/springboot拦截器配置fastjson/">springboot拦截器配置fastjson配置</a>
            
        </h1>
        <div class="content">
            <p>为什么要集成fastjson而不是用springmvc内置的?  </p>
<p>因为用fastjson 后，返回字符串时会在外面强制添加双引号<br>例如:<br>如果返回的字符串为 哈哈, 最终返回得到的数据是 “哈哈”<br>返回的字符串中包含双引号，例如{“name”:”ethan”}，则 fastjson处理后，最终返回的结果是 “{&quot;name&quot;:&quot;ethan&quot;}”</p>
<p><strong>要想得到原始字符串,解决办法:</strong><br>添加配置字符串转换器StringHttpMessageConverter  </p>
<p>我们只需要加一个配置文件：WebMvcConfig.java:</p>
<figure class="highlight scala hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">package</span> com.chinaedu.back.conf;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> java.util.<span class="hljs-type">List</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.context.annotation.<span class="hljs-type">Configuration</span>;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.http.converter.<span class="hljs-type">HttpMessageConverter</span>;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.servlet.config.annotation.<span class="hljs-type">InterceptorRegistry</span>;</span><br><span class="line"><span class="hljs-keyword">import</span> org.springframework.web.servlet.config.annotation.<span class="hljs-type">WebMvcConfigurerAdapter</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> com.alibaba.fastjson.serializer.<span class="hljs-type">SerializerFeature</span>;</span><br><span class="line"><span class="hljs-keyword">import</span> com.alibaba.fastjson.support.config.<span class="hljs-type">FastJsonConfig</span>;</span><br><span class="line"><span class="hljs-keyword">import</span> com.alibaba.fastjson.support.spring.<span class="hljs-type">FastJsonHttpMessageConverter</span>;</span><br><span class="line"><span class="hljs-keyword">import</span> com.chinaedu.back.interceptor.<span class="hljs-type">LoginInterceptor</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-meta">@Configuration</span></span><br><span class="line">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WebMvcConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">WebMvcConfigurerAdapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * 设置拦截器</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">    <span class="hljs-meta">@Override</span></span><br><span class="line">    public void addInterceptors(<span class="hljs-type">InterceptorRegistry</span> registry) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// 多个拦截器组成一个拦截器链</span></span><br><span class="line">        <span class="hljs-comment">// addPathPatterns 用于添加拦截规则              excludePathPatterns 用户排除拦截</span></span><br><span class="line"></span><br><span class="line">        <span class="hljs-comment">// registry.addInterceptor(new LoginInterceptor()).addPathPatterns("/**").excludePathPatterns("/user/**");</span></span><br><span class="line"> registry.addInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-type">LoginInterceptor</span>()).addPathPatterns(<span class="hljs-string">"/**"</span>).excludePathPatterns(<span class="hljs-string">"/toLogin"</span>,<span class="hljs-string">"/login"</span>,<span class="hljs-string">"/js/**"</span>,<span class="hljs-string">"/css/**"</span>,<span class="hljs-string">"/images/**"</span>);</span><br><span class="line">        <span class="hljs-keyword">super</span>.addInterceptors(registry);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="hljs-comment">/**</span></span><br><span class="line"><span class="hljs-comment">     * 配置fastjson</span></span><br><span class="line"><span class="hljs-comment">     */</span></span><br><span class="line">      <span class="hljs-meta">@Override</span></span><br><span class="line">      public void configureMessageConverters(<span class="hljs-type">List</span>&lt;<span class="hljs-type">HttpMessageConverter</span>&lt;?&gt;&gt; converters) &#123;</span><br><span class="line">        <span class="hljs-keyword">super</span>.configureMessageConverters(converters);</span><br><span class="line">        <span class="hljs-comment">// 初始化转换器</span></span><br><span class="line">        <span class="hljs-type">FastJsonHttpMessageConverter</span> fastConvert = <span class="hljs-keyword">new</span> <span class="hljs-type">FastJsonHttpMessageConverter</span>();</span><br><span class="line">        <span class="hljs-comment">// 初始化一个转换器配置</span></span><br><span class="line">        <span class="hljs-type">FastJsonConfig</span> fastJsonConfig = <span class="hljs-keyword">new</span> <span class="hljs-type">FastJsonConfig</span>();</span><br><span class="line">        fastJsonConfig.setDateFormat(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>);</span><br><span class="line"> fastJsonConfig.setSerializerFeatures(<span class="hljs-type">SerializerFeature</span>.<span class="hljs-type">PrettyFormat</span>);</span><br><span class="line">        <span class="hljs-comment">// 将配置设置给转换器并添加到HttpMessageConverter转换器列表中</span></span><br><span class="line">        fastConvert.setFastJsonConfig(fastJsonConfig);</span><br><span class="line">        converters.add(fastConvert);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a href="https://blog.csdn.net/weixin_34240520/article/details/91877728" target="_blank" rel="noopener">https://blog.csdn.net/weixin_34240520/article/details/91877728</a></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-19T15:11:00.000Z">2019-09-19</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    31 分钟 read (About 4599 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/19/springboot-日志/">springboot 日志</a>
            
        </h1>
        <div class="content">
            <p>SpringBoot默认日志框架配置<br>今天来介绍下Spring Boot如何配置日志logback,我刚学习的时候，是带着下面几个问题来查资料的，你呢</p>
<p>如何引入日志？</p>
<p>日志输出格式以及输出方式如何配置？</p>
<p>代码中如何使用？</p>
<p>正文<br>Spring Boot在所有内部日志中使用Commons Logging，但是默认配置也提供了对常用日志的支持，如：Java Util Logging，Log4J, Log4J2和Logback。每种Logger都可以通过配置使用控制台或者文件输出日志内容。</p>
<p>默认日志Logback<br>SLF4J——Simple Logging Facade For Java，它是一个针对于各类Java日志框架的统一Facade抽象。Java日志框架众多——常用的有java.util.logging, log4j, logback，commons-logging, Spring框架使用的是Jakarta Commons Logging API (JCL)。而SLF4J定义了统一的日志抽象接口，而真正的日志实现则是在运行时决定的——它提供了各类日志框架的binding。</p>
<p>Logback是log4j框架的作者开发的新一代日志框架，它效率更高、能够适应诸多的运行环境，同时天然支持SLF4J。</p>
<p>默认情况下，Spring Boot会用Logback来记录日志，并用INFO级别输出到控制台。在运行应用程序和其他例子时，你应该已经看到很多INFO级别的日志了。</p>
<p><img src="/images/pasted-144.png" alt="upload successful"></p>
<p>从上图可以看到，日志输出内容元素具体如下：</p>
<p>时间日期：精确到毫秒</p>
<p>日志级别：ERROR, WARN, INFO, DEBUG or TRACE</p>
<p>进程ID</p>
<p>分隔符：— 标识实际日志的开始</p>
<p>线程名：方括号括起来（可能会截断控制台输出）</p>
<p>Logger名：通常使用源代码的类名  </p>
<p>日志内容  </p>
<p>默认配置属性支持  </p>
<p>Spring Boot为我们提供了很多默认的日志配置，所以，只要将spring-boot-starter-logging作为依赖加入到当前应用的classpath，则“开箱即用”。</p>
<p>下面介绍几种在application.properties就可以配置的日志相关属性。</p>
<p>控制台输出</p>
<p>日志级别从低到高分为TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL，如果设置为WARN，则低于WARN的信息都不会输出。</p>
<p>Spring Boot中默认配置ERROR、WARN和INFO级别的日志输出到控制台。您还可以通过启动您的应用程序–debug标志来启用“调试”模式（开发的时候推荐开启）,以下两种方式皆可：</p>
<p>在运行命令后加入–debug标志，如：$ java -jar springTest.jar –debug</p>
<p>在application.properties中配置debug=true，该属性置为true的时候，核心Logger（包含嵌入式容器、hibernate、spring）会输出更多内容，但是你自己应用的日志并不会输出为DEBUG级别。</p>
<p>文件输出</p>
<p>默认情况下，Spring Boot将日志输出到控制台，不会写到日志文件。如果要编写除控制台输出之外的日志文件，则需在application.properties中设置logging.file或logging.path属性。</p>
<p>logging.file，设置文件，可以是绝对路径，也可以是相对路径。如：logging.file=my.log</p>
<p>logging.path，设置目录，会在该目录下创建spring.log文件，并写入日志内容，如：logging.path=/var/log  </p>
<p>如果只配置 logging.file，会在项目的当前路径下生成一个 xxx.log 日志文件。  </p>
<p>如果只配置 logging.path，在 /var/log文件夹生成一个日志文件为 spring.log  </p>
<p>注：二者不能同时使用，如若同时使用，则只有logging.file生效  </p>
<p>默认情况下，日志文件的大小达到10MB时会切分一次，产生新的日志文件，默认级别为：ERROR、WARN、INFO</p>
<p>级别控制<br>所有支持的日志记录系统都可以在Spring环境中设置记录级别（例如在application.properties中）</p>
<p>格式为：’logging.level.* = LEVEL’</p>
<p>logging.level：日志级别控制前缀，*为包名或Logger名</p>
<p>LEVEL：选项TRACE, DEBUG, INFO, WARN, ERROR, FATAL, OFF</p>
<p>举例：</p>
<p>logging.level.com.dudu=DEBUG：com.dudu包下所有class以DEBUG级别输出</p>
<p>logging.level.root=WARN：root日志以WARN级别输出</p>
<p>自定义日志配置<br>由于日志服务一般都在ApplicationContext创建前就初始化了，它并不是必须通过Spring的配置文件控制。因此通过系统属性和传统的Spring Boot外部配置文件依然可以很好的支持日志控制和管理。</p>
<p>根据不同的日志系统，你可以按如下规则组织配置文件名，就能被正确加载：</p>
<p>Logback：logback-spring.xml, logback-spring.groovy, logback.xml, logback.groovy</p>
<p>Log4j：log4j-spring.properties, log4j-spring.xml, log4j.properties, log4j.xml</p>
<p>Log4j2：log4j2-spring.xml, log4j2.xml</p>
<p>JDK (Java Util Logging)：logging.properties</p>
<p>Spring Boot官方推荐优先使用带有-spring的文件名作为你的日志配置（如使用logback-spring.xml，而不是logback.xml），命名为logback-spring.xml的日志配置文件，spring boot可以为它添加一些spring boot特有的配置项（下面会提到）。</p>
<p>上面是默认的命名规则，并且放在src/main/resources下面即可。</p>
<p>如果你即想完全掌控日志配置，但又不想用logback.xml作为Logback配置的名字，可以通过logging.config属性指定自定义的名字：</p>
<p>logging.config=classpath:logging-config.xml<br>虽然一般并不需要改变配置文件的名字，但是如果你想针对不同运行时Profile使用不同的日</p>
<p>志配置，这个功能会很有用。</p>
<p>下面我们来看看一个普通的logback-spring.xml例子</p>
<p><img src="/images/pasted-145.png" alt="upload successful"></p>
<p>根节点<configuration>包含的属性<br>scan:当此属性设置为true时，配置文件如果发生改变，将会被重新加载，默认值为true。</configuration></p>
<p>scanPeriod:设置监测配置文件是否有修改的时间间隔，如果没有给出时间单位，默认单位是毫秒。当scan为true时，此属性生效。默认的时间间隔为1分钟。</p>
<p>debug:当此属性设置为true时，将打印出logback内部日志信息，实时查看logback运行状态。默认值为false。</p>
<p>根节点<configuration>的子节点：</configuration></p>
<p><configuration>下面一共有2个属性，3个子节点，分别是：</configuration></p>
<p>属性一：设置上下文名称<contextname><br>每个logger都关联到logger上下文，默认上下文名称为“default”。但可以使用<contextname>设置成其他名字，用于区分不同应用程序的记录。一旦设置，不能修改,可以通过%contextName来打印日志上下文名称。</contextname></contextname></p>
<p><contextname>logback</contextname><br>属性二：设置变量<property><br>用来定义变量值的标签，<property> 有两个属性，name和value；其中name的值是变量的名称，value的值时变量定义的值。通过<property>定义的值会被插入到logger上下文中。定义变量后，可以使“${}”来使用变量。</property></property></property></p>
<property name="log.path" value="E:\\logback.log">
子节点一<appender>
appender用来格式化日志输出节点，有俩个属性name和class，class用来指定哪种输出策略，常用就是控制台输出策略和文件输出策略。

<p>控制台输出ConsoleAppender：</p>
<p><img src="/images/pasted-146.png" alt="upload successful"></p>
<p><encoder>表示对日志进行编码：</encoder></p>
<p>%d{HH: mm:ss.SSS}——日志输出时间</p>
<p>%thread——输出日志的进程名字，这在Web应用以及异步任务处理中很有用</p>
<p>%-5level——日志级别，并且使用5个字符靠左对齐</p>
<p>%logger{36}——日志输出者的名字</p>
<p>%msg——日志消息</p>
<p>%n——平台的换行符</p>
<p>ThresholdFilter为系统定义的拦截器，例如我们用ThresholdFilter来过滤掉ERROR级别以下的日志不输出到文件中。如果不用记得注释掉，不然你控制台会发现没日志~</p>
<p>输出到文件RollingFileAppender<br>另一种常见的日志输出到文件，随着应用的运行时间越来越长，日志也会增长的越来越多，将他们输出到同一个文件并非一个好办法。RollingFileAppender用于切分文件日志：</p>
<p><img src="/images/pasted-147.png" alt="upload successful"></p>
<p>其中重要的是rollingPolicy的定义，上例中<filenamepattern>logback.%d{yyyy-MM-dd}.log</filenamepattern>定义了日志的切分方式——把每一天的日志归档到一个文件中，<maxhistory>30</maxhistory>表示只保留最近30天的日志，以防止日志填满整个磁盘空间。同理，可以使用%d{yyyy-MM-dd_HH-mm}来定义精确到分的日志切分方式。<totalsizecap>1GB</totalsizecap>用来指定日志文件的上限大小，例如设置为1GB的话，那么到了这个值，就会删除旧的日志。</p>
<p>子节点二<root><br>root节点是必选节点，用来指定最基础的日志输出级别，只有一个level属性。</root></p>
<p>level:用来设置打印级别，大小写无关：TRACE, DEBUG, INFO, WARN, ERROR, ALL 和 OFF，不能设置为INHERITED或者同义词NULL，默认是DEBUG。</p>
<p><root>可以包含零个或多个<appender-ref>元素，标识这个appender将会添加到这个loger。</appender-ref></root></p>
<p><img src="/images/pasted-148.png" alt="upload successful"></p>
<p>子节点三<loger><br><loger>用来设置某一个包或者具体的某一个类的日志打印级别、以及指定<appender>。<loger>仅有一个name属性，一个可选的level和一个可选的addtivity属性。</loger></appender></loger></loger></p>
<p>name:用来指定受此loger约束的某一个包或者具体的某一个类。</p>
<p>level:用来设置打印级别，大小写无关：TRACE, DEBUG, INFO, WARN, ERROR, ALL 和 OFF，还有一个特俗值INHERITED或者同义词NULL，代表强制执行上级的级别。如果未设置此属性，那么当前loger将会继承上级的级别。</p>
<p>addtivity:是否向上级loger传递打印信息。默认是true。</p>
<p>loger在实际使用的时候有两种情况，先来看一看代码中如何使用：</p>
<p><img src="/images/pasted-149.png" alt="upload successful"></p>
<p>这是一个登录的判断的方法，我们引入日志，并且打印不同级别的日志，然后根据logback-spring.xml中的配置来看看打印了哪几种级别日志。</p>
<p>第一种：带有loger的配置，不指定级别，不指定appender<br><logger name="com.dudu.controller"><br><logger name="com.dudu.controller">将控制controller包下的所有类的日志的打印，但是并没用设置打印级别，所以继承他的上级<root>的日志级别“info”；</root></logger></logger></p>
<p>没有设置addtivity，默认为true，将此loger的打印信息向上级传递；</p>
<p>没有设置appender，此loger本身不打印任何信息。</p>
<p><root level="info">将root的打印级别设置为“info”，指定了名字为“console”的appender。</root></p>
<p>当执行com.dudu.controller.LearnController类的login方法时，LearnController 在包com.dudu.controller中，所以首先执行<logger name="com.dudu.controller">，将级别为“info”及大于“info”的日志信息传递给root，本身并不打印；</logger></p>
<p>root接到下级传递的信息，交给已经配置好的名为“console”的appender处理，“console”appender将信息打印到控制台；</p>
<p>打印结果如下：</p>
<p><img src="/images/pasted-150.png" alt="upload successful"></p>
<p>第二种：带有多个loger的配置，指定级别，指定appender</p>
<p><img src="/images/pasted-151.png" alt="upload successful"></p>
<p>控制com.dudu.controller.LearnController类的日志打印，打印级别为“WARN”</p>
<p>additivity属性为false，表示此loger的打印信息不再向上级传递</p>
<p>指定了名字为“console”的appender</p>
<p>这时候执行com.dudu.controller.LearnController类的login方法时，先执行<logger name="com.dudu.controller.LearnController" level="WARN" additivity="false">,</logger></p>
<p>将级别为“WARN”及大于“WARN”的日志信息交给此loger指定的名为“console”的appender处理，在控制台中打出日志，不再向上级root传递打印信息。</p>
<p>打印结果如下：</p>
<p><img src="/images/pasted-152.png" alt="upload successful"></p>
<p>当然如果你把additivity=”false”改成additivity=”true”的话，就会打印两次，因为打印信息向上级传递，logger本身打印一次，root接到后又打印一次。</p>
<p>多环境日志输出<br>据不同环境（prod:生产环境，test:测试环境，dev:开发环境）来定义不同的日志输出，在 logback-spring.xml中使用 springProfile 节点来定义，方法如下：</p>
<p>文件名称不是logback.xml，想使用spring扩展profile支持，要以logback-spring.xml命名</p>
<p><img src="/images/pasted-153.png" alt="upload successful"></p>
<p>可以启动服务的时候指定 profile （如不指定使用默认），如指定prod 的方式为：</p>
<p>java -jar xxx.jar –spring.profiles.active=prod</p>
<p>关于多环境配置可以参考</p>
<p>Spring Boot干货系列：（二）配置文件解析</p>
<p>总结<br>到此为止终于介绍完日志框架了，平时使用的时候推荐用自定义logback-spring.xml来配置，代码中使用日志也很简单，类里面添加private Logger logger = LoggerFactory.getLogger(this.getClass());即可。</p>
<figure class="highlight dust hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-comment">&lt;!-- 日志级别从低到高分为TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL，如果设置为WARN，则低于WARN的信息都不会输出 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-comment">&lt;!-- scan:当此属性设置为true时，配置文档如果发生改变，将会被重新加载，默认值为true --&gt;</span></span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-comment">&lt;!-- scanPeriod:设置监测配置文档是否有修改的时间间隔，如果没有给出时间单位，默认单位是毫秒。</span></span></span><br><span class="line"><span class="hljs-xml">                 当scan为true时，此属性生效。默认的时间间隔为1分钟。 --&gt;</span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-comment">&lt;!-- de<span class="hljs-doctag">bug:</span>当此属性设置为true时，将打印出logback内部日志信息，实时查看logback运行状态。默认值为false。 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>  <span class="hljs-attr">scan</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">scanPeriod</span>=<span class="hljs-string">"10 seconds"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">contextName</span>&gt;</span>logback<span class="hljs-tag">&lt;/<span class="hljs-name">contextName</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- name的值是变量的名称，value的值时变量定义的值。通过定义的值会被插入到logger上下文中。定义后，可以使“$</span></span><span class="hljs-template-variable">&#123;&#125;</span><span class="hljs-xml"><span class="hljs-comment">”来使用变量。 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"log.path"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"G:/logs/pmp"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--0. 日志格式和颜色渲染 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 彩色日志依赖的渲染类 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">conversionRule</span> <span class="hljs-attr">conversionWord</span>=<span class="hljs-string">"clr"</span> <span class="hljs-attr">converterClass</span>=<span class="hljs-string">"org.springframework.boot.logging.logback.ColorConverter"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">conversionRule</span> <span class="hljs-attr">conversionWord</span>=<span class="hljs-string">"wex"</span> <span class="hljs-attr">converterClass</span>=<span class="hljs-string">"org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">conversionRule</span> <span class="hljs-attr">conversionWord</span>=<span class="hljs-string">"wEx"</span> <span class="hljs-attr">converterClass</span>=<span class="hljs-string">"org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 彩色日志格式 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"CONSOLE_LOG_PATTERN"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"$</span></span></span><span class="hljs-template-variable">&#123;CONSOLE_LOG_PATTERN:-%clr(%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string">)</span></span></span><span class="hljs-template-variable">&#123;faint&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string"> %clr($</span></span></span><span class="hljs-template-variable">&#123;LOG_LEVEL_PATTERN:-%5p&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string">) %clr($</span></span></span><span class="hljs-template-variable">&#123;PID:- &#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string">)</span></span></span><span class="hljs-template-variable">&#123;magenta&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string"> %clr(---)</span></span></span><span class="hljs-template-variable">&#123;faint&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string"> %clr([%15.15t])</span></span></span><span class="hljs-template-variable">&#123;faint&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string"> %clr(%-40.40logger</span></span></span><span class="hljs-template-variable">&#123;39&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string">)</span></span></span><span class="hljs-template-variable">&#123;cyan&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string"> %clr(:)</span></span></span><span class="hljs-template-variable">&#123;faint&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string"> %m%n$</span></span></span><span class="hljs-template-variable">&#123;LOG_EXCEPTION_CONVERSION_WORD:-%wEx&#125;</span><span class="hljs-xml"><span class="hljs-tag"><span class="hljs-string">&#125;"</span>/&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--1. 输出到控制台--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"CONSOLE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.ConsoleAppender"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!--此日志appender是为开发使用，只配置最底级别，控制台输出的日志级别是大于或等于此级别的日志信息--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.classic.filter.ThresholdFilter"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>info<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">Pattern</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;CONSOLE_LOG_PATTERN&#125;</span><span class="hljs-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">Pattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!-- 设置字符集 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--2. 输出到文档--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 2.1 level为 DEBUG 日志，时间滚动输出  --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"DEBUG_FILE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 正在记录的日志文档的路径及文档名 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/web_debug.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!--日志文档输出格式--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;</span><span class="hljs-xml"> [%thread] %-5level %logger</span><span class="hljs-template-variable">&#123;50&#125;</span><span class="hljs-xml"> - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span> <span class="hljs-comment">&lt;!-- 设置字符集 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!-- 日志归档 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/web-debug-%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd&#125;</span><span class="hljs-xml">.%i.log<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>100MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!--日志文档保留天数--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">maxHistory</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">maxHistory</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 此日志文档只记录debug级别的 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.classic.filter.LevelFilter"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>debug<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMatch</span>&gt;</span>ACCEPT<span class="hljs-tag">&lt;/<span class="hljs-name">onMatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMismatch</span>&gt;</span>DENY<span class="hljs-tag">&lt;/<span class="hljs-name">onMismatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 2.2 level为 INFO 日志，时间滚动输出  --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"INFO_FILE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 正在记录的日志文档的路径及文档名 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/web_info.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!--日志文档输出格式--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;</span><span class="hljs-xml"> [%thread] %-5level %logger</span><span class="hljs-template-variable">&#123;50&#125;</span><span class="hljs-xml"> - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!-- 每天日志归档路径以及格式 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/web-info-%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd&#125;</span><span class="hljs-xml">.%i.log<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>100MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!--日志文档保留天数--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">maxHistory</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">maxHistory</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 此日志文档只记录info级别的 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.classic.filter.LevelFilter"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>info<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMatch</span>&gt;</span>ACCEPT<span class="hljs-tag">&lt;/<span class="hljs-name">onMatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMismatch</span>&gt;</span>DENY<span class="hljs-tag">&lt;/<span class="hljs-name">onMismatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 2.3 level为 WARN 日志，时间滚动输出  --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"WARN_FILE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 正在记录的日志文档的路径及文档名 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/web_warn.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!--日志文档输出格式--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;</span><span class="hljs-xml"> [%thread] %-5level %logger</span><span class="hljs-template-variable">&#123;50&#125;</span><span class="hljs-xml"> - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span> <span class="hljs-comment">&lt;!-- 此处设置字符集 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/web-warn-%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd&#125;</span><span class="hljs-xml">.%i.log<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>100MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!--日志文档保留天数--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">maxHistory</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">maxHistory</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 此日志文档只记录warn级别的 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.classic.filter.LevelFilter"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>warn<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMatch</span>&gt;</span>ACCEPT<span class="hljs-tag">&lt;/<span class="hljs-name">onMatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMismatch</span>&gt;</span>DENY<span class="hljs-tag">&lt;/<span class="hljs-name">onMismatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 2.4 level为 ERROR 日志，时间滚动输出  --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"ERROR_FILE"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 正在记录的日志文档的路径及文档名 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/web_error.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!--日志文档输出格式--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;</span><span class="hljs-xml"> [%thread] %-5level %logger</span><span class="hljs-template-variable">&#123;50&#125;</span><span class="hljs-xml"> - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">charset</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">charset</span>&gt;</span> <span class="hljs-comment">&lt;!-- 此处设置字符集 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 日志记录器的滚动策略，按日期，按大小记录 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>$</span><span class="hljs-template-variable">&#123;log.path&#125;</span><span class="hljs-xml">/web-error-%d</span><span class="hljs-template-variable">&#123;yyyy-MM-dd&#125;</span><span class="hljs-xml">.%i.log<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">maxFileSize</span>&gt;</span>100MB<span class="hljs-tag">&lt;/<span class="hljs-name">maxFileSize</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-comment">&lt;!--日志文档保留天数--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">maxHistory</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">maxHistory</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-comment">&lt;!-- 此日志文档只记录ERROR级别的 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.classic.filter.LevelFilter"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>ERROR<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMatch</span>&gt;</span>ACCEPT<span class="hljs-tag">&lt;/<span class="hljs-name">onMatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">onMismatch</span>&gt;</span>DENY<span class="hljs-tag">&lt;/<span class="hljs-name">onMismatch</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">logger</span>&gt;</span>用来设置某一个包或者具体的某一个类的日志打印级别、</span></span><br><span class="line"><span class="hljs-xml">        以及指定<span class="hljs-tag">&lt;<span class="hljs-name">appender</span>&gt;</span>。<span class="hljs-tag">&lt;<span class="hljs-name">logger</span>&gt;</span>仅有一个name属性，</span></span><br><span class="line"><span class="hljs-xml">        一个可选的level和一个可选的addtivity属性。</span></span><br><span class="line"><span class="hljs-xml">        name:用来指定受此logger约束的某一个包或者具体的某一个类。</span></span><br><span class="line"><span class="hljs-xml">        level:用来设置打印级别，大小写无关：TRACE, DEBUG, INFO, WARN, ERROR, ALL 和 OFF，</span></span><br><span class="line"><span class="hljs-xml">              还有一个特俗值INHERITED或者同义词NULL，代表强制执行上级的级别。</span></span><br><span class="line"><span class="hljs-xml">              如果未设置此属性，那么当前logger将会继承上级的级别。</span></span><br><span class="line"><span class="hljs-xml">        addtivity:是否向上级logger传递打印信息。默认是true。</span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"org.springframework.web"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"info"</span>/&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"org.springframework.scheduling.annotation.ScheduledAnnotationBeanPostProcessor"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"INFO"</span>/&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    --&gt;</span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--</span></span></span><br><span class="line"><span class="hljs-xml">        使用mybatis的时候，sql语句是debug下才会打印，而这里我们只配置了info，所以想要查看sql语句的话，有以下两种操作：</span></span><br><span class="line"><span class="hljs-xml">        第一种把<span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"info"</span>&gt;</span>改成<span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"DEBUG"</span>&gt;</span>这样就会打印sql，不过这样日志那边会出现很多其他消息</span></span><br><span class="line"><span class="hljs-xml">        第二种就是单独给dao下目录配置debug模式，代码如下，这样配置sql语句会打印，其他还是正常info级别：</span></span><br><span class="line"><span class="hljs-xml">        【logging.level.org.mybatis=debug logging.level.dao=debug】</span></span><br><span class="line"><span class="hljs-xml">     --&gt;</span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!--</span></span></span><br><span class="line"><span class="hljs-xml">        root节点是必选节点，用来指定最基础的日志输出级别，只有一个level属性</span></span><br><span class="line"><span class="hljs-xml">        level:用来设置打印级别，大小写无关：TRACE, DEBUG, INFO, WARN, ERROR, ALL 和 OFF，</span></span><br><span class="line"><span class="hljs-xml">        不能设置为INHERITED或者同义词NULL。默认是DEBUG</span></span><br><span class="line"><span class="hljs-xml">        可以包含零个或多个元素，标识这个appender将会添加到这个logger。</span></span><br><span class="line"><span class="hljs-xml">    --&gt;</span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 4. 最终的策略 --&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 4.1 开发环境:打印控制台--&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">springProfile</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dev"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"com.sdcm.pmp"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"debug"</span>/&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">springProfile</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"info"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"CONSOLE"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"DEBUG_FILE"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"INFO_FILE"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"WARN_FILE"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"ERROR_FILE"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-comment">&lt;!-- 4.2 生产环境:输出到文档</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">springProfile</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"pro"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"info"</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"CONSOLE"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"DEBUG_FILE"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"INFO_FILE"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"ERROR_FILE"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"WARN_FILE"</span> /&gt;</span></span></span><br><span class="line"><span class="hljs-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span></span></span><br><span class="line"><span class="hljs-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">springProfile</span>&gt;</span> --&gt;</span></span><br><span class="line"><span class="hljs-xml"> </span></span><br><span class="line"><span class="hljs-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span></span></span><br></pre></td></tr></table></figure></appender></property>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-16T15:24:00.000Z">2019-09-16</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    1 分钟 read (About 120 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/16/springboot配置数据库密码特殊字符/">springboot配置数据库密码特殊字符</a>
            
        </h1>
        <div class="content">
            <p>springboot配置数据库密码特殊字符报错问题<br>一般的springboot项目会有application.yml或者application.properties文件，开发中需要连接数据库时密码可能会有特殊字符，.properties文件不会报错，但是.yml文件会报错。</p>
<p>解决：yml中password对应的<font color="red">值用单引号引住</font>（’!@test’）就可以了，如下</p>
<figure class="highlight less hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attribute">spring</span>:</span><br><span class="line">    <span class="hljs-attribute">datasource</span>:</span><br><span class="line">        <span class="hljs-attribute">password</span>: <span class="hljs-string">'!@test'</span></span><br><span class="line">        <span class="hljs-attribute">type</span>: com.alibaba.druid.pool.DruidDataSource</span><br><span class="line">        <span class="hljs-attribute">url</span>: <span class="hljs-attribute">jdbc</span>:<span class="hljs-attribute">mysql</span>:<span class="hljs-comment">//localhost:3306/test?characterEncoding=utf-8&amp;serverTimezone=GMT%2B8</span></span><br><span class="line">        <span class="hljs-attribute">username</span>: root</span><br></pre></td></tr></table></figure>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-05T21:09:00.000Z">2019-09-05</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    几秒 read (About 7 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/06/springboot-jdbctemplate-分页查询/">springboot jdbctemplate 分页查询</a>
            
        </h1>
        <div class="content">
            <p><a href="https://blog.csdn.net/iamcnnetiger/article/details/8028159" target="_blank" rel="noopener">https://blog.csdn.net/iamcnnetiger/article/details/8028159</a></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-09-05T20:25:00.000Z">2019-09-05</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    7 分钟 read (About 976 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/09/06/springboot集成druid/">springboot集成druid</a>
            
        </h1>
        <div class="content">
            <p>Spring Boot教程(七)：Spring Boot集成druid连接池  </p>
<p>一、项目准备<br>直接使用上个章节的源码，Spring Boot教程(六)：Spring Boot集成mybatis  </p>
<p>二、添加druid依赖  </p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&lt;!-- druid --&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>三、数据源配置<br>在application.properties配置文件里添加druid的配置  </p>
<figure class="highlight ini hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">## 数据源配置</span></span><br><span class="line"><span class="hljs-comment">#spring.datasource.url=jdbc:mysql://localhost:3306/springboot?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class="line"><span class="hljs-comment">#spring.datasource.username=root</span></span><br><span class="line"><span class="hljs-comment">#spring.datasource.password=root</span></span><br><span class="line"><span class="hljs-comment">#spring.datasource.driver-class-name=com.mysql.jdbc.Driver</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 这4个参数key里不带druid也可以，即可以还用上面的这个4个参数</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.url</span>=jdbc:mysql://localhost:<span class="hljs-number">3306</span>/springboot?useUnicode=<span class="hljs-literal">true</span>&amp;characterEncoding=utf-<span class="hljs-number">8</span>&amp;useSSL=<span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.username</span>=root</span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.password</span>=root</span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.driver-class-name</span>=com.mysql.jdbc.Driver</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 初始化时建立物理连接的个数</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.initial-size</span>=<span class="hljs-number">5</span></span><br><span class="line"><span class="hljs-comment"># 最大连接池数量</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.max-active</span>=<span class="hljs-number">30</span></span><br><span class="line"><span class="hljs-comment"># 最小连接池数量</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.min-idle</span>=<span class="hljs-number">5</span></span><br><span class="line"><span class="hljs-comment"># 获取连接时最大等待时间，单位毫秒</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.max-wait</span>=<span class="hljs-number">60000</span></span><br><span class="line"><span class="hljs-comment"># 配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.time-between-eviction-runs-millis</span>=<span class="hljs-number">60000</span></span><br><span class="line"><span class="hljs-comment"># 连接保持空闲而不被驱逐的最小时间</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.min-evictable-idle-time-millis</span>=<span class="hljs-number">300000</span></span><br><span class="line"><span class="hljs-comment"># 用来检测连接是否有效的sql，要求是一个查询语句</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.validation-query</span>=SELECT <span class="hljs-number">1</span> FROM DUAL</span><br><span class="line"><span class="hljs-comment"># 建议配置为true，不影响性能，并且保证安全性。申请连接的时候检测，如果空闲时间大于timeBetweenEvictionRunsMillis，执行validationQuery检测连接是否有效。</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.test-while-idle</span>=<span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-comment"># 申请连接时执行validationQuery检测连接是否有效，做了这个配置会降低性能。</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.test-on-borrow</span>=<span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-comment"># 归还连接时执行validationQuery检测连接是否有效，做了这个配置会降低性能。</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.test-on-return</span>=<span class="hljs-literal">false</span></span><br><span class="line"><span class="hljs-comment"># 是否缓存preparedStatement，也就是PSCache。PSCache对支持游标的数据库性能提升巨大，比如说oracle。在mysql下建议关闭。</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.pool-prepared-statements</span>=<span class="hljs-literal">true</span></span><br><span class="line"><span class="hljs-comment"># 要启用PSCache，必须配置大于0，当大于0时，poolPreparedStatements自动触发修改为true。</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.max-pool-prepared-statement-per-connection-size</span>=<span class="hljs-number">50</span></span><br><span class="line"><span class="hljs-comment"># 配置监控统计拦截的filters，去掉后监控界面sql无法统计</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.filters</span>=stat,wall</span><br><span class="line"><span class="hljs-comment"># 通过connectProperties属性来打开mergeSql功能；慢SQL记录</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.connection-properties</span>=druid.stat.mergeSql=<span class="hljs-literal">true</span><span class="hljs-comment">;druid.stat.slowSqlMillis=500</span></span><br><span class="line"><span class="hljs-comment"># 合并多个DruidDataSource的监控数据</span></span><br><span class="line"><span class="hljs-attr">spring.datasource.druid.use-global-data-source-stat</span>=<span class="hljs-literal">true</span></span><br></pre></td></tr></table></figure>

<p>四、测试<br>启动服务，浏览器输入<a href="http://localhost:8080/users" target="_blank" rel="noopener">http://localhost:8080/users</a> ,界面如下：  </p>
<p><img src="/images/pasted-123.png" alt="upload successful"></p>
<p>浏览器输入<a href="http://localhost:8080/druid" target="_blank" rel="noopener">http://localhost:8080/druid</a> ，界面如下：  </p>
<p><img src="/images/pasted-128.png" alt="upload successful"></p>
<p>打开mysql客户端navicat的sql窗口，执行show full processlist，显示如下内容：</p>
<p><img src="/images/pasted-129.png" alt="upload successful"></p>
<p>可以看到，启动项目后，直接创建5个数据连接，这是由application.properties配置文件中spring.datasource.druid.initial-size=5控制的。  </p>
<p>五、druid监控<br>在步骤四我们可以看到，浏览器输入<a href="http://localhost:8080/druid直接就能看到druid控制台界面，在这里面可以看到很多项目信息，如果任凭用户随意访问，非常危险。我们可以通过配置，设置只有通过登录认证才可以访问。" target="_blank" rel="noopener">http://localhost:8080/druid直接就能看到druid控制台界面，在这里面可以看到很多项目信息，如果任凭用户随意访问，非常危险。我们可以通过配置，设置只有通过登录认证才可以访问。</a>  </p>
<p>在application.properties配置文件中增加：  </p>
<figure class="highlight jboss-cli hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># druid连接池监控</span></span><br><span class="line">spring.datasource.druid.stat-view-servlet.login-username=admin</span><br><span class="line">spring.datasource.druid.stat-view-servlet.login-password=123</span><br><span class="line"><span class="hljs-comment"># 排除一些静态资源，以提高效率</span></span><br><span class="line">spring.datasource.druid.web-stat-filter.exclusions=*<span class="hljs-string">.js</span>,*<span class="hljs-string">.gif</span>,*<span class="hljs-string">.jpg</span>,*<span class="hljs-string">.png</span>,*<span class="hljs-string">.css</span>,*<span class="hljs-string">.ico</span>,<span class="hljs-string">/druid/</span>*</span><br></pre></td></tr></table></figure>

<p>只需要配置用户名和密码，重启服务器后再次访问就需要登录才能访问。浏览器输入<a href="http://localhost:8080/druid" target="_blank" rel="noopener">http://localhost:8080/druid</a> ，界面如下</p>
<p><img src="/images/pasted-130.png" alt="upload successful"></p>
<p>输入刚才配置文件里配置的用户名admin和密码123，登录之后便可以正常访问了。</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous is-invisible is-hidden-mobile">
            <a class="is-flex-grow has-text-black-ter" href="/tags/springboot/page/0/">Previous</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/tags/springboot/page/2/">Next</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link is-current" href="/tags/springboot/">1</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/tags/springboot/page/2/">2</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/tags/springboot/page/3/">3</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <a href="/2020/05/30/邮箱找回密码与二次认证/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-30T01:55:28.835Z">2020-05-30</time></div>
                    <a href="/2020/05/30/邮箱找回密码与二次认证/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/30/可视化面板/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-30T01:55:28.755Z">2020-05-30</time></div>
                    <a href="/2020/05/30/可视化面板/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/30/CS应用配置/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-30T01:55:28.745Z">2020-05-30</time></div>
                    <a href="/2020/05/30/CS应用配置/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/30/特权用户访问策略控制/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-30T01:55:28.745Z">2020-05-30</time></div>
                    <a href="/2020/05/30/特权用户访问策略控制/" class="title has-link-black-ter is-size-6 has-text-weight-normal"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/30/md列表/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="markdown任务列表语法checkbox">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-30T01:55:28.735Z">2020-05-30</time></div>
                    <a href="/2020/05/30/md列表/" class="title has-link-black-ter is-size-6 has-text-weight-normal">markdown任务列表语法checkbox</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/avatar.png" alt="Joe">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Joe
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Learning
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Your location</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <p class="title has-text-weight-normal">
                        220
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <p class="title has-text-weight-normal">
                        14
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <p class="title has-text-weight-normal">
                        100
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/ppoffice" target="_blank">
                Follow</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/joeithub">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
        
            
        
            
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/ES/">
            <span class="level-start">
                <span class="level-item">ES</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/GIT/">
            <span class="level-start">
                <span class="level-item">GIT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/IT/">
            <span class="level-start">
                <span class="level-item">IT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">195</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/">
            <span class="level-start">
                <span class="level-item">JAVAEE</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/JAVAEE/DESIGN-PATTERNS/">
            <span class="level-start">
                <span class="level-item">DESIGN PATTERNS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYBATIS/">
            <span class="level-start">
                <span class="level-item">MYBATIS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYSQL/">
            <span class="level-start">
                <span class="level-item">MYSQL</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/">
            <span class="level-start">
                <span class="level-item">SPRINGBOOT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/SECURITY/">
            <span class="level-start">
                <span class="level-item">SECURITY</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SYSTEM/">
            <span class="level-start">
                <span class="level-item">SYSTEM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/VIM/">
            <span class="level-start">
                <span class="level-item">VIM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/office/">
            <span class="level-start">
                <span class="level-item">office</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/分类1/">
            <span class="level-start">
                <span class="level-item">分类1</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/电商/">
            <span class="level-start">
                <span class="level-item">电商</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Tag Cloud
        </h3>
        <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/CI-CD/" style="font-size: 10px;">CI/CD</a> <a href="/tags/ELASTICSEARCH/" style="font-size: 10px;">ELASTICSEARCH</a> <a href="/tags/EXCEL/" style="font-size: 10px;">EXCEL</a> <a href="/tags/Eureka/" style="font-size: 10.91px;">Eureka</a> <a href="/tags/GO/" style="font-size: 10px;">GO</a> <a href="/tags/IDEA/" style="font-size: 10.91px;">IDEA</a> <a href="/tags/IT/" style="font-size: 14.55px;">IT</a> <a href="/tags/JAVAEE/" style="font-size: 20px;">JAVAEE</a> <a href="/tags/JAVASCRIPT/" style="font-size: 11.82px;">JAVASCRIPT</a> <a href="/tags/JAVASE/" style="font-size: 10.91px;">JAVASE</a> <a href="/tags/LINUX/" style="font-size: 10px;">LINUX</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/MAC/" style="font-size: 10px;">MAC</a> <a href="/tags/MQ/" style="font-size: 11.82px;">MQ</a> <a href="/tags/ONOS/" style="font-size: 15.45px;">ONOS</a> <a href="/tags/OSGI/" style="font-size: 14.55px;">OSGI</a> <a href="/tags/OSI/" style="font-size: 10px;">OSI</a> <a href="/tags/PROTOCAL/" style="font-size: 10px;">PROTOCAL</a> <a href="/tags/PYTHON/" style="font-size: 10.91px;">PYTHON</a> <a href="/tags/Quartz/" style="font-size: 10px;">Quartz</a> <a href="/tags/RPM/" style="font-size: 10px;">RPM</a> <a href="/tags/Ribbon/" style="font-size: 10px;">Ribbon</a> <a href="/tags/SECURITY/" style="font-size: 10px;">SECURITY</a> <a href="/tags/SPRING-BOOT/" style="font-size: 10px;">SPRING-BOOT</a> <a href="/tags/SQL/" style="font-size: 12.73px;">SQL</a> <a href="/tags/SQLAlert/" style="font-size: 18.18px;">SQLAlert</a> <a href="/tags/SSO/" style="font-size: 10px;">SSO</a> <a href="/tags/StringRedisTemplate/" style="font-size: 10px;">StringRedisTemplate</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/TK-MYBATIS/" style="font-size: 10px;">TK.MYBATIS</a> <a href="/tags/UDP/" style="font-size: 10px;">UDP</a> <a href="/tags/annotation/" style="font-size: 15.45px;">annotation</a> <a href="/tags/bazel/" style="font-size: 10px;">bazel</a> <a href="/tags/beanutils/" style="font-size: 10px;">beanutils</a> <a href="/tags/centos/" style="font-size: 10px;">centos</a> <a href="/tags/classloader/" style="font-size: 10px;">classloader</a> <a href="/tags/computer/" style="font-size: 10px;">computer</a> <a href="/tags/cron/" style="font-size: 10px;">cron</a> <a href="/tags/debug/" style="font-size: 10px;">debug</a> <a href="/tags/docker/" style="font-size: 12.73px;">docker</a> <a href="/tags/druid/" style="font-size: 10px;">druid</a> <a href="/tags/elasticsearch/" style="font-size: 13.64px;">elasticsearch</a> <a href="/tags/enlink/" style="font-size: 10px;">enlink</a> <a href="/tags/fastjson/" style="font-size: 10px;">fastjson</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/gitlab/" style="font-size: 10px;">gitlab</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/hexo/" style="font-size: 12.73px;">hexo</a> <a href="/tags/idea/" style="font-size: 10.91px;">idea</a> <a href="/tags/interceptor/" style="font-size: 11.82px;">interceptor</a> <a href="/tags/jetty/" style="font-size: 10px;">jetty</a> <a href="/tags/jpa/" style="font-size: 10.91px;">jpa</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/karaf/" style="font-size: 11.82px;">karaf</a> <a href="/tags/keepalived/" style="font-size: 10px;">keepalived</a> <a href="/tags/linux-shell/" style="font-size: 15.45px;">linux-shell</a> <a href="/tags/listener/" style="font-size: 10px;">listener</a> <a href="/tags/loadbalanced/" style="font-size: 10px;">loadbalanced</a> <a href="/tags/logback/" style="font-size: 10px;">logback</a> <a href="/tags/login/" style="font-size: 10.91px;">login</a> <a href="/tags/lombok/" style="font-size: 11.82px;">lombok</a> <a href="/tags/mac/" style="font-size: 15.45px;">mac</a> <a href="/tags/markdown/" style="font-size: 11.82px;">markdown</a> <a href="/tags/mybatis/" style="font-size: 17.27px;">mybatis</a> <a href="/tags/mycat/" style="font-size: 10.91px;">mycat</a> <a href="/tags/mysql/" style="font-size: 16.36px;">mysql</a> <a href="/tags/network/" style="font-size: 12.73px;">network</a> <a href="/tags/oauth2/" style="font-size: 10px;">oauth2</a> <a href="/tags/pagehelper/" style="font-size: 10px;">pagehelper</a> <a href="/tags/postman/" style="font-size: 10px;">postman</a> <a href="/tags/python/" style="font-size: 11.82px;">python</a> <a href="/tags/rabbitMq/" style="font-size: 11.82px;">rabbitMq</a> <a href="/tags/redis/" style="font-size: 11.82px;">redis</a> <a href="/tags/redisTemplate/" style="font-size: 10px;">redisTemplate</a> <a href="/tags/reflection/" style="font-size: 11.82px;">reflection</a> <a href="/tags/registry-center/" style="font-size: 10px;">registry center</a> <a href="/tags/restTemplate/" style="font-size: 10px;">restTemplate</a> <a href="/tags/ribbon/" style="font-size: 10px;">ribbon</a> <a href="/tags/serialVersionUID/" style="font-size: 10px;">serialVersionUID</a> <a href="/tags/servlet/" style="font-size: 10.91px;">servlet</a> <a href="/tags/session/" style="font-size: 10.91px;">session</a> <a href="/tags/spring/" style="font-size: 15.45px;">spring</a> <a href="/tags/spring-task/" style="font-size: 12.73px;">spring task</a> <a href="/tags/springboot/" style="font-size: 19.09px;">springboot</a> <a href="/tags/swagger/" style="font-size: 10px;">swagger</a> <a href="/tags/webClient/" style="font-size: 10px;">webClient</a> <a href="/tags/yaml/" style="font-size: 10.91px;">yaml</a> <a href="/tags/事物/" style="font-size: 10px;">事物</a> <a href="/tags/全局异常/" style="font-size: 10px;">全局异常</a> <a href="/tags/分布式/" style="font-size: 10px;">分布式</a> <a href="/tags/抖音/" style="font-size: 10px;">抖音</a> <a href="/tags/文件服务器/" style="font-size: 10.91px;">文件服务器</a> <a href="/tags/日志/" style="font-size: 10px;">日志</a> <a href="/tags/时间转化/" style="font-size: 10px;">时间转化</a> <a href="/tags/标签1/" style="font-size: 10px;">标签1</a> <a href="/tags/消息队列/" style="font-size: 10px;">消息队列</a> <a href="/tags/淘宝/" style="font-size: 10px;">淘宝</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a> <a href="/tags/高可用/" style="font-size: 10px;">高可用</a>
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/05/">
                <span class="level-start">
                    <span class="level-item">五月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">10</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">四月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">三月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">13</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">10</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">十月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">28</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">九月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">40</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">八月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">13</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">七月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">66</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AOP/">
                        <span class="tag">AOP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CI-CD/">
                        <span class="tag">CI/CD</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ELASTICSEARCH/">
                        <span class="tag">ELASTICSEARCH</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/EXCEL/">
                        <span class="tag">EXCEL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Eureka/">
                        <span class="tag">Eureka</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GO/">
                        <span class="tag">GO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDEA/">
                        <span class="tag">IDEA</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IT/">
                        <span class="tag">IT</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVAEE/">
                        <span class="tag">JAVAEE</span>
                        <span class="tag is-grey">131</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASCRIPT/">
                        <span class="tag">JAVASCRIPT</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASE/">
                        <span class="tag">JAVASE</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LINUX/">
                        <span class="tag">LINUX</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MAC/">
                        <span class="tag">MAC</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MQ/">
                        <span class="tag">MQ</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ONOS/">
                        <span class="tag">ONOS</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSGI/">
                        <span class="tag">OSGI</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSI/">
                        <span class="tag">OSI</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PROTOCAL/">
                        <span class="tag">PROTOCAL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PYTHON/">
                        <span class="tag">PYTHON</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Quartz/">
                        <span class="tag">Quartz</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RPM/">
                        <span class="tag">RPM</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Ribbon/">
                        <span class="tag">Ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SECURITY/">
                        <span class="tag">SECURITY</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SPRING-BOOT/">
                        <span class="tag">SPRING-BOOT</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQL/">
                        <span class="tag">SQL</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQLAlert/">
                        <span class="tag">SQLAlert</span>
                        <span class="tag is-grey">13</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SSO/">
                        <span class="tag">SSO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/StringRedisTemplate/">
                        <span class="tag">StringRedisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TCP/">
                        <span class="tag">TCP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TK-MYBATIS/">
                        <span class="tag">TK.MYBATIS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UDP/">
                        <span class="tag">UDP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/annotation/">
                        <span class="tag">annotation</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/bazel/">
                        <span class="tag">bazel</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/beanutils/">
                        <span class="tag">beanutils</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/centos/">
                        <span class="tag">centos</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/classloader/">
                        <span class="tag">classloader</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/computer/">
                        <span class="tag">computer</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/cron/">
                        <span class="tag">cron</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/debug/">
                        <span class="tag">debug</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/docker/">
                        <span class="tag">docker</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/druid/">
                        <span class="tag">druid</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/elasticsearch/">
                        <span class="tag">elasticsearch</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/enlink/">
                        <span class="tag">enlink</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/fastjson/">
                        <span class="tag">fastjson</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/git/">
                        <span class="tag">git</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/gitlab/">
                        <span class="tag">gitlab</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/go/">
                        <span class="tag">go</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/hexo/">
                        <span class="tag">hexo</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/idea/">
                        <span class="tag">idea</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/interceptor/">
                        <span class="tag">interceptor</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jetty/">
                        <span class="tag">jetty</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jpa/">
                        <span class="tag">jpa</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/json/">
                        <span class="tag">json</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/karaf/">
                        <span class="tag">karaf</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/keepalived/">
                        <span class="tag">keepalived</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/linux-shell/">
                        <span class="tag">linux-shell</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/listener/">
                        <span class="tag">listener</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/loadbalanced/">
                        <span class="tag">loadbalanced</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/logback/">
                        <span class="tag">logback</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/login/">
                        <span class="tag">login</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/lombok/">
                        <span class="tag">lombok</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mac/">
                        <span class="tag">mac</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/markdown/">
                        <span class="tag">markdown</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mybatis/">
                        <span class="tag">mybatis</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mycat/">
                        <span class="tag">mycat</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mysql/">
                        <span class="tag">mysql</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/network/">
                        <span class="tag">network</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/oauth2/">
                        <span class="tag">oauth2</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pagehelper/">
                        <span class="tag">pagehelper</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/postman/">
                        <span class="tag">postman</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/rabbitMq/">
                        <span class="tag">rabbitMq</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redis/">
                        <span class="tag">redis</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redisTemplate/">
                        <span class="tag">redisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/reflection/">
                        <span class="tag">reflection</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/registry-center/">
                        <span class="tag">registry center</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/restTemplate/">
                        <span class="tag">restTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ribbon/">
                        <span class="tag">ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/serialVersionUID/">
                        <span class="tag">serialVersionUID</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/servlet/">
                        <span class="tag">servlet</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/session/">
                        <span class="tag">session</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring/">
                        <span class="tag">spring</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring-task/">
                        <span class="tag">spring task</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/springboot/">
                        <span class="tag">springboot</span>
                        <span class="tag is-grey">43</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/swagger/">
                        <span class="tag">swagger</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/webClient/">
                        <span class="tag">webClient</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/yaml/">
                        <span class="tag">yaml</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/事物/">
                        <span class="tag">事物</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/全局异常/">
                        <span class="tag">全局异常</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/分布式/">
                        <span class="tag">分布式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/抖音/">
                        <span class="tag">抖音</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/文件服务器/">
                        <span class="tag">文件服务器</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/日志/">
                        <span class="tag">日志</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/时间转化/">
                        <span class="tag">时间转化</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/标签1/">
                        <span class="tag">标签1</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/消息队列/">
                        <span class="tag">消息队列</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/淘宝/">
                        <span class="tag">淘宝</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/设计模式/">
                        <span class="tag">设计模式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/高可用/">
                        <span class="tag">高可用</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/avatar.png" alt="Joe">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Joe
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Learning
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Your location</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <p class="title has-text-weight-normal">
                        220
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <p class="title has-text-weight-normal">
                        14
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <p class="title has-text-weight-normal">
                        100
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/ppoffice" target="_blank">
                Follow</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/joeithub">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/ES/">
            <span class="level-start">
                <span class="level-item">ES</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/GIT/">
            <span class="level-start">
                <span class="level-item">GIT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/IT/">
            <span class="level-start">
                <span class="level-item">IT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">195</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/">
            <span class="level-start">
                <span class="level-item">JAVAEE</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/JAVAEE/DESIGN-PATTERNS/">
            <span class="level-start">
                <span class="level-item">DESIGN PATTERNS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYBATIS/">
            <span class="level-start">
                <span class="level-item">MYBATIS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYSQL/">
            <span class="level-start">
                <span class="level-item">MYSQL</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/">
            <span class="level-start">
                <span class="level-item">SPRINGBOOT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/SECURITY/">
            <span class="level-start">
                <span class="level-item">SECURITY</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SYSTEM/">
            <span class="level-start">
                <span class="level-item">SYSTEM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/VIM/">
            <span class="level-start">
                <span class="level-item">VIM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/office/">
            <span class="level-start">
                <span class="level-item">office</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/分类1/">
            <span class="level-start">
                <span class="level-item">分类1</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/电商/">
            <span class="level-start">
                <span class="level-item">电商</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Tag Cloud
        </h3>
        <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/CI-CD/" style="font-size: 10px;">CI/CD</a> <a href="/tags/ELASTICSEARCH/" style="font-size: 10px;">ELASTICSEARCH</a> <a href="/tags/EXCEL/" style="font-size: 10px;">EXCEL</a> <a href="/tags/Eureka/" style="font-size: 10.91px;">Eureka</a> <a href="/tags/GO/" style="font-size: 10px;">GO</a> <a href="/tags/IDEA/" style="font-size: 10.91px;">IDEA</a> <a href="/tags/IT/" style="font-size: 14.55px;">IT</a> <a href="/tags/JAVAEE/" style="font-size: 20px;">JAVAEE</a> <a href="/tags/JAVASCRIPT/" style="font-size: 11.82px;">JAVASCRIPT</a> <a href="/tags/JAVASE/" style="font-size: 10.91px;">JAVASE</a> <a href="/tags/LINUX/" style="font-size: 10px;">LINUX</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/MAC/" style="font-size: 10px;">MAC</a> <a href="/tags/MQ/" style="font-size: 11.82px;">MQ</a> <a href="/tags/ONOS/" style="font-size: 15.45px;">ONOS</a> <a href="/tags/OSGI/" style="font-size: 14.55px;">OSGI</a> <a href="/tags/OSI/" style="font-size: 10px;">OSI</a> <a href="/tags/PROTOCAL/" style="font-size: 10px;">PROTOCAL</a> <a href="/tags/PYTHON/" style="font-size: 10.91px;">PYTHON</a> <a href="/tags/Quartz/" style="font-size: 10px;">Quartz</a> <a href="/tags/RPM/" style="font-size: 10px;">RPM</a> <a href="/tags/Ribbon/" style="font-size: 10px;">Ribbon</a> <a href="/tags/SECURITY/" style="font-size: 10px;">SECURITY</a> <a href="/tags/SPRING-BOOT/" style="font-size: 10px;">SPRING-BOOT</a> <a href="/tags/SQL/" style="font-size: 12.73px;">SQL</a> <a href="/tags/SQLAlert/" style="font-size: 18.18px;">SQLAlert</a> <a href="/tags/SSO/" style="font-size: 10px;">SSO</a> <a href="/tags/StringRedisTemplate/" style="font-size: 10px;">StringRedisTemplate</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/TK-MYBATIS/" style="font-size: 10px;">TK.MYBATIS</a> <a href="/tags/UDP/" style="font-size: 10px;">UDP</a> <a href="/tags/annotation/" style="font-size: 15.45px;">annotation</a> <a href="/tags/bazel/" style="font-size: 10px;">bazel</a> <a href="/tags/beanutils/" style="font-size: 10px;">beanutils</a> <a href="/tags/centos/" style="font-size: 10px;">centos</a> <a href="/tags/classloader/" style="font-size: 10px;">classloader</a> <a href="/tags/computer/" style="font-size: 10px;">computer</a> <a href="/tags/cron/" style="font-size: 10px;">cron</a> <a href="/tags/debug/" style="font-size: 10px;">debug</a> <a href="/tags/docker/" style="font-size: 12.73px;">docker</a> <a href="/tags/druid/" style="font-size: 10px;">druid</a> <a href="/tags/elasticsearch/" style="font-size: 13.64px;">elasticsearch</a> <a href="/tags/enlink/" style="font-size: 10px;">enlink</a> <a href="/tags/fastjson/" style="font-size: 10px;">fastjson</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/gitlab/" style="font-size: 10px;">gitlab</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/hexo/" style="font-size: 12.73px;">hexo</a> <a href="/tags/idea/" style="font-size: 10.91px;">idea</a> <a href="/tags/interceptor/" style="font-size: 11.82px;">interceptor</a> <a href="/tags/jetty/" style="font-size: 10px;">jetty</a> <a href="/tags/jpa/" style="font-size: 10.91px;">jpa</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/karaf/" style="font-size: 11.82px;">karaf</a> <a href="/tags/keepalived/" style="font-size: 10px;">keepalived</a> <a href="/tags/linux-shell/" style="font-size: 15.45px;">linux-shell</a> <a href="/tags/listener/" style="font-size: 10px;">listener</a> <a href="/tags/loadbalanced/" style="font-size: 10px;">loadbalanced</a> <a href="/tags/logback/" style="font-size: 10px;">logback</a> <a href="/tags/login/" style="font-size: 10.91px;">login</a> <a href="/tags/lombok/" style="font-size: 11.82px;">lombok</a> <a href="/tags/mac/" style="font-size: 15.45px;">mac</a> <a href="/tags/markdown/" style="font-size: 11.82px;">markdown</a> <a href="/tags/mybatis/" style="font-size: 17.27px;">mybatis</a> <a href="/tags/mycat/" style="font-size: 10.91px;">mycat</a> <a href="/tags/mysql/" style="font-size: 16.36px;">mysql</a> <a href="/tags/network/" style="font-size: 12.73px;">network</a> <a href="/tags/oauth2/" style="font-size: 10px;">oauth2</a> <a href="/tags/pagehelper/" style="font-size: 10px;">pagehelper</a> <a href="/tags/postman/" style="font-size: 10px;">postman</a> <a href="/tags/python/" style="font-size: 11.82px;">python</a> <a href="/tags/rabbitMq/" style="font-size: 11.82px;">rabbitMq</a> <a href="/tags/redis/" style="font-size: 11.82px;">redis</a> <a href="/tags/redisTemplate/" style="font-size: 10px;">redisTemplate</a> <a href="/tags/reflection/" style="font-size: 11.82px;">reflection</a> <a href="/tags/registry-center/" style="font-size: 10px;">registry center</a> <a href="/tags/restTemplate/" style="font-size: 10px;">restTemplate</a> <a href="/tags/ribbon/" style="font-size: 10px;">ribbon</a> <a href="/tags/serialVersionUID/" style="font-size: 10px;">serialVersionUID</a> <a href="/tags/servlet/" style="font-size: 10.91px;">servlet</a> <a href="/tags/session/" style="font-size: 10.91px;">session</a> <a href="/tags/spring/" style="font-size: 15.45px;">spring</a> <a href="/tags/spring-task/" style="font-size: 12.73px;">spring task</a> <a href="/tags/springboot/" style="font-size: 19.09px;">springboot</a> <a href="/tags/swagger/" style="font-size: 10px;">swagger</a> <a href="/tags/webClient/" style="font-size: 10px;">webClient</a> <a href="/tags/yaml/" style="font-size: 10.91px;">yaml</a> <a href="/tags/事物/" style="font-size: 10px;">事物</a> <a href="/tags/全局异常/" style="font-size: 10px;">全局异常</a> <a href="/tags/分布式/" style="font-size: 10px;">分布式</a> <a href="/tags/抖音/" style="font-size: 10px;">抖音</a> <a href="/tags/文件服务器/" style="font-size: 10.91px;">文件服务器</a> <a href="/tags/日志/" style="font-size: 10px;">日志</a> <a href="/tags/时间转化/" style="font-size: 10px;">时间转化</a> <a href="/tags/标签1/" style="font-size: 10px;">标签1</a> <a href="/tags/消息队列/" style="font-size: 10px;">消息队列</a> <a href="/tags/淘宝/" style="font-size: 10px;">淘宝</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a> <a href="/tags/高可用/" style="font-size: 10px;">高可用</a>
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/05/">
                <span class="level-start">
                    <span class="level-item">五月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">10</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">四月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">三月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">13</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">10</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">十月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">28</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">九月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">40</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">八月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">13</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">七月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">66</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AOP/">
                        <span class="tag">AOP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CI-CD/">
                        <span class="tag">CI/CD</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ELASTICSEARCH/">
                        <span class="tag">ELASTICSEARCH</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/EXCEL/">
                        <span class="tag">EXCEL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Eureka/">
                        <span class="tag">Eureka</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GO/">
                        <span class="tag">GO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDEA/">
                        <span class="tag">IDEA</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IT/">
                        <span class="tag">IT</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVAEE/">
                        <span class="tag">JAVAEE</span>
                        <span class="tag is-grey">131</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASCRIPT/">
                        <span class="tag">JAVASCRIPT</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASE/">
                        <span class="tag">JAVASE</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LINUX/">
                        <span class="tag">LINUX</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MAC/">
                        <span class="tag">MAC</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MQ/">
                        <span class="tag">MQ</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ONOS/">
                        <span class="tag">ONOS</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSGI/">
                        <span class="tag">OSGI</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSI/">
                        <span class="tag">OSI</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PROTOCAL/">
                        <span class="tag">PROTOCAL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PYTHON/">
                        <span class="tag">PYTHON</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Quartz/">
                        <span class="tag">Quartz</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RPM/">
                        <span class="tag">RPM</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Ribbon/">
                        <span class="tag">Ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SECURITY/">
                        <span class="tag">SECURITY</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SPRING-BOOT/">
                        <span class="tag">SPRING-BOOT</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQL/">
                        <span class="tag">SQL</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQLAlert/">
                        <span class="tag">SQLAlert</span>
                        <span class="tag is-grey">13</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SSO/">
                        <span class="tag">SSO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/StringRedisTemplate/">
                        <span class="tag">StringRedisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TCP/">
                        <span class="tag">TCP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TK-MYBATIS/">
                        <span class="tag">TK.MYBATIS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UDP/">
                        <span class="tag">UDP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/annotation/">
                        <span class="tag">annotation</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/bazel/">
                        <span class="tag">bazel</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/beanutils/">
                        <span class="tag">beanutils</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/centos/">
                        <span class="tag">centos</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/classloader/">
                        <span class="tag">classloader</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/computer/">
                        <span class="tag">computer</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/cron/">
                        <span class="tag">cron</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/debug/">
                        <span class="tag">debug</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/docker/">
                        <span class="tag">docker</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/druid/">
                        <span class="tag">druid</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/elasticsearch/">
                        <span class="tag">elasticsearch</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/enlink/">
                        <span class="tag">enlink</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/fastjson/">
                        <span class="tag">fastjson</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/git/">
                        <span class="tag">git</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/gitlab/">
                        <span class="tag">gitlab</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/go/">
                        <span class="tag">go</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/hexo/">
                        <span class="tag">hexo</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/idea/">
                        <span class="tag">idea</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/interceptor/">
                        <span class="tag">interceptor</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jetty/">
                        <span class="tag">jetty</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jpa/">
                        <span class="tag">jpa</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/json/">
                        <span class="tag">json</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/karaf/">
                        <span class="tag">karaf</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/keepalived/">
                        <span class="tag">keepalived</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/linux-shell/">
                        <span class="tag">linux-shell</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/listener/">
                        <span class="tag">listener</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/loadbalanced/">
                        <span class="tag">loadbalanced</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/logback/">
                        <span class="tag">logback</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/login/">
                        <span class="tag">login</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/lombok/">
                        <span class="tag">lombok</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mac/">
                        <span class="tag">mac</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/markdown/">
                        <span class="tag">markdown</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mybatis/">
                        <span class="tag">mybatis</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mycat/">
                        <span class="tag">mycat</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mysql/">
                        <span class="tag">mysql</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/network/">
                        <span class="tag">network</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/oauth2/">
                        <span class="tag">oauth2</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pagehelper/">
                        <span class="tag">pagehelper</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/postman/">
                        <span class="tag">postman</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/rabbitMq/">
                        <span class="tag">rabbitMq</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redis/">
                        <span class="tag">redis</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redisTemplate/">
                        <span class="tag">redisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/reflection/">
                        <span class="tag">reflection</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/registry-center/">
                        <span class="tag">registry center</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/restTemplate/">
                        <span class="tag">restTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ribbon/">
                        <span class="tag">ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/serialVersionUID/">
                        <span class="tag">serialVersionUID</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/servlet/">
                        <span class="tag">servlet</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/session/">
                        <span class="tag">session</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring/">
                        <span class="tag">spring</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring-task/">
                        <span class="tag">spring task</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/springboot/">
                        <span class="tag">springboot</span>
                        <span class="tag is-grey">43</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/swagger/">
                        <span class="tag">swagger</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/webClient/">
                        <span class="tag">webClient</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/yaml/">
                        <span class="tag">yaml</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/事物/">
                        <span class="tag">事物</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/全局异常/">
                        <span class="tag">全局异常</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/分布式/">
                        <span class="tag">分布式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/抖音/">
                        <span class="tag">抖音</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/文件服务器/">
                        <span class="tag">文件服务器</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/日志/">
                        <span class="tag">日志</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/时间转化/">
                        <span class="tag">时间转化</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/标签1/">
                        <span class="tag">标签1</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/消息队列/">
                        <span class="tag">消息队列</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/淘宝/">
                        <span class="tag">淘宝</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/设计模式/">
                        <span class="tag">设计模式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/高可用/">
                        <span class="tag">高可用</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="Learning" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 Joe Tong&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh_CN");</script>

<script>
var IcarusThemeSettings = {
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>



    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>