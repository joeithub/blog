<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.9.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>Learning</title>


    <meta name="description" content="private learning">
<meta property="og:type" content="website">
<meta property="og:title" content="Learning">
<meta property="og:url" content="http://yoursite.com/page/16/index.html">
<meta property="og:site_name" content="Learning">
<meta property="og:description" content="private learning">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/images/og_image.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Learning">
<meta name="twitter:description" content="private learning">
<meta name="twitter:image" content="http://yoursite.com/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="Learning" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Categories</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-22T06:36:00.000Z">2019-07-22</time>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 分钟 read (About 338 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/22/docker重指定挂载镜像/">docker重指定挂载镜像</a>
            
        </h1>
        <div class="content">
            <p>docker-修改容器的挂载目录三种方式<br>方式一：修改配置文件（需停止docker服务）<br>1、停止docker服务<br>systemctl stop docker.service（关键，修改之前必须停止docker服务）<br>2、vim /var/lib/docker/containers/container-ID/config.v2.json<br>修改配置文件中的目录位置，然后保存退出  </p>
<p> “MountPoints”:{“/home”:{“Source”:”/docker”,”Destination”:”/home”,”RW”:true,”Name”:””,”Driver”:””,”Type”:”bind”,”Propagation”:”rprivate”,”Spec”:{“Type”:”bind”,”Source”:”//docker/“,”Target”:”/home”}}}</p>
<p>3、启动docker服务<br>systemctl start docker.service<br>4、启动docker容器<br>docker start &lt;container-name/ID&gt;<br>方式二：提交现有容器为新镜像，然后重新运行它  </p>
<p>$ docker ps  -a<br>|CONTAINERID|IMAGE|COMMAND|CREATED|STATUS|PORTS|NAMES|<br>|:-|:-|:-|:-|:-|:-|:-|<br>|5a3422adeead|ubuntu:14.04|”/bin/bash”|           About a minute ago|Exited(0)|About a minute ago|agitated_newton|<br>$ docker commit 5a3422adeead newimagename<br>$ docker run -ti -v “$PWD/dir1”:/dir1 -v    “$PWD/dir2”:/dir2 newimagename /bin/bash  </p>
<p>然后停止旧容器，并使用这个新容器，如果由于某种原因需要新容器使用旧名称，请在删除旧容器后使用docker rename。<br>方式三：export容器为镜像，然后import为新镜像  </p>
<p>$docker container export -o ./myimage.docker 容器ID<br>$docker import ./myimage.docker newimagename<br>$docker run -ti -v “$PWD/dir1”:/dir1 -v    “$PWD/dir2”:/dir2 newimagename /bin/bash  </p>
<p>然后停止旧容器，并使用这个新容器，如果由于某种原因需要新容器使用旧名称，请在删除旧容器后使用docker rename。  </p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-21T23:04:00.000Z">2019-07-21</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    9 分钟 read (About 1323 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/22/TCP-UDP/">TCP UDP</a>
            
        </h1>
        <div class="content">
            <p>1、TCP和UDP的区别<br>（1）TCP面向连接；UDP面向无连接<br>（2）TCP保证数据正确性；UDP可能丢包<br>（3）TCP传输速度慢；UDP速度快<br>（4）每一条TCP连接只能是点到点的；UDP支持一对一，一对多，多对一和多对多的交互通信<br>（5）TCP对系统资源要求较多，UDP对系统资源要求较少。<br>2、三次握手<br>三次握手的目的是建立可靠的通信信道。确认自己与对方的发送与接收机能正常。<br>TCP三次握手过程:<br>1、主机A通过向主机B 发送一个含有同步序列号的标志位的数据段给主机B ，向主机B请求建立连接,通过这个数据段,主机A告诉主机B两件事：我想要和你通信、你可以用哪个序列号作为起始数据段来回应我。<br>2、主机B收到主机A的请求后,用一个带有确认应答(ACK)和同步序列号(SYN)标志位的数据段响应主机A,也告诉主机A两件事：我已经收到你的请求了,你可以传输数据了、你要用哪个序列号作为起始数据段来回应我。<br>3、主机A收到这个数据段后，再发送一个确认应答，确认已收到主机B的数据段：我已收到回复，我现在要开始传输实际数据了。<br>这样3次握手就完成了,主机A和主机B 就可以传输数据了.<br>这里写图片描述<br>为什么需要三次握手：<br>三次握手能确认双发收发功能都正常，缺一不可。<br>第一次握手：Client什么都不能确认；Server确认了对方发送正常。<br>第二次握手：Client确认了：自己发送、接收正常，对方发送、接收正常；Server确认了：自己接收正常，对方发送正常。<br>第三次握手：Client确认了：自己发送、接收正常，对方发送、接收正常；Server确认了：自己发送、接收正常，对方发送接收正常。<br>三次握手的另一个目标是确认确认双方都支持TCP，告知对方用TCP传输。<br>第一次握手：Server猜测Client可能要建立TCP请求，但不确定，因为也可能是Client乱发了一个数据包给自己。<br>第二次握手：通过ack=J+1，Client知道Server是支持TCP的，且理解了自己要建立TCP连接的意图。<br>第三次握手：通过ack=K+1，Server知道Client是支持TCP的，且确实是要建立TCP连接。<br>3、四次挥手<br>1、第一次挥手：主机1（可以使客户端，也可以是服务器端），设置Sequence Number和Acknowledgment Number，向主机2发送一个FIN报文段；此时，主机1进入FIN_WAIT_1状态；这表示主机1没有数据要发送给主机2了。<br>2、第二次挥手：主机2收到了主机1发送的FIN报文段，向主机1回一个ACK报文段，Acknowledgment Number为Sequence Number加1；主机1进入FIN_WAIT_2状态；主机2告诉主机1，我“同意”你的关闭请求。<br>3、第三次挥手：主机2向主机1发送FIN报文段，请求关闭连接，同时主机2进入LAST_ACK状态。<br>4、第四次挥手：主机1收到主机2发送的FIN报文段，向主机2发送ACK报文段，然后主机1进入TIME_WAIT状态；主机2收到主机1的ACK报文段以后，就关闭连接；此时，主机1等待2MSL后依然没有收到回复，则证明Server端已正常关闭，那好，主机1也可以关闭连接了。<br>为什么要time wait，为什么是2msl<br>这里写图片描述<br>为了保证A发送的最后一个ACK报文能够到达B。这个ACK报文段有可能丢失，因而使处在LAST-ACK状态的B收不到对已发送的FIN+ACK报文段的确认。B会超时重传这个FIN+ACK报文段，而A就能在2MSL时间内收到这个重传的FIN+ACK报文段。如果A在TIME-WAIT状态不等待一段时间，而是在发送完ACK报文段后就立即释放连接，就无法收到B重传的FIN+ACK报文段，因而也不会再发送一次确认报文段。这样，B就无法按照正常的步骤进入CLOSED状态。<br>MSL指的是任何IP数据报能够在因特网上存活的最长时间。假设现在一个MSL的时候，接收端需要发送一个应答，这时候，我们也必须等待这个应答的消失，这个应答的消失也是需要一个MSL，所以我们需要等待2MSL。  </p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-21T15:53:00.000Z">2019-07-21</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 分钟 read (About 804 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/21/网络体系机构/">网络体系机构</a>
            
        </h1>
        <div class="content">
            <p>网络的体系结构分为哪五层，每层分别有哪些协议(阿里面试题)<br>面试题：讲一下OSI七层模型，每层的作用，问了wifi属于哪一层(百度面试题)<br>一、OSI七层模型<br><img src="/images/pasted-14.png" alt="upload successful"></p>
<p>应用层<br>是最靠近用户的OSI层。这一层为用户的应用程序（例如电子邮件、文件传输和终端仿真）提供网络服务。<br>表示层<br>表示提供各种用于应用层数据编码和转换功能，确保一个系统的应用层发送的数据能被另一个系统的应用层识别。如果必要该层可提供一种标准表示形式，用于将计算机内部的多种数据格式转换成通信中采用的标准表示形式。数据压缩和加密也是表示层可提供的转换功能之一。<br>会话层<br>会话层负载建立、管理和终止表示层实体之间的通信会话。该层的通信由不同设备中的应用程序之间的服务请求和响应组成。<br>传输层<br>传输层建立了主机端到端的链接，传输层的作用是为上层协议提供端到端的可靠和透明的数据传输服务，包括处理差错控制和流量控制等问题。该层向高层屏蔽了下层数据通信的细节，是高层用户看到的只是在两个传输实体建的一个主机到主机的、可由用户控制和设定、可靠的数据通路。通常说的TCP UDP就是在这层。端口号即是这里的“端”。<br>网络层<br>本层通过IP寻址来建立两点之间的连接，为源端的运输层来的分组，选择合适的路由和交换节点，正确无误地按照地址传送给目的端的运输层。就是通常说的ip层。这一层就是我们经常说的IP协议层。IP协议是Internet的基础。<br>数据链路层<br>将比特组合成字节，再将字节组成帧，使用链路层地址（以太网mac地址）来访问介质，并进行差错检测。数据链路层又分为2个子层：逻辑链路控制子层（LLC）和媒体访问控制子层（MAC）。<br>物理层<br>主要定义物理设备标准，如网线的接口类型、光纤的接口类型、各种传输介质的传输速率等。它的主要作用是传输比特流（就是由1、0转化为电流强弱来进行传输,到达目的地后在转化为1、0，也就是我们常说的数模转换与模数转换）。这一层的数据叫做比特。<br>二、TCP/IP五层模型<br><img src="/images/pasted-15.png" alt="upload successful"></p>
<p>三、Wifi和zigbee<br>zigbee和wifi符合局域网标准，是工作在OSI数据链路层和物理层的。  </p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-21T07:19:00.000Z">2019-07-21</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 分钟 read (About 529 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/21/Oauth2/">Oauth2</a>
            
        </h1>
        <div class="content">
            <p>Oauth2授权模式</p>
<h6 id="授权码模式（Authorization-Code）"><a href="#授权码模式（Authorization-Code）" class="headerlink" title="授权码模式（Authorization Code）"></a>授权码模式（Authorization Code）</h6><h6 id="隐士授权模式（Implicit）"><a href="#隐士授权模式（Implicit）" class="headerlink" title="隐士授权模式（Implicit）"></a>隐士授权模式（Implicit）</h6><h6 id="密码模式（Resource-Owner-Password-Credentials）"><a href="#密码模式（Resource-Owner-Password-Credentials）" class="headerlink" title="密码模式（Resource Owner Password Credentials）"></a>密码模式（Resource Owner Password Credentials）</h6><h6 id="客户端模式（Client-Credentials）"><a href="#客户端模式（Client-Credentials）" class="headerlink" title="客户端模式（Client Credentials）"></a>客户端模式（Client Credentials）</h6><p>授权码授权流程</p>
<p><img src="/images/pasted-12.png" alt="upload successful"><br>客户端请求第三方授权<br>用户（资源有者）同意给客户端授权<br>客户端获取到授权码，请求认证服务器申请令牌<br>认证服务器向客户端响应令牌<br>客户端请求资源服务器的资源<br>资源服务器返回受保护资源</p>
<p>申请授权码<br>请求认证服务获取授权码<br>get请求：</p>
<p><img src="/images/pasted-13.png" alt="upload successful"></p>
<p>客户端ID就是存到数据库里的client_id的值</p>
<p>Spring security 会去数据库中查有没有这个服务</p>
<p>校验令牌token<br>刷新令牌refresh_token </p>
<p>JWT  (json web token)简化认证流程  </p>
<p><img src="/images/pasted-16.png" alt="upload successful">      </p>
<p>实现方式是通过RSA(公钥/私钥)完成签名<br>资源服务器和认证服务器之间通过公钥私钥的方式<br>jwt格式包含三个部分：</p>
<ul>
<li>Header部分<figure class="highlight json hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> <span class="hljs-attr">""</span>:<span class="hljs-string">""</span>,</span><br><span class="line"> <span class="hljs-attr">"typ"</span>:<span class="hljs-string">""</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>他会用base64url进行编码成字符串</p>
<ul>
<li>Payload部分（内容部分）<figure class="highlight clojure hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>也会进行base64url进行编码  </p>
<ul>
<li>signature部分签名部分<br>防止篡改  <figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HMACSHA256(</span><br><span class="line">  base64urlEncode(header) + <span class="hljs-string">"."</span> + </span><br><span class="line">  base64UrlEncode(payload),</span><br><span class="line">  secret</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>secret:签名使用的密钥<br>整个再进行加密</p>
<p>生成密钥证书，采用rsa算法每个证书包含公钥和私钥<br>生成私钥：</p>
<figure class="highlight less hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-selector-tag">keytool</span> <span class="hljs-selector-tag">-genkeypair</span> <span class="hljs-selector-tag">-alias</span> <span class="hljs-selector-tag">xxx</span>(密钥的别名) <span class="hljs-selector-tag">-keyalg</span> <span class="hljs-selector-tag">RSA</span>（采用的算法） <span class="hljs-selector-tag">-keypass</span> <span class="hljs-selector-tag">xxx</span>(密匙的访问密码) <span class="hljs-selector-tag">-keystore</span> <span class="hljs-selector-tag">xxx</span><span class="hljs-selector-class">.keystore</span>(密钥库文件即存储密钥的文件) <span class="hljs-selector-tag">-storepass</span> <span class="hljs-selector-tag">xxx</span>(密钥库的访问密码)</span><br></pre></td></tr></table></figure>

<p>参数解析：<br>-alias 密钥的别名<br>-alias 密钥的别名<br>-keyalg 使用的hash算法<br>-keypass 密匙的访问密码<br>-keystore 密匙库文件名<br>-storepass 密匙库的访问密码  </p>
<p>导出公钥：<br>需要openssl来导出公钥信息<br>安装openssl<br>到证书所在目录执行如下命令：</p>
<figure class="highlight applescript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keytool -<span class="hljs-built_in">list</span> rfc <span class="hljs-comment">--keystore xxx.keystore（密钥库文件名）| openssl x509 -inform pem -pubkey</span></span><br></pre></td></tr></table></figure>

<p>springsecurityoauth2流程</p>
<p><img src="/images/pasted-18.png" alt="upload successful"></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-20T17:26:00.000Z">2019-07-20</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    几秒 read (About 98 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/21/find/">find </a>
            
        </h1>
        <div class="content">
            <p><code># find &lt;directory&gt; -type f -name &quot;*.c&quot; | xargs grep &quot;&lt;strings&gt;&quot;&lt;directory&gt;</code><br>是你要找的文件夹；如果是当前文件夹可以省略-type f 说明，只找文件-name “*.c”  表示只找C语言写的代码，从而避免去查binary；也可以不写，表示找所有文件<strings>是你要找的某个字符串  </strings></p>
<figure class="highlight dos hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-built_in">find</span> /your/<span class="hljs-built_in">path</span> -<span class="hljs-built_in">type</span> f -<span class="hljs-built_in">print</span> | xargs grep MASQUERADEgrep -F MASQUERADE -R /<span class="hljs-built_in">path</span></span><br></pre></td></tr></table></figure>

<p>  <code>find -name &quot;.git&quot;</code></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-20T12:26:00.000Z">2019-07-20</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 分钟 read (About 462 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/20/crontab-another-form/">crontab another form</a>
            
        </h1>
        <div class="content">
            <p>@hourly /usr/local/www/awstats/cgi-bin/awstats.sh<br>使用 @hourly 对应的是 0 * * * *, 还有下述可以使用:  </p>
<p>复制代码<br>string meaning<br>—— ——-<br>@reboot Run once, at startup.<br>@yearly Run once a year, “0 0 1 1 *”.<br>@annually (same as @yearly)<br>@monthly Run once a month, “0 0 1 * *”.<br>@weekly Run once a week, “0 0 * * 0”.<br>@daily Run once a day, “0 0 * * *”.<br>@midnight (same as @daily)<br>@hourly Run once an hour, “0 * * * *”. </p>
<p>特別是看到 @reboot, 所以写 rc.local 的東西, 也可以使用 @reboot 寫在 crontab 里面。  </p>
<p>1.每分钟定时执行一次规则：<br>每1分钟执行： <em>/1 * * * *或者</em> * * * *
每5分钟执行： */5 * * * *</p>
<p>2.每小时定时执行一次规则：<br>每小时执行： 0 * * * *或者0 */1 * * *
每天上午7点执行：0 7 * * *
每天上午7点10分执行：10 7 * * *</p>
<p>3.每天定时执行一次规则：<br>每天执行 0 0 * * *</p>
<p>4.每周定时执行一次规则：<br>每周执行 0 0 * * 0</p>
<p>5.每月定时执行一次规则：<br>每月执行 0 0 1 * *</p>
<p>6.每年定时执行一次规则：<br>每年执行 0 0 1 1 *</p>
<p>7.其他例子<br>5 * * * * 指定每小时的第5分钟执行一次ls命令<br>30 5 * * * ls 指定每天的 5:30 执行ls命令<br>30 7 8 * * ls 指定每月8号的7：30分执行ls命令<br>30 5 8 6 * ls 指定每年的6月8日5：30执行ls命令<br>30 6 * * 0 ls 指定每星期日的6:30执行ls命令[注：0表示星期天，1表示星期1，以此类推，也可以用英文来表示，sun表示星期天，mon表示星期一等。]<br>30 3 10,20 * * ls 每月10号及20号的3：30执行ls命令[注：“，”用来连接多个不连续的时段]<br>25 8-11 * * * ls 每天8-11点的第25分钟执行ls命令[注：“-”用来连接连续的时段]<br>*/15 * * * * ls 每15分钟执行一次ls命令 [即每个小时的第0 15 30 45 60分钟执行ls命令 ]<br>30 6 */10 * * ls 每个月中，每隔10天6:30执行一次ls命令[即每月的1、11、21、31日是的6：30执行一次ls命令。 ]</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-20T02:29:00.000Z">2019-07-20</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 分钟 read (About 519 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/20/onos-源码编译安装/">onos-buck 源码编译安装</a>
            
        </h1>
        <div class="content">
            <p>老版本  onos-buck<br>ONOS新版本源码安装方式<br>发表于 2017-03-08   |   分类于 项目展示   |     |    访问量:<br>1.安装JDK（从Oracle官网下载，不要用OpenJDK）<br>1.Download and Extract JDK package, such as jdk-8u121-linux-x64.tar.gz.<br><code>tar -xzf jdk-8u121-linux-x64.tar.gz</code></p>
<p>and you can see new directory /home/yourname/jdk1.8.0_121.<br>2.Add two environment variables into ~/.bashrc or /etc/profile:</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">JAVA_HOME</span>=/home/yourname/jdk1.8.0_121</span><br><span class="line"><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">PATH</span>=<span class="hljs-variable">$&#123;JAVA_HOME&#125;</span>/bin:$PATH</span><br></pre></td></tr></table></figure>

<p>3.Save and open a new terminal, go on next step.</p>
<figure class="highlight sql hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get <span class="hljs-keyword">install</span> software-properties-common -y &amp;&amp; \</span><br><span class="line">sudo <span class="hljs-keyword">add</span>-apt-repository ppa:webupd8team/<span class="hljs-keyword">java</span> -y &amp;&amp; \</span><br><span class="line">sudo apt-<span class="hljs-keyword">get</span> <span class="hljs-keyword">update</span> &amp;&amp; \</span><br><span class="line">echo <span class="hljs-string">"oracle-java8-installer shared/accepted-oracle-license-v1-1 select true"</span> | sudo debconf-<span class="hljs-keyword">set</span>-selections &amp;&amp; \</span><br><span class="line">sudo apt-<span class="hljs-keyword">get</span> <span class="hljs-keyword">install</span> <span class="hljs-keyword">oracle</span>-java8-installer <span class="hljs-keyword">oracle</span>-java8-<span class="hljs-keyword">set</span>-<span class="hljs-keyword">default</span> -y</span><br></pre></td></tr></table></figure>

<p>2.下载源码并编译</p>
<figure class="highlight crmsh hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="hljs-keyword">clone</span> <span class="hljs-title">https</span>://gerrit.onosproject.org/onos</span><br><span class="line">cd onos <span class="hljs-comment">#之后的命令均在此目录下</span></span><br><span class="line">tools/build/onos-buck build onos --show-output</span><br></pre></td></tr></table></figure>

<p>正常的话，会打印出.tar.gz目录，这个就是二进制安装文件。<br>3.本地运行ONOS<br><code>tools/build/onos-buck run onos-local -- clean debug</code><br>以上命令将会从本地的 onos.tar.gz文件中进行本地安装，并在后台开启ONOS服务。在终端上将会持续打出ONOS的日志内容。clean选项会使其进行ONOS的清洁安装，而debug选项意为默认调试端口5005将会开启。<br>4.设置环境变量<br>在/etc/profile中添加： </p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-builtin-name">export</span> <span class="hljs-attribute">ONOS_ROOT</span>=/home/yourname/onos</span><br><span class="line">source <span class="hljs-variable">$ONOS_ROOT</span>/tools/dev/bash_profile</span><br></pre></td></tr></table></figure>

<p>5.开启ONOS的CLI控制台<br>在本地开启ONOS之后，在新的终端执行以下命令：<br><code>tools/test/bin/onos localhost</code><br>6.开启ONOS的GUI界面<br>在本地开启ONOS之后，在新的终端执行以下命令：<br><code>tools/test/bin/onos-gui localhost</code></p>
<p>#（实际执行了open http://$host:8181/onos/ui，Ubuntu不支持，</p>
<p>#出错Couldn’t get a file descriptor referring to the console）<br>或者访问<a href="http://localhost:8181/onos/ui" target="_blank" rel="noopener">http://localhost:8181/onos/ui</a> （推荐）<br>默认用户名onos，密码rocks<br>7.ONOS单元测试<br>To execute ONOS unit tests, including code Checkstyle validation, run the following command:<br><code>tools/build/onos-buck test</code><br>8.导入工程到IDE<code>If you want to import the project into IntelliJ, you can generate the hierarchical module structure via the following command:</code><br><code>tools/build/onos-buck project</code></p>
<p>Then simply open the onos directory from IntelliJ IDEA.</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-19T10:45:00.000Z">2019-07-19</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    1 小时 read (About 7700 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/19/dockerfile-command/">dockerfile command</a>
            
        </h1>
        <div class="content">
            <p>docker reference <a href="https://docs.docker.com/v17.09/engine/reference/builder" target="_blank" rel="noopener">https://docs.docker.com/v17.09/engine/reference/builder</a></p>
<h4 id="docker-build-创建镜像"><a href="#docker-build-创建镜像" class="headerlink" title="docker build 创建镜像"></a>docker build 创建镜像</h4><p>   -f 路径 指定用哪个dockerfile文件 创建镜像<br>  <code>$ docker build -f /path/to/a/Dockerfile</code><br>   -t 标签 给指定镜像打标签<br>   <code>$ docker build -t shykes/myapp</code><br>   给某个镜像指定多个标签<br>  <code>$ docker build -t shykes/myapp:1.0.2 -t shykes/myapp:latest</code><br>  如果Dockerfile中有语法错误docker 会报错<br>  docker会根据Dockerfile 逐条执行命令<br>  如果有必要的花docker 会在生成image ID 前 将每一条执行结果都提交到新的镜像中，守护进程自动清理发送给他的文本，注意每一条指令都是独立的无关的，因此一个新的镜像会被创建，所以运行 Run cd/tmp 不回对下条命令产生任何的影响<br>  只要有可能docker都会复用中间镜像的缓存来加速构建，这可以通过输出台Using cache 来表示<br>  构建缓存只用于有本地父关系链的场景，这也表示这些镜像是前面构建的时候已经创建的，或者也可用docker load 命令加载所有的父关连镜像，如果想使用指定的特定镜像缓存来构建可以用 –cache-from ，用这个命令就不需要父关系镜像<br>  <table><td><br>  格式：<br>  虽然大小写不敏感，但是指令用大写 可以与参数很好的区分开<br>  必须以FROM 指令开头，它指定了基础镜像  </td></table></p>
<p> #作为注释只可以放在开头，其他地方插入都只作为参数<br>  <table></table></p>
<h4 id="解析器指令"><a href="#解析器指令" class="headerlink" title="解析器指令"></a>解析器指令</h4><p> 解析器指令是可选的，并且影响Dockerfile中后续行的处理方式。解析器指令不向构建中添加层，也不会显示为构建步骤。解析器指令被编写为一种特殊类型的注释，形式为</p>
<p> #directive=value。<br> 一个指令只能使用一次。一旦注释、空行或构建器指令被处理，Docker就不再寻找解析器指令。相反，它将格式化为解析器指令的任何东西都视为注释，并且不尝试验证它是否可能是解析器指令。<br> 因此，所有解析器指令都必须位于Dockerfile的最顶端。解析器指令不区分大小写。然而，习惯上它们都是小写的。约定还包括任何解析器指令后面的空行。解析器指令不支持行延续字符。<br> 一下指令是允许的<br> <figure class="highlight vala hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> escape</span><br><span class="line"><span class="hljs-meta"># escape=\ (backslash)</span></span><br><span class="line">Or</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta"># escape=` (backtick)</span></span><br></pre></td></tr></table></figure></p>
<h4 id="环境替换"><a href="#环境替换" class="headerlink" title="环境替换"></a>环境替换</h4><p>环境变量(用ENV语句声明)也可以在某些指令中用作Dockerfile要解释的变量。转义还处理将类似变量的语法按字面意思包含到语句中。</p>
<p>环境变量在Dockerfile中以$变量名 或 ${变量名} 标注。它们被同等对待，大括号语法通常用于处理变量名没有空格的问题，比如${foo} bar。</p>
<p>${variable_name}语法还支持以下指定的几个标准bash修饰符${Z}表示，如果设置了变量，那么结果将是该值。如果没有设置变量，那么word将是结果。${variable:+word}表示如果设置了变量，那么word将是结果，否则结果是空字符串。在所有情况下，word可以是任何字符串，包括附加的环境变量。<br>可以通过在变量前面添加\来转义:例如，$foo或${foo}将分别转换为$foo和${foo}文本。</p>
<p>举个例子：（#后表示解析后的结果）</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">FROM</span> busybox</span><br><span class="line"><span class="hljs-keyword">ENV</span> foo /bar</span><br><span class="line"><span class="hljs-keyword">WORKDIR</span><span class="hljs-bash"> <span class="hljs-variable">$&#123;foo&#125;</span>   <span class="hljs-comment"># WORKDIR /bar</span></span></span><br><span class="line"><span class="hljs-keyword">ADD</span><span class="hljs-bash"> . <span class="hljs-variable">$foo</span>       <span class="hljs-comment"># ADD . /bar</span></span></span><br><span class="line"><span class="hljs-keyword">COPY</span><span class="hljs-bash"> \<span class="hljs-variable">$foo</span> /quux <span class="hljs-comment"># COPY $foo /quux</span></span></span><br></pre></td></tr></table></figure>

<p>Dockerfile中以下环境变量是被允许的：</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ADD</span><br><span class="line">COPY</span><br><span class="line">ENV</span><br><span class="line">EXPOSE</span><br><span class="line"><span class="hljs-keyword">FROM</span></span><br><span class="line">LABEL</span><br><span class="line">STOPSIGNAL</span><br><span class="line">USER</span><br><span class="line">VOLUME</span><br><span class="line">WORKDIR</span><br><span class="line">ONBUILD(1.4之后支持)</span><br></pre></td></tr></table></figure>

<p>环境变量替换将在整个指令中对每个变量使用相同的值</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ENV <span class="hljs-attribute">abc</span>=hello</span><br><span class="line">ENV <span class="hljs-attribute">abc</span>=bye <span class="hljs-attribute">def</span>=<span class="hljs-variable">$abc</span></span><br><span class="line">ENV <span class="hljs-attribute">ghi</span>=<span class="hljs-variable">$abc</span></span><br></pre></td></tr></table></figure>

<p>将导致def的值为hello，而不是bye。但是，ghi将有一个值bye，因为它不是将abc设置为bye的同一条指令的一部分。</p>
<h4 id="dockerignore-file"><a href="#dockerignore-file" class="headerlink" title=".dockerignore file"></a>.dockerignore file</h4><p>在docker CLI将上下文发送到docker守护进程之前，它在上下文的根目录中查找一个名为.dockerignore的文件。如果该文件存在，CLI将修改上下文，以排除匹配其中模式的文件和目录。这有助于避免不必要地向守护进程发送大型或敏感的文件和目录，并可能使用ADD或COPY将它们添加到镜像中</p>
<p>CLI将.dockerignore文件解释为一个新行分隔的模式列表，类似于Unix shell的文件globs。为了进行匹配，上下文的根被认为是工作目录和根目录。例子：</p>
<figure class="highlight markdown hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-section"># comment</span></span><br><span class="line"><span class="hljs-emphasis">*/temp*</span></span><br><span class="line"><span class="hljs-emphasis">*/*</span>/temp*</span><br><span class="line">temp?</span><br></pre></td></tr></table></figure>

<p>This file causes the following build behavior:</p>
<table>
<thead>
<tr>
<th align="left">Rule</th>
<th align="left">Behavior</th>
</tr>
</thead>
<tbody><tr>
<td align="left"># comment</td>
<td align="left">Ignored.</td>
</tr>
<tr>
<td align="left"><em>/temp</em></td>
<td align="left">Exclude files and directories whose names start with temp in any immediate subdirectory of the root. For example, the plain file /somedir/temporary.txt is excluded, as is the directory /somedir/temp.</td>
</tr>
<tr>
<td align="left"><em>/</em>/temp*</td>
<td align="left">Exclude files and directories starting with temp from any subdirectory that is two levels below the root. For example, /somedir/subdir/temporary.txt is excluded.</td>
</tr>
<tr>
<td align="left">temp?</td>
<td align="left">Exclude files and directories in the root directory whose names are a one-character extension of temp. For example, /tempa and /tempb are excluded.</td>
</tr>
</tbody></table>
<p>匹配是使用Go’s filepath完成的。匹配规则。预处理步骤删除前导和后置空格并消除.和. .使用Go’s filepath.Clean的元素。预处理后为空的行将被忽略。<br>超越Go’s filepath。匹配规则Docker还支持一个特殊的通配符字符串**，它匹配任意数量的目录(包括0),例如 **/*.go将排除在所有目录中以.go结尾的所有文件，包括构建上下文的根目录。<br>以!(感叹号)开头可以用来排除例外。下面是一个使用此机制的.dockerignore文件示例</p>
<figure class="highlight css hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*<span class="hljs-selector-class">.md</span></span><br><span class="line">!<span class="hljs-selector-tag">README</span><span class="hljs-selector-class">.md</span></span><br></pre></td></tr></table></figure>

<p>所有的标记文件被排除在上下文之外，除了README.md。<br>!的位置异常规则影响行为:.dockerignore中匹配特定文件的最后一行决定是否包含或排除该文件。考虑下面的例子</p>
<figure class="highlight stylus hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">    *.md</span><br><span class="line">README-secret.md</span><br><span class="line">!README*.md</span><br></pre></td></tr></table></figure>

<p>所有的README文件都包括在内。中间的行没有效果，因为!README*.md匹配 README-secret。而且在最后一行。<br>您甚至可以使用.dockerignore文件来排除Dockerfile和.dockerignore文件。这些文件仍然被发送到守护进程，因为守护进程需要它们来完成它的工作。但是添加和复制指令不会将它们复制到镜像中。</p>
<p>最后，您可能希望指定要在上下文中包含哪些文件，而不是要排除哪些文件。要实现这一点，请将*指定为第一个模式(把<em>.md它放在前面)，然后是一个或多个模式 !异常模式（!README</em>.md放在后面）。</p>
<h4 id="FROM"><a href="#FROM" class="headerlink" title="FROM"></a>FROM</h4><figure class="highlight sqf hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">FROM</span> &lt;<span class="hljs-built_in">image</span>&gt; [AS &lt;<span class="hljs-built_in">name</span>&gt;]</span><br><span class="line"><span class="hljs-built_in">Or</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> &lt;<span class="hljs-built_in">image</span>&gt;[:&lt;tag&gt;] [AS &lt;<span class="hljs-built_in">name</span>&gt;]</span><br><span class="line"><span class="hljs-built_in">Or</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> &lt;<span class="hljs-built_in">image</span>&gt;[@&lt;digest&gt;] [AS &lt;<span class="hljs-built_in">name</span>&gt;]</span><br></pre></td></tr></table></figure>

<p>FROM指令初始化一个新的构建阶段，并为后续指令设置基本镜像。因此，一个有效的Dockerfile必须从FROM指令开始。镜像可以是任何有效的镜像，这是特别容易的从公共仓库拉一个镜像开始<br>ARG是Dockerfile中唯一可能在前面的指令。参见了解ARG和FROM如何交互。</p>
<p>FROM可以在一个Dockerfile中出现多次，以创建多个镜像，或者使用一个构建阶段作为另一个构建阶段的依赖项。只需在每条新的FROM指令之前，记录提交最后一个镜像ID。每个FROM指令清除以前的指令创建的任何状态。</p>
<p>可以通过<code>AS名称</code> 添加到<code>FROM</code>指令中，为新的构建阶段指定一个名称。可以在后续FROM和<code>COPY——FROM =&lt;name|index&gt;</code>指令中使用该名称，以引用此阶段构建的镜像。</p>
<p><code>tag</code>标记或<code>digest</code>摘要值是可选的。如果您省略了它们中的任何一个，构建器将默认使用最新的标记。如果构建器无法找到标记值，则返回一个错误。  </p>
<p>理解ARG和FROM之间是如何交互的</p>
<p>FROM指令支持由第一个FROM之前的任何ARG指令声明的变量。</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">ARG</span>  CODE_VERSION=latest</span><br><span class="line"><span class="hljs-keyword">FROM</span> base:$&#123;CODE_VERSION&#125;</span><br><span class="line"><span class="hljs-keyword">CMD</span><span class="hljs-bash">  /code/run-app</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> extras:$&#123;CODE_VERSION&#125;</span><br><span class="line"><span class="hljs-keyword">CMD</span><span class="hljs-bash">  /code/run-extras</span></span><br></pre></td></tr></table></figure>

<p>在FROM之前声明的ARG位于构建阶段之外，因此不能在FROM之后的任何指令中使用它。若要使用第一个FROM之前声明的ARG的默认值，请使用构建阶段中没有值的ARG指令<br> To use the default value of an ARG declared before the first FROM use an ARG instruction without a value inside of a build stage:</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">ARG</span> VERSION=latest</span><br><span class="line"><span class="hljs-keyword">FROM</span> busybox:$VERSION</span><br><span class="line"><span class="hljs-keyword">ARG</span> VERSION</span><br><span class="line"><span class="hljs-keyword">RUN</span><span class="hljs-bash"> <span class="hljs-built_in">echo</span> <span class="hljs-variable">$VERSION</span> &gt; image_version</span></span><br></pre></td></tr></table></figure>

<p>RUN<br>run有两中形式：</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-builtin-name">RUN</span> &lt;command&gt; (shell form, the command is <span class="hljs-builtin-name">run</span> <span class="hljs-keyword">in</span> a shell, which by<span class="hljs-built_in"> default </span>is /bin/sh -c on Linux <span class="hljs-keyword">or</span> cmd /S /C on Windows)</span><br><span class="line"><span class="hljs-builtin-name">RUN</span> [<span class="hljs-string">"executable"</span>, <span class="hljs-string">"param1"</span>, <span class="hljs-string">"param2"</span>] (exec form)</span><br></pre></td></tr></table></figure>

<p>RUN指令将在当前映像之上的新层中执行任何命令并提交结果。生成的提交映像将用于Dockerfile中的下一步。<br>分层运行指令和生成提交符合Docker的核心概念，其中提交很便宜，可以从镜像历史中的任何位置创建容器，就像源代码控制一样。<br>exec形式可以避免shell字符串阻塞，并使用不包含指定的shell可执行文件的基本镜像运行命令。<br>可以使用shell命令更改shell形式的默认shell。<br>在shell形式中，您可以使用(反斜杠)将单个运行指令延续到下一行</p>
<figure class="highlight nginx hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attribute">RUN</span> /bin/bash -c <span class="hljs-string">'source <span class="hljs-variable">$HOME</span>/.bashrc; \</span></span><br><span class="line"><span class="hljs-string">echo <span class="hljs-variable">$HOME</span>'</span></span><br></pre></td></tr></table></figure>

<p>它们加起来等于这一行<br><code>RUN /bin/bash -c &#39;source $HOME/.bashrc; echo $HOME&#39;</code><br>注意:与shell不同，exec不调用命令shell。这意味着不会发生正常的shell处理。例如，<code>RUN [&quot;echo&quot;， &quot;$HOME&quot;]</code>不会对$HOME执行变量替换。如果您想要shell处理，那么要么使用shell表单，要么直接执行shell，<code>RUN [ &quot;sh&quot;, &quot;-c&quot;, &quot;echo $HOME&quot; ]</code><br>当使用exec并直接执行shell时(就像shell的情况一样)，执行环境变量展开的是shell，而不是docker。<br>在JSON格式中，有必要转义反斜杠<br>这在以反斜杠作为路径分隔符的窗口中特别相关。否则，由于不是有效的JSON，以下行将被视为shell形式，并以一种意外的方式失败:<code>RUN [&quot;c:\windows\system32\tasklist.exe&quot;]</code>这个例子的正确语法是<code>RUN [&quot;c:\\windows\\system32\\tasklist.exe&quot;]</code><br>运行指令的缓存不会在下一次构建期间自动失效。像RUN apt-get distd -upgrade -y这样的指令的缓存将在下一个构建过程中重用。运行指令的缓存可以通过使用–no-cache来失效<br>for example <code>docker build --no-cache</code><br>运行指令的缓存可以通过添加指令失效。详见下文。  </p>
<p>CMD<br>有三种格式：</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CMD [<span class="hljs-string">"executable"</span>,<span class="hljs-string">"param1"</span>,<span class="hljs-string">"param2"</span>] (exec form, this is the preferred form)</span><br><span class="line">CMD [<span class="hljs-string">"param1"</span>,<span class="hljs-string">"param2"</span>] (as<span class="hljs-built_in"> default </span>parameters <span class="hljs-keyword">to</span> ENTRYPOINT)</span><br><span class="line">CMD command param1 param2 (shell form)</span><br></pre></td></tr></table></figure>

<p>Dockerfile中只能有一条CMD指令。如果您列出一个以上的CMD，那么只有最后一个CMD将生效<br>CMD的主要目的是为执行容器提供默认值。这些默认值可以包括可执行文件，也可以省略可执行文件，在这种情况下，还必须指定一个入口点指令。<br>注意:如果CMD用于为ENTRYPOINT指令提供默认参数，那么CMD和ENTRYPOINT指令都应该使用JSON数组格式指定。<br>注意:exec表单被解析为JSON数组，这意味着必须在单词周围使用双引号(“)，而不是单引号(‘)。<br>与shell不同，exec不调用命令shell。这意味着不会发生正常的shell处理。例如，<code>CMD [&quot;echo&quot;， &quot;$HOME&quot;]</code>不会对$HOME执行变量替换。如果您想要shell处理，那么要么使用shell表单，要么直接执行shell.例如<code>CMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;echo $HOME&quot; ]</code></p>
<p>当使用exec并直接执行shell时(就像shell的情况一样)，执行环境变量展开的是shell，而不是docker。<br>当在shell或exec格式中使用时，CMD指令设置要在运行镜像时执行的命令。<br>如果使用CMD的shell形式，那么&lt;命令&gt;将在<code>/bin/sh -c</code>中执行</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-keyword">CMD</span><span class="hljs-bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">"This is a test."</span> | wc -</span></span><br></pre></td></tr></table></figure>

<p>如果您想在没有shell的情况下运行<code>&lt;command&gt;</code>，那么必须将该命令表示为JSON数组，并给出可执行文件的完整路径。这种数组形式是CMD的首选格式。任何附加参数都必须单独表示为字符串</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-keyword">CMD</span><span class="hljs-bash"> [<span class="hljs-string">"/usr/bin/wc"</span>,<span class="hljs-string">"--help"</span>]</span></span><br></pre></td></tr></table></figure>

<p>如果您希望您的容器每次运行相同的可执行文件，那么您应该考虑将ENTRYPOINT与CMD结合使用。看到入口点。</p>
<p>如果用户指定要运行docker run的参数，那么它们将覆盖CMD中指定的默认值</p>
<p><strong>注意:不要将RUN与CMD混淆。RUN实际运行命令并提交结果;CMD在构建时不执行任何操作，但是为镜像指定了预期的命令。</strong></p>
<p>LABEL<br><code>LABEL &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; ...</code><br>标签指令向镜像添加元数据。标签是键值对。要在标签值中包含空格，可以像在命令行解析中那样使用引号和反斜杠。一些使用示例</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">LABEL</span><span class="hljs-bash"> <span class="hljs-string">"com.example.vendor"</span>=<span class="hljs-string">"ACME Incorporated"</span></span></span><br><span class="line"><span class="hljs-keyword">LABEL</span><span class="hljs-bash"> com.example.label-with-value=<span class="hljs-string">"foo"</span></span></span><br><span class="line"><span class="hljs-keyword">LABEL</span><span class="hljs-bash"> version=<span class="hljs-string">"1.0"</span></span></span><br><span class="line"><span class="hljs-keyword">LABEL</span><span class="hljs-bash"> description=<span class="hljs-string">"This text illustrates \</span></span></span><br><span class="line"><span class="hljs-bash">that label-values can span multiple lines.<span class="hljs-string">"</span></span></span><br></pre></td></tr></table></figure>

<p>一个镜像可以有多个标签。要指定多个标签，Docker建议在可能的情况下将标签组合成单个标签指令。每条标签指令都会生成一个新层，如果使用多个标签，则会导致图镜像效率低下<br><code>LABEL multi.label1=&quot;value1&quot; multi.label2=&quot;value2&quot; other=&quot;value3&quot;</code><br>也可以写成</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LABEL multi.<span class="hljs-attribute">label1</span>=<span class="hljs-string">"value1"</span> \</span><br><span class="line">      multi.<span class="hljs-attribute">label2</span>=<span class="hljs-string">"value2"</span> \</span><br><span class="line">      <span class="hljs-attribute">other</span>=<span class="hljs-string">"value3"</span></span><br></pre></td></tr></table></figure>

<p>标签是附加的，包括来自镜像的标签。<br>要查看镜像的标签，请使用<code>docker inspect</code>命令。</p>
<figure class="highlight 1c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-string">"Labels"</span>: &#123;</span><br><span class="line">    <span class="hljs-string">"com.example.vendor"</span>: <span class="hljs-string">"ACME Incorporated"</span></span><br><span class="line">    <span class="hljs-string">"com.example.label-with-value"</span>: <span class="hljs-string">"foo"</span>,</span><br><span class="line">    <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0"</span>,</span><br><span class="line">    <span class="hljs-string">"description"</span>: <span class="hljs-string">"This text illustrates that label-values can span multiple lines."</span>,</span><br><span class="line">    <span class="hljs-string">"multi.label1"</span>: <span class="hljs-string">"value1"</span>,</span><br><span class="line">    <span class="hljs-string">"multi.label2"</span>: <span class="hljs-string">"value2"</span>,</span><br><span class="line">    <span class="hljs-string">"other"</span>: <span class="hljs-string">"value3"</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>MAINTAINER (deprecated) 过时<br><code>MAINTAINER &lt;name&gt;</code><br><code>LABEL maintainer=&quot;SvenDowideit@home.org.au&quot;</code><br>EXPOSE<br><code>EXPOSE &lt;port&gt; [&lt;port&gt;/&lt;protocol&gt;...]</code><br>ENV  </p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ENV <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span></span><br><span class="line">ENV <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>=<span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span> ...</span><br></pre></td></tr></table></figure>

<p>ENV指令将环境变量<code>&lt;key&gt;</code>设置为值<code>&lt;value&gt;</code>。此值将位于所有Dockerfile后代命令的环境中，并且可以在许多命令中内联替换。</p>
<p>ENV指令有两种形式。第一种形式<code>ENV &lt;key&gt; &lt;value&gt;</code>将把单个变量设置为一个值。第一个空格之后的整个字符串将被视为<code>&lt;value&gt;</code>—包括空格和引号等字符。</p>
<p>第二种形式是<code>ENV &lt;key&gt;=&lt;value&gt;…</code>，允许一次设置多个变量。注意，第二种形式在语法中使用等号(=)，而第一种形式没有。与命令行解析类似，可以使用引号和反斜杠在值中包含空格。</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ENV <span class="hljs-attribute">myName</span>=<span class="hljs-string">"John Doe"</span> <span class="hljs-attribute">myDog</span>=Rex\ The\ Dog \</span><br><span class="line">    <span class="hljs-attribute">myCat</span>=fluffy</span><br></pre></td></tr></table></figure>

<p>AND</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">ENV</span> myName John Doe</span><br><span class="line"><span class="hljs-keyword">ENV</span> myDog Rex The Dog</span><br><span class="line"><span class="hljs-keyword">ENV</span> myCat fluffy</span><br></pre></td></tr></table></figure>

<p>将在最终镜像中生成相同的净结果，但首选第一种形式，因为它生成一个缓存层。</p>
<p>当容器从生成的映像运行时，使用ENV设置的环境变量将保持不变。您可以使用<code>docker inspect</code>查看这些值，并使用<code>docker run——env &lt;key&gt;=&lt;value&gt;</code>更改它们。</p>
<p>ADD<br>ADD有两种形式：</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-builtin-name">ADD</span> &lt;src&gt;<span class="hljs-built_in">..</span>. &lt;dest&gt;</span><br><span class="line"><span class="hljs-builtin-name">ADD</span> [<span class="hljs-string">"&lt;src&gt;"</span>,<span class="hljs-built_in">..</span>. <span class="hljs-string">"&lt;dest&gt;"</span>] (this form is required <span class="hljs-keyword">for</span> paths containing whitespace)</span><br></pre></td></tr></table></figure>

<p>ADD指令从<code>&lt;src&gt;</code>复制新的文件、目录或远程文件url，并将它们添加到路径<code>&lt;dest&gt;</code>的映像文件系统中<br>可以指定多个<code>&lt;src&gt;</code>资源，但如果它们是文件或目录，则必须相对于正在构建的源目录(构建的上下文)。<br>每个<code>&lt;src&gt;</code>可能包含通配符，匹配将使用Go’s filepath完成。匹配规则。例如</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">ADD</span><span class="hljs-bash"> hom* /mydir/        <span class="hljs-comment"># adds all files starting with "hom"</span></span></span><br><span class="line"><span class="hljs-keyword">ADD</span><span class="hljs-bash"> hom?.txt /mydir/    <span class="hljs-comment"># ? is replaced with any single character, e.g., "home.txt"</span></span></span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">`&lt;dest&gt;`是绝对路径，或相对于<span class="hljs-keyword">WORKDIR</span><span class="hljs-bash">的路径，源文件将复制到目标容器中。</span></span><br></pre></td></tr></table></figure>

<p>ADD test relativeDir/          # adds “test” to <code>WORKDIR</code>/relativeDir/<br>ADD test /absoluteDir/         # adds “test” to /absoluteDir/</p>
<figure class="highlight autohotkey hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">当添加包含特殊字符(如`[<span class="hljs-literal">and</span>]`)的文件或目录时，需要转义那些遵循Golang规则的路径，以防止将它们视为匹配模式。例如，添加一个名为`arr[<span class="hljs-number">0</span>].txt`的文件。  </span><br><span class="line">`ADD arr[[]<span class="hljs-number">0</span>].txt /mydir/    # copy <span class="hljs-literal">a</span> file named <span class="hljs-string">"arr[0].txt"</span> to /mydir/`</span><br><span class="line"></span><br><span class="line">所有新文件和目录都是用UID和GID为<span class="hljs-number">0</span>创建的。</span><br><span class="line">在`&lt;src&gt;`是远程文件URL的情况下，目标的权限将为<span class="hljs-number">600</span>。如果正在检索的远程文件具有HTTP Last-Modified头，则来自该头的时间戳将用于设置目标文件的时间。然而,与添加过程中处理的任何其他文件一样，在确定文件是否更改、缓存是否应该更新时，并不包括mtime。</span><br><span class="line"></span><br><span class="line">COPY</span><br><span class="line"><span class="hljs-symbol">COPY 有两种形式:</span></span><br></pre></td></tr></table></figure>

<p>COPY <src>… <dest><br>COPY [“<src>“,… “<dest>“] (this form is required for paths containing whitespace)</dest></src></dest></src></p>
<figure class="highlight autohotkey hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">每个`&lt;src&gt;`可能包含通配符，匹配将使用Go's filepath完成。匹配规则。例如</span><br></pre></td></tr></table></figure>

<p>COPY hom* /mydir/        # adds all files starting with “hom”<br>COPY hom?.txt /mydir/    # ? is replaced with any single character, e.g., “home.txt”</p>
<figure class="highlight autohotkey hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`&lt;dest&gt;`是绝对路径，或相对于WORKDIR的路径，源文件将复制到目标容器中。</span><br></pre></td></tr></table></figure>

<p>COPY test relativeDir/   # adds “test” to <code>WORKDIR</code>/relativeDir/<br>COPY test /absoluteDir/  # adds “test” to /absoluteDir/</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">ENTRYPOINT</span><span class="hljs-bash"></span></span><br><span class="line"><span class="hljs-bash">ENTRYPOINT 有两种形式:</span></span><br></pre></td></tr></table></figure>

<p>ENTRYPOINT [“executable”, “param1”, “param2”] (exec form, preferred)<br>ENTRYPOINT command param1 param2 (shell form)</p>
<figure class="highlight autohotkey hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">入口点允许您配置容器作为可执行文件运行。</span><br><span class="line">`docker run -i -t --rm -p <span class="hljs-number">80</span>:<span class="hljs-number">80</span> nginx`</span><br><span class="line"></span><br><span class="line">VOLUME</span><br><span class="line">`VOLUME [<span class="hljs-string">"/data"</span>]`</span><br><span class="line">卷指令创建具有指定名称的挂载点，并将其标记为持有来自本机主机或其他容器的外部挂载卷。值可以是个json数组`VOLUME [<span class="hljs-string">"/var/log/"</span>]`,或具有多个参数的纯字符串，例如`VOLUME /var/log`或者`VOLUME /var/log /var/db`</span><br><span class="line">docker run命令使用存在于基本映像中指定位置的任何数据初始化新创建的卷。例如，考虑下面的Dockerfile片段</span><br></pre></td></tr></table></figure>

<p>FROM ubuntu<br>RUN mkdir /myvol<br>RUN echo “hello world” &gt; /myvol/greeting<br>VOLUME /myvol</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-keyword">USER</span></span><br></pre></td></tr></table></figure>

<p>USER <user>[:<group>] or<br>USER <uid>[:<gid>]</gid></uid></group></user></p>
<figure class="highlight livecodeserver hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">用户指令设置用户名(或UID)和可选的用户组(或GID)，以便在运行镜像时使用，以及在Dockerfile中对其后面的任何运行、CMD和ENTRYPOINT指令进行设置。</span><br><span class="line">警告:当用户没有主组时，映像(或下一个指令)将与根组一起运行。</span><br><span class="line">WORKDIR</span><br><span class="line">`WORKDIR /path/<span class="hljs-built_in">to</span>/workdir`</span><br><span class="line">The WORKDIR instruction sets <span class="hljs-keyword">the</span> working <span class="hljs-built_in">directory</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">any</span> RUN, CMD, ENTRYPOINT, COPY <span class="hljs-keyword">and</span> ADD instructions that follow <span class="hljs-keyword">it</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> Dockerfile. If <span class="hljs-keyword">the</span> WORKDIR doesn’t exist, <span class="hljs-keyword">it</span> will be created even <span class="hljs-keyword">if</span> <span class="hljs-keyword">it</span>’s <span class="hljs-keyword">not</span> used <span class="hljs-keyword">in</span> <span class="hljs-keyword">any</span> subsequent Dockerfile instruction.</span><br><span class="line"></span><br><span class="line">The WORKDIR instruction can be used multiple times <span class="hljs-keyword">in</span> <span class="hljs-keyword">a</span> Dockerfile. If <span class="hljs-keyword">a</span> <span class="hljs-built_in">relative</span> path is provided, <span class="hljs-keyword">it</span> will be <span class="hljs-built_in">relative</span> <span class="hljs-built_in">to</span> <span class="hljs-keyword">the</span> path <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> previous WORKDIR instruction. For example:</span><br></pre></td></tr></table></figure>

<p>WORKDIR /a<br>WORKDIR b<br>WORKDIR c<br>RUN pwd</p>
<figure class="highlight livecodeserver hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The output <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> final pwd <span class="hljs-keyword">command</span> <span class="hljs-title">in</span> <span class="hljs-title">this</span> <span class="hljs-title">Dockerfile</span> <span class="hljs-title">would</span> <span class="hljs-title">be</span> /<span class="hljs-title">a</span>/<span class="hljs-title">b</span>/<span class="hljs-title">c</span>.</span><br><span class="line"></span><br><span class="line">The WORKDIR instruction can <span class="hljs-built_in">resolve</span> environment variables previously <span class="hljs-built_in">set</span> <span class="hljs-keyword">using</span> ENV. You can only use environment variables explicitly <span class="hljs-built_in">set</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> Dockerfile. For example:</span><br></pre></td></tr></table></figure>

<p>ENV DIRPATH /path<br>WORKDIR $DIRPATH/$DIRNAME<br>RUN pwd</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">The output of the final pwd command <span class="hljs-keyword">in</span> this Dockerfile would be /path/<span class="hljs-variable">$DIRNAME</span></span><br><span class="line"></span><br><span class="line">ARG</span><br><span class="line">`ARG &lt;name&gt;[=&lt;default value&gt;]`</span><br><span class="line">The ARG instruction defines a variable that<span class="hljs-built_in"> users </span>can pass at build-time <span class="hljs-keyword">to</span> the builder with the docker build command using the --build-arg &lt;varname&gt;=&lt;value&gt; flag. <span class="hljs-keyword">If</span> a<span class="hljs-built_in"> user </span>specifies a build argument that was <span class="hljs-keyword">not</span> defined <span class="hljs-keyword">in</span> the Dockerfile, the build outputs a warning.</span><br><span class="line"></span><br><span class="line">[<span class="hljs-builtin-name">Warning</span>] One <span class="hljs-keyword">or</span> more build-args [foo] were <span class="hljs-keyword">not</span> consumed.</span><br><span class="line">A Dockerfile may include one <span class="hljs-keyword">or</span> more ARG instructions. <span class="hljs-keyword">For</span> example, the following is a valid Dockerfile:</span><br></pre></td></tr></table></figure>

<p>FROM busybox<br>ARG user1<br>ARG buildno<br>…</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Warning: It is <span class="hljs-keyword">not</span> recommended <span class="hljs-keyword">to</span> use build-time variables <span class="hljs-keyword">for</span> passing secrets like github keys,<span class="hljs-built_in"> user </span>credentials etc. Build-time variable values are visible <span class="hljs-keyword">to</span> any<span class="hljs-built_in"> user </span>of the image with the docker history command.</span><br><span class="line"></span><br><span class="line">Default values</span><br><span class="line">An ARG instruction can optionally include a<span class="hljs-built_in"> default </span>value:</span><br></pre></td></tr></table></figure>

<p>FROM busybox<br>ARG user1=someuser<br>ARG buildno=1<br>…</p>
<figure class="highlight sql hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line">If an ARG instruction has a default value and if there is no value passed at build-time, the builder uses the default.</span><br><span class="line">Scope</span><br><span class="line">An ARG variable definition comes into effect from the line on which it is defined in the Dockerfile not from the argument’s <span class="hljs-keyword">use</span> <span class="hljs-keyword">on</span> the command-line <span class="hljs-keyword">or</span> elsewhere. <span class="hljs-keyword">For</span> example, <span class="hljs-keyword">consider</span> this Dockerfile:</span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> busybox</span><br><span class="line"><span class="hljs-number">2</span> <span class="hljs-keyword">USER</span> $&#123;<span class="hljs-keyword">user</span>:-some_user&#125;</span><br><span class="line"><span class="hljs-number">3</span> ARG <span class="hljs-keyword">user</span></span><br><span class="line"><span class="hljs-number">4</span> <span class="hljs-keyword">USER</span> $<span class="hljs-keyword">user</span></span><br><span class="line">...</span><br><span class="line">A <span class="hljs-keyword">user</span> builds this <span class="hljs-keyword">file</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">calling</span>:</span><br><span class="line"></span><br><span class="line">$ docker <span class="hljs-keyword">build</span> <span class="hljs-comment">--build-arg user=what_user .</span></span><br><span class="line">The <span class="hljs-keyword">USER</span> <span class="hljs-keyword">at</span> line <span class="hljs-number">2</span> evaluates <span class="hljs-keyword">to</span> some_user <span class="hljs-keyword">as</span> the <span class="hljs-keyword">user</span> <span class="hljs-keyword">variable</span> <span class="hljs-keyword">is</span> defined <span class="hljs-keyword">on</span> the subsequent line <span class="hljs-number">3.</span> The <span class="hljs-keyword">USER</span> <span class="hljs-keyword">at</span> line <span class="hljs-number">4</span> evaluates <span class="hljs-keyword">to</span> what_user <span class="hljs-keyword">as</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">is</span> defined <span class="hljs-keyword">and</span> the what_user <span class="hljs-keyword">value</span> was passed <span class="hljs-keyword">on</span> the command line. <span class="hljs-keyword">Prior</span> <span class="hljs-keyword">to</span> its definition <span class="hljs-keyword">by</span> an ARG instruction, <span class="hljs-keyword">any</span> <span class="hljs-keyword">use</span> <span class="hljs-keyword">of</span> a <span class="hljs-keyword">variable</span> results <span class="hljs-keyword">in</span> an <span class="hljs-keyword">empty</span> string.</span><br><span class="line"></span><br><span class="line">An ARG instruction goes <span class="hljs-keyword">out</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">scope</span> <span class="hljs-keyword">at</span> the <span class="hljs-keyword">end</span> <span class="hljs-keyword">of</span> the <span class="hljs-keyword">build</span> stage <span class="hljs-keyword">where</span> it was defined. <span class="hljs-keyword">To</span> <span class="hljs-keyword">use</span> an arg <span class="hljs-keyword">in</span> multiple stages, <span class="hljs-keyword">each</span> stage must <span class="hljs-keyword">include</span> the ARG instruction.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> busybox</span><br><span class="line">ARG <span class="hljs-keyword">SETTINGS</span></span><br><span class="line">RUN ./run/setup $<span class="hljs-keyword">SETTINGS</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> busybox</span><br><span class="line">ARG <span class="hljs-keyword">SETTINGS</span></span><br><span class="line">RUN ./run/other $<span class="hljs-keyword">SETTINGS</span></span><br><span class="line"><span class="hljs-keyword">Using</span> ARG <span class="hljs-keyword">variables</span></span><br><span class="line">You can <span class="hljs-keyword">use</span> an ARG <span class="hljs-keyword">or</span> an ENV instruction <span class="hljs-keyword">to</span> specify <span class="hljs-keyword">variables</span> that <span class="hljs-keyword">are</span> available <span class="hljs-keyword">to</span> the RUN instruction. Environment <span class="hljs-keyword">variables</span> defined <span class="hljs-keyword">using</span> the ENV instruction <span class="hljs-keyword">always</span> override an ARG instruction <span class="hljs-keyword">of</span> the same name. <span class="hljs-keyword">Consider</span> this Dockerfile <span class="hljs-keyword">with</span> an ENV <span class="hljs-keyword">and</span> ARG instruction.</span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-number">2</span> ARG CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">3</span> ENV CONT_IMG_VER v1<span class="hljs-number">.0</span><span class="hljs-number">.0</span></span><br><span class="line"><span class="hljs-number">4</span> RUN echo $CONT_IMG_VER</span><br><span class="line"><span class="hljs-keyword">Then</span>, assume this image <span class="hljs-keyword">is</span> built <span class="hljs-keyword">with</span> this command:</span><br><span class="line"></span><br><span class="line">$ docker <span class="hljs-keyword">build</span> <span class="hljs-comment">--build-arg CONT_IMG_VER=v2.0.1 .</span></span><br><span class="line"><span class="hljs-keyword">In</span> this <span class="hljs-keyword">case</span>, the RUN instruction uses v1<span class="hljs-number">.0</span><span class="hljs-number">.0</span> instead <span class="hljs-keyword">of</span> the ARG setting passed <span class="hljs-keyword">by</span> the <span class="hljs-keyword">user</span>:v2<span class="hljs-number">.0</span><span class="hljs-number">.1</span> This behavior <span class="hljs-keyword">is</span> similar <span class="hljs-keyword">to</span> a shell script <span class="hljs-keyword">where</span> a locally scoped <span class="hljs-keyword">variable</span> overrides the <span class="hljs-keyword">variables</span> passed <span class="hljs-keyword">as</span> arguments <span class="hljs-keyword">or</span> inherited <span class="hljs-keyword">from</span> environment, <span class="hljs-keyword">from</span> its point <span class="hljs-keyword">of</span> definition.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">Using</span> the example above but a different ENV specification you can <span class="hljs-keyword">create</span> more useful interactions <span class="hljs-keyword">between</span> ARG <span class="hljs-keyword">and</span> ENV instructions:</span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-number">2</span> ARG CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">3</span> ENV CONT_IMG_VER $&#123;CONT_IMG_VER:-v1<span class="hljs-number">.0</span><span class="hljs-number">.0</span>&#125;</span><br><span class="line"><span class="hljs-number">4</span> RUN echo $CONT_IMG_VER</span><br><span class="line">Unlike an ARG instruction, ENV <span class="hljs-keyword">values</span> <span class="hljs-keyword">are</span> <span class="hljs-keyword">always</span> persisted <span class="hljs-keyword">in</span> the built image. <span class="hljs-keyword">Consider</span> a docker <span class="hljs-keyword">build</span> <span class="hljs-keyword">without</span> the <span class="hljs-comment">--build-arg flag:</span></span><br><span class="line"></span><br><span class="line">$ docker <span class="hljs-keyword">build</span> .</span><br><span class="line"><span class="hljs-keyword">Using</span> this Dockerfile example, CONT_IMG_VER <span class="hljs-keyword">is</span> still persisted <span class="hljs-keyword">in</span> the image but its <span class="hljs-keyword">value</span> would be v1<span class="hljs-number">.0</span><span class="hljs-number">.0</span> <span class="hljs-keyword">as</span> it <span class="hljs-keyword">is</span> the <span class="hljs-keyword">default</span> <span class="hljs-keyword">set</span> <span class="hljs-keyword">in</span> line <span class="hljs-number">3</span> <span class="hljs-keyword">by</span> the ENV instruction.</span><br><span class="line"></span><br><span class="line">The <span class="hljs-keyword">variable</span> expansion technique <span class="hljs-keyword">in</span> this example allows you <span class="hljs-keyword">to</span> pass arguments <span class="hljs-keyword">from</span> the command line <span class="hljs-keyword">and</span> persist them <span class="hljs-keyword">in</span> the <span class="hljs-keyword">final</span> image <span class="hljs-keyword">by</span> leveraging the ENV instruction. <span class="hljs-keyword">Variable</span> expansion <span class="hljs-keyword">is</span> <span class="hljs-keyword">only</span> supported <span class="hljs-keyword">for</span> a limited <span class="hljs-keyword">set</span> <span class="hljs-keyword">of</span> Dockerfile instructions.</span><br><span class="line"></span><br><span class="line">Predefined ARGs</span><br><span class="line">Docker has a <span class="hljs-keyword">set</span> <span class="hljs-keyword">of</span> predefined ARG <span class="hljs-keyword">variables</span> that you can <span class="hljs-keyword">use</span> <span class="hljs-keyword">without</span> a <span class="hljs-keyword">corresponding</span> ARG instruction <span class="hljs-keyword">in</span> the Dockerfile.</span><br><span class="line"></span><br><span class="line">HTTP_PROXY</span><br><span class="line">http_proxy</span><br><span class="line">HTTPS_PROXY</span><br><span class="line">https_proxy</span><br><span class="line">FTP_PROXY</span><br><span class="line">ftp_proxy</span><br><span class="line">NO_PROXY</span><br><span class="line">no_proxy</span><br><span class="line"><span class="hljs-keyword">To</span> <span class="hljs-keyword">use</span> these, simply pass them <span class="hljs-keyword">on</span> the command line <span class="hljs-keyword">using</span> the flag:</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">--build-arg &lt;varname&gt;=&lt;value&gt;</span></span><br><span class="line"><span class="hljs-keyword">By</span> <span class="hljs-keyword">default</span>, these pre-defined <span class="hljs-keyword">variables</span> <span class="hljs-keyword">are</span> excluded <span class="hljs-keyword">from</span> the <span class="hljs-keyword">output</span> <span class="hljs-keyword">of</span> docker history. <span class="hljs-keyword">Excluding</span> them reduces the risk <span class="hljs-keyword">of</span> accidentally leaking sensitive <span class="hljs-keyword">authentication</span> information <span class="hljs-keyword">in</span> an HTTP_PROXY variable.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">For</span> example, <span class="hljs-keyword">consider</span> building the <span class="hljs-keyword">following</span> Dockerfile <span class="hljs-keyword">using</span> <span class="hljs-comment">--build-arg HTTP_PROXY=http://user:pass@proxy.lon.example.com</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line">RUN echo <span class="hljs-string">"Hello World"</span></span><br><span class="line"><span class="hljs-keyword">In</span> this <span class="hljs-keyword">case</span>, the <span class="hljs-keyword">value</span> <span class="hljs-keyword">of</span> the HTTP_PROXY <span class="hljs-keyword">variable</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> available <span class="hljs-keyword">in</span> the docker history <span class="hljs-keyword">and</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> cached. <span class="hljs-keyword">If</span> you were <span class="hljs-keyword">to</span> <span class="hljs-keyword">change</span> location, <span class="hljs-keyword">and</span> your proxy <span class="hljs-keyword">server</span> <span class="hljs-keyword">changed</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">http</span>://<span class="hljs-keyword">user</span>:pass@proxy.sfo.example.com, a subsequent <span class="hljs-keyword">build</span> does <span class="hljs-keyword">not</span> <span class="hljs-keyword">result</span> <span class="hljs-keyword">in</span> a <span class="hljs-keyword">cache</span> miss.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">If</span> you need <span class="hljs-keyword">to</span> override this behaviour <span class="hljs-keyword">then</span> you may <span class="hljs-keyword">do</span> so <span class="hljs-keyword">by</span> adding an ARG <span class="hljs-keyword">statement</span> <span class="hljs-keyword">in</span> the Dockerfile <span class="hljs-keyword">as</span> <span class="hljs-keyword">follows</span>:</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line">ARG HTTP_PROXY</span><br><span class="line">RUN echo <span class="hljs-string">"Hello World"</span></span><br><span class="line"><span class="hljs-keyword">When</span> building this Dockerfile, the HTTP_PROXY <span class="hljs-keyword">is</span> preserved <span class="hljs-keyword">in</span> the docker history, <span class="hljs-keyword">and</span> changing its <span class="hljs-keyword">value</span> invalidates the <span class="hljs-keyword">build</span> cache.</span><br><span class="line"></span><br><span class="line">Impact <span class="hljs-keyword">on</span> <span class="hljs-keyword">build</span> <span class="hljs-keyword">caching</span></span><br><span class="line">ARG <span class="hljs-keyword">variables</span> <span class="hljs-keyword">are</span> <span class="hljs-keyword">not</span> persisted <span class="hljs-keyword">into</span> the built image <span class="hljs-keyword">as</span> ENV <span class="hljs-keyword">variables</span> are. However, ARG <span class="hljs-keyword">variables</span> <span class="hljs-keyword">do</span> impact the <span class="hljs-keyword">build</span> <span class="hljs-keyword">cache</span> <span class="hljs-keyword">in</span> similar ways. <span class="hljs-keyword">If</span> a Dockerfile defines an ARG <span class="hljs-keyword">variable</span> whose <span class="hljs-keyword">value</span> <span class="hljs-keyword">is</span> different <span class="hljs-keyword">from</span> a previous <span class="hljs-keyword">build</span>, <span class="hljs-keyword">then</span> a “<span class="hljs-keyword">cache</span> miss” occurs upon its <span class="hljs-keyword">first</span> <span class="hljs-keyword">usage</span>, <span class="hljs-keyword">not</span> its definition. <span class="hljs-keyword">In</span> particular, <span class="hljs-keyword">all</span> RUN instructions <span class="hljs-keyword">following</span> an ARG instruction <span class="hljs-keyword">use</span> the ARG <span class="hljs-keyword">variable</span> implicitly (<span class="hljs-keyword">as</span> an environment <span class="hljs-keyword">variable</span>), thus can cause a <span class="hljs-keyword">cache</span> miss. <span class="hljs-keyword">All</span> predefined ARG <span class="hljs-keyword">variables</span> <span class="hljs-keyword">are</span> <span class="hljs-keyword">exempt</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">caching</span> unless there <span class="hljs-keyword">is</span> a matching ARG <span class="hljs-keyword">statement</span> <span class="hljs-keyword">in</span> the Dockerfile.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">For</span> example, <span class="hljs-keyword">consider</span> these two Dockerfile:</span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-number">2</span> ARG CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">3</span> RUN echo $CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-number">2</span> ARG CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">3</span> RUN echo hello</span><br><span class="line"><span class="hljs-keyword">If</span> you specify <span class="hljs-comment">--build-arg CONT_IMG_VER=&lt;value&gt; on the command line, in both cases, the specification on line 2 does not cause a cache miss; line 3 does cause a cache miss.ARG CONT_IMG_VER causes the RUN line to be identified as the same as running CONT_IMG_VER=&lt;value&gt; echo hello, so if the &lt;value&gt; changes, we get a cache miss.</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">Consider</span> another example <span class="hljs-keyword">under</span> the same command line:</span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-number">2</span> ARG CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">3</span> ENV CONT_IMG_VER $CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">4</span> RUN echo $CONT_IMG_VER</span><br><span class="line"><span class="hljs-keyword">In</span> this example, the <span class="hljs-keyword">cache</span> miss occurs <span class="hljs-keyword">on</span> line <span class="hljs-number">3.</span> The miss happens because the <span class="hljs-keyword">variable</span>’s <span class="hljs-keyword">value</span> <span class="hljs-keyword">in</span> the ENV <span class="hljs-keyword">references</span> the ARG <span class="hljs-keyword">variable</span> <span class="hljs-keyword">and</span> that <span class="hljs-keyword">variable</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">changed</span> <span class="hljs-keyword">through</span> the command line. <span class="hljs-keyword">In</span> this example, the ENV command causes the image <span class="hljs-keyword">to</span> <span class="hljs-keyword">include</span> the value.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">If</span> an ENV instruction overrides an ARG instruction <span class="hljs-keyword">of</span> the same <span class="hljs-keyword">name</span>, <span class="hljs-keyword">like</span> this Dockerfile:</span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-number">2</span> ARG CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">3</span> ENV CONT_IMG_VER hello</span><br><span class="line"><span class="hljs-number">4</span> RUN echo $CONT_IMG_VER</span><br><span class="line">Line <span class="hljs-number">3</span> does <span class="hljs-keyword">not</span> cause a <span class="hljs-keyword">cache</span> miss because the <span class="hljs-keyword">value</span> <span class="hljs-keyword">of</span> CONT_IMG_VER <span class="hljs-keyword">is</span> a <span class="hljs-keyword">constant</span> (hello). <span class="hljs-keyword">As</span> a <span class="hljs-keyword">result</span>, the environment <span class="hljs-keyword">variables</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">values</span> used <span class="hljs-keyword">on</span> the RUN (line <span class="hljs-number">4</span>) doesn’t <span class="hljs-keyword">change</span> <span class="hljs-keyword">between</span> builds.</span><br><span class="line"></span><br><span class="line">ONBUILD</span><br><span class="line"><span class="hljs-string">`ONBUILD [INSTRUCTION]`</span></span><br><span class="line">The ONBUILD instruction adds <span class="hljs-keyword">to</span> the image a <span class="hljs-keyword">trigger</span> instruction <span class="hljs-keyword">to</span> be executed <span class="hljs-keyword">at</span> a later <span class="hljs-built_in">time</span>, <span class="hljs-keyword">when</span> the image <span class="hljs-keyword">is</span> used <span class="hljs-keyword">as</span> the base <span class="hljs-keyword">for</span> another build. The <span class="hljs-keyword">trigger</span> will be executed <span class="hljs-keyword">in</span> the <span class="hljs-keyword">context</span> <span class="hljs-keyword">of</span> the downstream <span class="hljs-keyword">build</span>, <span class="hljs-keyword">as</span> <span class="hljs-keyword">if</span> it had been inserted immediately <span class="hljs-keyword">after</span> the <span class="hljs-keyword">FROM</span> instruction <span class="hljs-keyword">in</span> the downstream Dockerfile.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">Any</span> <span class="hljs-keyword">build</span> instruction can be registered <span class="hljs-keyword">as</span> a trigger.</span><br><span class="line"></span><br><span class="line">This <span class="hljs-keyword">is</span> useful <span class="hljs-keyword">if</span> you <span class="hljs-keyword">are</span> building an image which will be used <span class="hljs-keyword">as</span> a base <span class="hljs-keyword">to</span> <span class="hljs-keyword">build</span> other images, <span class="hljs-keyword">for</span> example an application <span class="hljs-keyword">build</span> environment <span class="hljs-keyword">or</span> a daemon which may be customized <span class="hljs-keyword">with</span> <span class="hljs-keyword">user</span>-specific configuration.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">For</span> example, <span class="hljs-keyword">if</span> your image <span class="hljs-keyword">is</span> a reusable Python application builder, it will require application <span class="hljs-keyword">source</span> code <span class="hljs-keyword">to</span> be added <span class="hljs-keyword">in</span> a particular <span class="hljs-keyword">directory</span>, <span class="hljs-keyword">and</span> it might require a <span class="hljs-keyword">build</span> script <span class="hljs-keyword">to</span> be called <span class="hljs-keyword">after</span> that. You can’t just <span class="hljs-keyword">call</span> <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">and</span> RUN <span class="hljs-keyword">now</span>, because you don’t yet have <span class="hljs-keyword">access</span> <span class="hljs-keyword">to</span> the application <span class="hljs-keyword">source</span> code, <span class="hljs-keyword">and</span> it will be different <span class="hljs-keyword">for</span> <span class="hljs-keyword">each</span> application build. You could simply provide application developers <span class="hljs-keyword">with</span> a boilerplate Dockerfile <span class="hljs-keyword">to</span> copy-paste <span class="hljs-keyword">into</span> their application, but that <span class="hljs-keyword">is</span> inefficient, <span class="hljs-keyword">error</span>-prone <span class="hljs-keyword">and</span> difficult <span class="hljs-keyword">to</span> <span class="hljs-keyword">update</span> because it mixes <span class="hljs-keyword">with</span> application-specific code.</span><br><span class="line"></span><br><span class="line">The solution <span class="hljs-keyword">is</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">use</span> ONBUILD <span class="hljs-keyword">to</span> <span class="hljs-keyword">register</span> advance instructions <span class="hljs-keyword">to</span> run later, during the <span class="hljs-keyword">next</span> <span class="hljs-keyword">build</span> stage.</span><br><span class="line"></span><br><span class="line">Here’s how it works:</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">When</span> it encounters an ONBUILD instruction, the builder adds a <span class="hljs-keyword">trigger</span> <span class="hljs-keyword">to</span> the metadata <span class="hljs-keyword">of</span> the image being built. The instruction does <span class="hljs-keyword">not</span> otherwise affect the <span class="hljs-keyword">current</span> build.</span><br><span class="line"><span class="hljs-keyword">At</span> the <span class="hljs-keyword">end</span> <span class="hljs-keyword">of</span> the <span class="hljs-keyword">build</span>, a <span class="hljs-keyword">list</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">triggers</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">stored</span> <span class="hljs-keyword">in</span> the image manifest, <span class="hljs-keyword">under</span> the <span class="hljs-keyword">key</span> OnBuild. They can be inspected <span class="hljs-keyword">with</span> the docker inspect command.</span><br><span class="line">Later the image may be used <span class="hljs-keyword">as</span> a base <span class="hljs-keyword">for</span> a <span class="hljs-keyword">new</span> <span class="hljs-keyword">build</span>, <span class="hljs-keyword">using</span> the <span class="hljs-keyword">FROM</span> instruction. <span class="hljs-keyword">As</span> part <span class="hljs-keyword">of</span> processing the <span class="hljs-keyword">FROM</span> instruction, the downstream builder looks <span class="hljs-keyword">for</span> ONBUILD <span class="hljs-keyword">triggers</span>, <span class="hljs-keyword">and</span> executes them <span class="hljs-keyword">in</span> the same <span class="hljs-keyword">order</span> they were registered. <span class="hljs-keyword">If</span> <span class="hljs-keyword">any</span> <span class="hljs-keyword">of</span> the <span class="hljs-keyword">triggers</span> fail, the <span class="hljs-keyword">FROM</span> instruction <span class="hljs-keyword">is</span> aborted which <span class="hljs-keyword">in</span> turn causes the <span class="hljs-keyword">build</span> <span class="hljs-keyword">to</span> fail. <span class="hljs-keyword">If</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">triggers</span> succeed, the <span class="hljs-keyword">FROM</span> instruction completes <span class="hljs-keyword">and</span> the <span class="hljs-keyword">build</span> continues <span class="hljs-keyword">as</span> usual.</span><br><span class="line"><span class="hljs-keyword">Triggers</span> <span class="hljs-keyword">are</span> cleared <span class="hljs-keyword">from</span> the <span class="hljs-keyword">final</span> image <span class="hljs-keyword">after</span> being executed. <span class="hljs-keyword">In</span> other words they <span class="hljs-keyword">are</span> <span class="hljs-keyword">not</span> inherited <span class="hljs-keyword">by</span> “grand-children” builds.</span><br><span class="line"><span class="hljs-keyword">For</span> example you might <span class="hljs-keyword">add</span> something <span class="hljs-keyword">like</span> this:</span><br><span class="line"></span><br><span class="line">[...]</span><br><span class="line">ONBUILD <span class="hljs-keyword">ADD</span> . /app/src</span><br><span class="line">ONBUILD RUN /usr/<span class="hljs-keyword">local</span>/<span class="hljs-keyword">bin</span>/python-<span class="hljs-keyword">build</span> <span class="hljs-comment">--dir /app/src</span></span><br><span class="line">[...]</span><br><span class="line"><span class="hljs-keyword">Warning</span>: Chaining ONBUILD instructions <span class="hljs-keyword">using</span> ONBUILD ONBUILD isn’t allowed.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">Warning</span>: The ONBUILD instruction may <span class="hljs-keyword">not</span> <span class="hljs-keyword">trigger</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">or</span> MAINTAINER instructions.</span><br><span class="line"></span><br><span class="line">STOPSIGNAL</span><br><span class="line">STOPSIGNAL signal</span><br><span class="line">The STOPSIGNAL instruction <span class="hljs-keyword">sets</span> the <span class="hljs-keyword">system</span> <span class="hljs-keyword">call</span> signal that will be sent <span class="hljs-keyword">to</span> the <span class="hljs-keyword">container</span> <span class="hljs-keyword">to</span> exit. This signal can be a valid <span class="hljs-keyword">unsigned</span> <span class="hljs-built_in">number</span> that matches a <span class="hljs-keyword">position</span> <span class="hljs-keyword">in</span> the kernel’s syscall <span class="hljs-keyword">table</span>, <span class="hljs-keyword">for</span> <span class="hljs-keyword">instance</span> <span class="hljs-number">9</span>, <span class="hljs-keyword">or</span> a signal <span class="hljs-keyword">name</span> <span class="hljs-keyword">in</span> the <span class="hljs-keyword">format</span> SIGNAME, <span class="hljs-keyword">for</span> <span class="hljs-keyword">instance</span> SIGKILL.</span><br><span class="line"></span><br><span class="line">HEALTHCHECK</span><br><span class="line"></span><br><span class="line">The HEALTHCHECK instruction has two forms:</span><br></pre></td></tr></table></figure>

<p>HEALTHCHECK [OPTIONS] CMD command (check container health by running a command inside the container)<br>HEALTHCHECK NONE (disable any healthcheck inherited from the base image)</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">The HEALTHCHECK instruction tells Docker how <span class="hljs-keyword">to</span> test a container <span class="hljs-keyword">to</span> check that it is still working. This can detect cases such as a web<span class="hljs-built_in"> server </span>that is stuck <span class="hljs-keyword">in</span> an infinite loop <span class="hljs-keyword">and</span> unable <span class="hljs-keyword">to</span> handle new connections, even though the<span class="hljs-built_in"> server </span>process is still running.</span><br><span class="line"></span><br><span class="line">When a container has a healthcheck specified, it has a<span class="hljs-built_in"> health </span>status <span class="hljs-keyword">in</span> addition <span class="hljs-keyword">to</span> its normal status. This status is initially starting. Whenever a<span class="hljs-built_in"> health </span>check passes, it becomes healthy (whatever state it was previously <span class="hljs-keyword">in</span>). After a certain number of consecutive failures, it becomes unhealthy.</span><br><span class="line"></span><br><span class="line">The options that can appear before CMD are:</span><br></pre></td></tr></table></figure>

<p>–interval=DURATION (default: 30s)<br>–timeout=DURATION (default: 30s)<br>–start-period=DURATION (default: 0s)<br>–retries=N (default: 3)</p>
<figure class="highlight smali hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">The health<span class="hljs-built_in"> check </span>will first run interval seconds after the container is started,<span class="hljs-built_in"> and </span>then again interval seconds after each previous<span class="hljs-built_in"> check </span>completes.</span><br><span class="line"></span><br><span class="line">If a single run of the<span class="hljs-built_in"> check </span>takes longer than timeout seconds then the<span class="hljs-built_in"> check </span>is considered to have failed.</span><br><span class="line"></span><br><span class="line">It takes retries consecutive failures of the health<span class="hljs-built_in"> check </span>for the container to be considered unhealthy.</span><br><span class="line"></span><br><span class="line">start period provides initialization time for containers that need time to bootstrap. Probe failure during that period will<span class="hljs-built_in"> not </span>be counted towards the maximum number of retries. However,<span class="hljs-built_in"> if </span>a health<span class="hljs-built_in"> check </span>succeeds during the start period, the container is considered started<span class="hljs-built_in"> and </span>all consecutive failures will be counted towards the maximum number of retries.</span><br><span class="line"></span><br><span class="line">There can only be one HEALTHCHECK instruction in a Dockerfile. If you list more than one then only the last HEALTHCHECK will take effect.</span><br><span class="line"></span><br><span class="line">The command after the CMD keyword can be either a shell command (e.g. HEALTHCHECK CMD /bin/check-running)<span class="hljs-built_in"> or </span>an exec<span class="hljs-built_in"> array </span>(as with other Dockerfile commands; see e.g. ENTRYPOINT for details).</span><br><span class="line"></span><br><span class="line">The command’s exit status indicates the health status of the container. The possible values are:</span><br></pre></td></tr></table></figure>

<p>0: success - the container is healthy and ready for use<br>1: unhealthy - the container is not working correctly<br>2: reserved - do not use this exit code</p>
<figure class="highlight sql hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">For example, to <span class="hljs-keyword">check</span> every five <span class="hljs-keyword">minutes</span> <span class="hljs-keyword">or</span> so that a web-<span class="hljs-keyword">server</span> <span class="hljs-keyword">is</span> able <span class="hljs-keyword">to</span> serve the site’s <span class="hljs-keyword">main</span> page <span class="hljs-keyword">within</span> three <span class="hljs-keyword">seconds</span>:</span><br><span class="line"><span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">HEALTHCHECK --interval=5m --timeout=3s \</span></span><br><span class="line"><span class="hljs-string">  CMD curl -f http://localhost/ || exit 1`</span></span><br><span class="line"><span class="hljs-keyword">To</span> <span class="hljs-keyword">help</span> debug failing probes, <span class="hljs-keyword">any</span> <span class="hljs-keyword">output</span> <span class="hljs-built_in">text</span> (UTF<span class="hljs-number">-8</span> encoded) that the command writes <span class="hljs-keyword">on</span> stdout <span class="hljs-keyword">or</span> stderr will be <span class="hljs-keyword">stored</span> <span class="hljs-keyword">in</span> the health <span class="hljs-keyword">status</span> <span class="hljs-keyword">and</span> can be queried <span class="hljs-keyword">with</span> docker inspect. Such <span class="hljs-keyword">output</span> should be kept <span class="hljs-keyword">short</span> (<span class="hljs-keyword">only</span> the <span class="hljs-keyword">first</span> <span class="hljs-number">4096</span> <span class="hljs-keyword">bytes</span> <span class="hljs-keyword">are</span> <span class="hljs-keyword">stored</span> currently).</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">When</span> the health <span class="hljs-keyword">status</span> <span class="hljs-keyword">of</span> a <span class="hljs-keyword">container</span> changes, a health_status <span class="hljs-keyword">event</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">generated</span> <span class="hljs-keyword">with</span> the <span class="hljs-keyword">new</span> status.</span><br><span class="line"></span><br><span class="line">The HEALTHCHECK feature was added <span class="hljs-keyword">in</span> Docker <span class="hljs-number">1.12</span>.</span><br><span class="line">SHELL</span><br><span class="line"><span class="hljs-string">`SHELL ["executable", "parameters"]`</span></span><br><span class="line">The SHELL instruction allows the <span class="hljs-keyword">default</span> shell used <span class="hljs-keyword">for</span> the shell <span class="hljs-keyword">form</span> <span class="hljs-keyword">of</span> commands <span class="hljs-keyword">to</span> be overridden. The <span class="hljs-keyword">default</span> shell <span class="hljs-keyword">on</span> Linux <span class="hljs-keyword">is</span><span class="hljs-string">` ["/bin/sh", "-c"]`</span>, <span class="hljs-keyword">and</span> <span class="hljs-keyword">on</span> Windows <span class="hljs-keyword">is</span> <span class="hljs-string">`["cmd", "/S", "/C"]`</span>. The SHELL instruction must be written <span class="hljs-keyword">in</span> <span class="hljs-keyword">JSON</span> <span class="hljs-keyword">form</span> <span class="hljs-keyword">in</span> a Dockerfile.</span><br><span class="line"></span><br><span class="line">The SHELL instruction <span class="hljs-keyword">is</span> particularly useful <span class="hljs-keyword">on</span> Windows <span class="hljs-keyword">where</span> there <span class="hljs-keyword">are</span> two commonly used <span class="hljs-keyword">and</span> quite different <span class="hljs-keyword">native</span> shells: cmd <span class="hljs-keyword">and</span> powershell, <span class="hljs-keyword">as</span> well <span class="hljs-keyword">as</span> alternate shells available <span class="hljs-keyword">including</span> sh.</span><br><span class="line"></span><br><span class="line">The SHELL instruction can appear multiple times. <span class="hljs-keyword">Each</span> SHELL instruction overrides <span class="hljs-keyword">all</span> previous SHELL instructions, <span class="hljs-keyword">and</span> affects <span class="hljs-keyword">all</span> subsequent instructions. <span class="hljs-keyword">For</span> example:</span><br></pre></td></tr></table></figure>

<p>FROM microsoft/windowsservercore</p>
<h1 id="Executed-as-cmd-S-C-echo-default"><a href="#Executed-as-cmd-S-C-echo-default" class="headerlink" title="Executed as cmd /S /C echo default"></a>Executed as cmd /S /C echo default</h1><p>RUN echo default</p>
<h1 id="Executed-as-cmd-S-C-powershell-command-Write-Host-default"><a href="#Executed-as-cmd-S-C-powershell-command-Write-Host-default" class="headerlink" title="Executed as cmd /S /C powershell -command Write-Host default"></a>Executed as cmd /S /C powershell -command Write-Host default</h1><p>RUN powershell -command Write-Host default</p>
<h1 id="Executed-as-powershell-command-Write-Host-hello"><a href="#Executed-as-powershell-command-Write-Host-hello" class="headerlink" title="Executed as powershell -command Write-Host hello"></a>Executed as powershell -command Write-Host hello</h1><p>SHELL [“powershell”, “-command”]<br>RUN Write-Host hello</p>
<h1 id="Executed-as-cmd-S-C-echo-hello"><a href="#Executed-as-cmd-S-C-echo-hello" class="headerlink" title="Executed as cmd /S /C echo hello"></a>Executed as cmd /S /C echo hello</h1><p>SHELL [“cmd”, “/S””, “/C”]<br>RUN echo hello</p>
<figure class="highlight livecodeserver hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The following instructions can be affected <span class="hljs-keyword">by</span> <span class="hljs-keyword">the</span> SHELL instruction when <span class="hljs-keyword">the</span> <span class="hljs-built_in">shell</span> form <span class="hljs-keyword">of</span> them is used <span class="hljs-keyword">in</span> <span class="hljs-keyword">a</span> Dockerfile: RUN, CMD <span class="hljs-keyword">and</span> ENTRYPOINT.</span><br><span class="line"></span><br><span class="line">The following example is <span class="hljs-keyword">a</span> common pattern found <span class="hljs-keyword">on</span> <span class="hljs-title">Windows</span> <span class="hljs-title">which</span> <span class="hljs-title">can</span> <span class="hljs-title">be</span> <span class="hljs-title">streamlined</span> <span class="hljs-title">by</span> <span class="hljs-title">using</span> <span class="hljs-title">the</span> <span class="hljs-title">SHELL</span> <span class="hljs-title">instruction</span>:</span><br></pre></td></tr></table></figure>

<p>…<br>RUN powershell -command Execute-MyCmdlet -param1 “c:\foo.txt”<br>…</p>
<figure class="highlight livecodeserver hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">The <span class="hljs-keyword">command</span> <span class="hljs-title">invoked</span> <span class="hljs-title">by</span> <span class="hljs-title">docker</span> <span class="hljs-title">will</span> <span class="hljs-title">be</span>:</span><br><span class="line">`</span><br><span class="line">cmd /S /C powershell -<span class="hljs-keyword">command</span> <span class="hljs-title">Execute-MyCmdlet</span> -<span class="hljs-title">param1</span> <span class="hljs-string">"c:\foo.txt"</span>`</span><br><span class="line">This is inefficient <span class="hljs-keyword">for</span> <span class="hljs-literal">two</span> reasons. First, there is <span class="hljs-keyword">an</span> un-necessary cmd.exe <span class="hljs-keyword">command</span> <span class="hljs-title">processor</span> (<span class="hljs-title">aka</span> <span class="hljs-title">shell</span>) <span class="hljs-title">being</span> <span class="hljs-title">invoked</span>. <span class="hljs-title">Second</span>, <span class="hljs-title">each</span> <span class="hljs-title">RUN</span> <span class="hljs-title">instruction</span> <span class="hljs-title">in</span> <span class="hljs-title">the</span> <span class="hljs-title">shell</span> <span class="hljs-title">form</span> <span class="hljs-title">requires</span> <span class="hljs-title">an</span> <span class="hljs-title">extra</span> <span class="hljs-title">powershell</span> -<span class="hljs-title">command</span> <span class="hljs-title">prefixing</span> <span class="hljs-title">the</span> <span class="hljs-title">command</span>.</span><br><span class="line"></span><br><span class="line">To make this more efficient, <span class="hljs-literal">one</span> <span class="hljs-keyword">of</span> <span class="hljs-literal">two</span> mechanisms can be employed. One is <span class="hljs-built_in">to</span> use <span class="hljs-keyword">the</span> JSON form <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> RUN <span class="hljs-keyword">command</span> <span class="hljs-title">such</span> <span class="hljs-title">as</span>:</span><br></pre></td></tr></table></figure>

<p>…<br>RUN [“powershell”, “-command”, “Execute-MyCmdlet”, “-param1 &quot;c:\foo.txt&quot;“]<br>…</p>
<figure class="highlight livecodeserver hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">While <span class="hljs-keyword">the</span> JSON form is unambiguous <span class="hljs-keyword">and</span> does <span class="hljs-keyword">not</span> use <span class="hljs-keyword">the</span> un-necessary cmd.exe, <span class="hljs-keyword">it</span> does <span class="hljs-built_in">require</span> more verbosity through double-quoting <span class="hljs-keyword">and</span> escaping. The alternate mechanism is <span class="hljs-built_in">to</span> use <span class="hljs-keyword">the</span> SHELL instruction <span class="hljs-keyword">and</span> <span class="hljs-keyword">the</span> <span class="hljs-built_in">shell</span> form, making <span class="hljs-keyword">a</span> more natural syntax <span class="hljs-keyword">for</span> Windows users, especially when combined <span class="hljs-keyword">with</span> <span class="hljs-keyword">the</span> escape parser directive:</span><br></pre></td></tr></table></figure>

<h1 id="escape"><a href="#escape" class="headerlink" title="escape=`"></a>escape=`</h1><p>FROM microsoft/nanoserver<br>SHELL [“powershell”,”-command”]<br>RUN New-Item -ItemType Directory C:\Example<br>ADD Execute-MyCmdlet.ps1 c:\example<br>RUN c:\example\Execute-MyCmdlet -sample ‘hello world’</p>
<figure class="highlight actionscript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Resulting <span class="hljs-keyword">in</span>:</span><br></pre></td></tr></table></figure>

<p>PS E:\docker\build\shell&gt; docker build -t shell .<br>Sending build context to Docker daemon 4.096 kB<br>Step 1/5 : FROM microsoft/nanoserver<br> —&gt; 22738ff49c6d<br>Step 2/5 : SHELL powershell -command<br> —&gt; Running in 6fcdb6855ae2<br> —&gt; 6331462d4300<br>Removing intermediate container 6fcdb6855ae2<br>Step 3/5 : RUN New-Item -ItemType Directory C:\Example<br> —&gt; Running in d0eef8386e97</p>
<pre><code>Directory: C:\</code></pre><p>Mode                LastWriteTime         Length Name</p>
<hr>
<p>d—–       10/28/2016  11:26 AM                Example</p>
<p> —&gt; 3f2fbf1395d9<br>Removing intermediate container d0eef8386e97<br>Step 4/5 : ADD Execute-MyCmdlet.ps1 c:\example<br> —&gt; a955b2621c31<br>Removing intermediate container b825593d39fc<br>Step 5/5 : RUN c:\example\Execute-MyCmdlet ‘hello world’<br> —&gt; Running in be6d8e63fe75<br>hello world<br> —&gt; 8e559e9bf424<br>Removing intermediate container be6d8e63fe75<br>Successfully built 8e559e9bf424<br>PS E:\docker\build\shell&gt;</p>
<figure class="highlight stata hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">The <span class="hljs-keyword">SHELL</span> instruction could also be used to modify the way <span class="hljs-keyword">in</span> <span class="hljs-keyword">which</span> a <span class="hljs-keyword">shell</span> operates. <span class="hljs-keyword">For</span> example, using <span class="hljs-keyword">SHELL</span> cmd /S /C /V:<span class="hljs-keyword">ON</span>|OFF <span class="hljs-keyword">on</span> Windows, delayed environment variable expansion semantics could be modified.</span><br><span class="line"></span><br><span class="line">The <span class="hljs-keyword">SHELL</span> instruction can also be used <span class="hljs-keyword">on</span> Linux should <span class="hljs-keyword">an</span> alternate <span class="hljs-keyword">shell</span> be required such <span class="hljs-keyword">as</span> zsh, csh, tcsh and others.</span><br><span class="line"></span><br><span class="line">The <span class="hljs-keyword">SHELL</span> feature was added <span class="hljs-keyword">in</span> Docker 1.12.</span><br><span class="line"></span><br><span class="line">Dockerfile examples</span><br><span class="line">Below you can see some examples of Dockerfile <span class="hljs-keyword">syntax</span>. <span class="hljs-keyword">If</span> you’re interested <span class="hljs-keyword">in</span> something <span class="hljs-keyword">more</span> realistic, take a look at the <span class="hljs-keyword">list</span> of Dockerization examples.</span><br></pre></td></tr></table></figure>

<h1 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h1><p>#</p>
<h1 id="VERSION-0-0-1"><a href="#VERSION-0-0-1" class="headerlink" title="VERSION               0.0.1"></a>VERSION               0.0.1</h1><p>FROM      ubuntu<br>LABEL Description=”This image is used to start the foobar executable” Vendor=”ACME Products” Version=”1.0”<br>RUN apt-get update &amp;&amp; apt-get install -y inotify-tools nginx apache2 openssh-server</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"><span class="hljs-comment"># Firefox over VNC</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line"><span class="hljs-comment"># VERSION               0.3</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Install vnc, xvfb in order to create a 'fake' display and firefox</span></span><br><span class="line"><span class="hljs-keyword">RUN</span><span class="hljs-bash"> apt-get update &amp;&amp; apt-get install -y x11vnc xvfb firefox</span></span><br><span class="line"><span class="hljs-keyword">RUN</span><span class="hljs-bash"> mkdir ~/.vnc</span></span><br><span class="line"><span class="hljs-comment"># Setup a password</span></span><br><span class="line"><span class="hljs-keyword">RUN</span><span class="hljs-bash"> x11vnc -storepasswd 1234 ~/.vnc/passwd</span></span><br><span class="line"><span class="hljs-comment"># Autostart firefox (might not be the best way, but it does the trick)</span></span><br><span class="line"><span class="hljs-keyword">RUN</span><span class="hljs-bash"> bash -c <span class="hljs-string">'echo "firefox" &gt;&gt; /.bashrc'</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">EXPOSE</span> <span class="hljs-number">5900</span></span><br><span class="line"><span class="hljs-keyword">CMD</span><span class="hljs-bash">    [<span class="hljs-string">"x11vnc"</span>, <span class="hljs-string">"-forever"</span>, <span class="hljs-string">"-usepw"</span>, <span class="hljs-string">"-create"</span>]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Multiple images example</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line"><span class="hljs-comment"># VERSION               0.1</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-keyword">RUN</span><span class="hljs-bash"> <span class="hljs-built_in">echo</span> foo &gt; bar</span></span><br><span class="line"><span class="hljs-comment"># Will output something like ===&gt; 907ad6c2736f</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-keyword">RUN</span><span class="hljs-bash"> <span class="hljs-built_in">echo</span> moo &gt; oink</span></span><br><span class="line"><span class="hljs-comment"># Will output something like ===&gt; 695d7793cbe4</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># You'll now have two images, 907ad6c2736f with /bar, and 695d7793cbe4 with</span></span><br><span class="line"><span class="hljs-comment"># /oink.</span></span><br></pre></td></tr></table></figure>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-19T09:30:00.000Z">2019-07-19</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    1 小时 read (About 7486 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/19/CI-CD/">CI/CD</a>
            
        </h1>
        <div class="content">
            <p><img src="/images/cicd.png" alt="upload successful"></p>
<p>在软件开发中经常会提到持续集成<br>Continuous Integration<br>（CI）和持续交付<br>Continuous Delivery<br>（CD）这几个术语。但它们真正的意思是什么呢？<br>在谈论软件开发时，经常会提到持续集成<br>Continuous Integration<br>（CI）和持续交付<br>Continuous Delivery<br>（CD）这几个术语。但它们真正的意思是什么呢？在本文中，我将解释这些和相关术语背后的含义和意义，例如持续测试<br>Continuous Testing<br>和持续部署<br>Continuous Deployment<br>概览<br>工厂里的装配线以快速、自动化、可重复的方式从原材料生产出消费品。同样，软件交付管道以快速、自动化和可重复的方式从源代码生成发布版本。如何完成这项工作的总体设计称为“持续交付”（CD）。启动装配线的过程称为“持续集成”（CI）。确保质量的过程称为“持续测试”，将最终产品提供给用户的过程称为“持续部署”。一些专家让这一切简单、顺畅、高效地运行，这些人被称为运维开发<br>DevOps<br>践行者。<br>“持续”是什么意思？<br>“持续”用于描述遵循我在此提到的许多不同流程实践。这并不意味着“一直在运行”，而是“随时可运行”。在软件开发领域，它还包括几个核心概念/最佳实践。这些是：<br>频繁发布：持续实践背后的目标是能够频繁地交付高质量的软件。此处的交付频率是可变的，可由开发团队或公司定义。对于某些产品，一季度、一个月、一周或一天交付一次可能已经足够频繁了。对于另一些来说，一天可能需要多次交付也是可行的。所谓持续也有“偶尔、按需”的方面。最终目标是相同的：在可重复、可靠的过程中为最终用户提供高质量的软件更新。通常，这可以通过很少甚至无需用户的交互或掌握的知识来完成（想想设备更新）。<br>自动化流程：实现此频率的关键是用自动化流程来处理软件生产中的方方面面。这包括构建、测试、分析、版本控制，以及在某些情况下的部署。<br>可重复：如果我们使用的自动化流程在给定相同输入的情况下始终具有相同的行为，则这个过程应该是可重复的。也就是说，如果我们把某个历史版本的代码作为输入，我们应该得到对应相同的可交付产出。这也假设我们有相同版本的外部依赖项（即我们不创建该版本代码使用的其它交付物）。理想情况下，这也意味着可以对管道中的流程进行版本控制和重建（请参阅稍后的 DevOps 讨论）。<br>快速迭代：“快速”在这里是个相对术语，但无论软件更新/发布的频率如何，预期的持续过程都会以高效的方式将源代码转换为交付物。自动化负责大部分工作，但自动化处理的过程可能仍然很慢。例如，对于每天需要多次发布候选版更新的产品来说，一轮集成测试<br>integrated testing<br>下来耗时就要大半天可能就太慢了。<br>什么是“持续交付管道”？<br>将源代码转换为可发布产品的多个不同的任务<br>task<br>和作业<br>job<br>通常串联成一个软件“管道”，一个自动流程成功完成后会启动管道中的下一个流程。这些管道有许多不同的叫法，例如持续交付管道、部署管道和软件开发管道。大体上讲，程序管理者在管道执行时管理管道各部分的定义、运行、监控和报告。<br>持续交付管道是如何工作的？<br>软件交付管道的实际实现可以有很大不同。有许多程序可用在管道中，用于源代码跟踪、构建、测试、指标采集，版本管理等各个方面。但整体工作流程通常是相同的。单个业务流程/工作流应用程序管理整个管道，每个流程作为独立的作业运行或由该应用程序进行阶段管理。通常，在业务流程中，这些独立作业是以应用程序可理解并可作为工作流程管理的语法和结构定义的。<br>这些作业被用于一个或多个功能（构建、测试、部署等）。每个作业可能使用不同的技术或多种技术。关键是作业是自动化的、高效的，并且可重复的。如果作业成功，则工作流管理器将触发管道中的下一个作业。如果作业失败，工作流管理器会向开发人员、测试人员和其他人发出警报，以便他们尽快纠正问题。这个过程是自动化的，所以比手动运行一组过程可更快地找到错误。这种快速排错称为快速失败<br>fail fast<br>，并且在抵达管道端点方面同样有价值。<br>“快速失败”是什么意思？<br>管道的工作之一就是快速处理变更。另一个是监视创建发布的不同任务/作业。由于编译失败或测试未通过的代码可以阻止管道继续运行，因此快速通知用户此类情况非常重要。快速失败指的是在管道流程中尽快发现问题并快速通知用户的方式，这样可以及时修正问题并重新提交代码以便使管道再次运行。通常在管道流程中可通过查看历史记录来确定是谁做了那次修改并通知此人及其团队。<br>所有持续交付管道都应该被自动化吗？<br>管道的几乎所有部分都是应该自动化的。对于某些部分，有一些人为干预/互动的地方可能是有意义的。一个例子可能是用户验收测试<br>user-acceptance testing<br>（让最终用户试用软件并确保它能达到他们想要/期望的水平）。另一种情况可能是部署到生产环境时用户希望拥有更多的人为控制。当然，如果代码不正确或不能运行，则需要人工干预。<br>有了对“持续”含义理解的背景，让我们看看不同类型的持续流程以及它们在软件管道上下文中的含义。<br>什么是“持续集成”？<br>持续集成（CI）是在源代码变更后自动检测、拉取、构建和（在大多数情况下）进行单元测试的过程。持续集成是启动管道的环节（尽管某些预验证 —— 通常称为上线前检查<br>pre-flight checks<br>—— 有时会被归在持续集成之前）。<br>持续集成的目标是快速确保开发人员新提交的变更是好的，并且适合在代码库中进一步使用。<br>持续集成是如何工作的？<br>持续集成的基本思想是让一个自动化过程监测一个或多个源代码仓库是否有变更。当变更被推送到仓库时，它会监测到更改、下载副本、构建并运行任何相关的单元测试。<br>持续集成如何监测变更？<br>目前，监测程序通常是像 Jenkins 这样的应用程序，它还协调管道中运行的所有（或大多数）进程，监视变更是其功能之一。监测程序可以以几种不同方式监测变更。这些包括：<br>轮询：监测程序反复询问代码管理系统，“代码仓库里有什么我感兴趣的新东西吗？”当代码管理系统有新的变更时，监测程序会“唤醒”并完成其工作以获取新代码并构建/测试它。<br>定期：监测程序配置为定期启动构建，无论源码是否有变更。理想情况下，如果没有变更，则不会构建任何新内容，因此这不会增加额外的成本。<br>推送：这与用于代码管理系统检查的监测程序相反。在这种情况下，代码管理系统被配置为提交变更到仓库时将“推送”一个通知到监测程序。最常见的是，这可以以 webhook 的形式完成 —— 在新代码被推送时一个挂勾<br>hook<br>的程序通过互联网向监测程序发送通知。为此，监测程序必须具有可以通过网络接收 webhook 信息的开放端口。<br>什么是“预检查”（又称“上线前检查”）？<br>在将代码引入仓库并触发持续集成之前，可以进行其它验证。这遵循了最佳实践，例如测试构建<br>test build<br>和代码审查<br>code review<br>。它们通常在代码引入管道之前构建到开发过程中。但是一些管道也可能将它们作为其监控流程或工作流的一部分。<br>例如，一个名为 Gerrit 的工具允许在开发人员推送代码之后但在允许进入（Git 远程）仓库之前进行正式的代码审查、验证和测试构建。Gerrit 位于开发人员的工作区和 Git 远程仓库之间。它会“接收”来自开发人员的推送，并且可以执行通过/失败验证以确保它们在被允许进入仓库之前的检查是通过的。这可以包括检测新变更并启动构建测试（CI 的一种形式）。它还允许开发者在那时进行正式的代码审查。这种方式有一种额外的可信度评估机制，即当变更的代码被合并到代码库中时不会破坏任何内容。<br>什么是“单元测试” ？<br>单元测试（也称为“提交测试”），是由开发人员编写的小型的专项测试，以确保新代码独立工作。“独立”这里意味着不依赖或调用其它不可直接访问的代码，也不依赖外部数据源或其它模块。如果运行代码需要这样的依赖关系，那么这些资源可以用模拟<br>mock<br>来表示。模拟是指使用看起来像资源的代码存根<br>code stub<br>，可以返回值，但不实现任何功能。<br>在大多数组织中，开发人员负责创建单元测试以证明其代码正确。事实上，一种称为测试驱动开发<br>test-driven develop<br>（TDD）的模型要求将首先设计单元测试作为清楚地验证代码功能的基础。因为这样的代码可以更改速度快且改动量大，所以它们也必须执行很快。<br>由于这与持续集成工作流有关，因此开发人员在本地工作环境中编写或更新代码，并通单元测试来确保新开发的功能或方法正确。通常，这些测试采用断言形式，即函数或方法的给定输入集产生给定的输出集。它们通常进行测试以确保正确标记和处理出错条件。有很多单元测试框架都很有用，例如用于 Java 开发的 JUnit。<br>什么是“持续测试”？<br>持续测试是指在代码通过持续交付管道时运行扩展范围的自动化测试的实践。单元测试通常与构建过程集成，作为持续集成阶段的一部分，并专注于和其它与之交互的代码隔离的测试。<br>除此之外，可以有或者应该有各种形式的测试。这些可包括：<br>集成测试 验证组件和服务组合在一起是否正常。<br>功能测试 验证产品中执行功能的结果是否符合预期。<br>验收测试 根据可接受的标准验证产品的某些特征。如性能、可伸缩性、抗压能力和容量。<br>所有这些可能不存在于自动化的管道中，并且一些不同类型的测试分类界限也不是很清晰。但是，在交付管道中持续测试的目标始终是相同的：通过持续的测试级别证明代码的质量可以在正在进行的发布中使用。在持续集成快速的原则基础上，第二个目标是快速发现问题并提醒开发团队。这通常被称为快速失败。<br>除了测试之外，还可以对管道中的代码进行哪些其它类型的验证？<br>除了测试是否通过之外，还有一些应用程序可以告诉我们测试用例执行（覆盖）的源代码行数。这是一个可以衡量代码量指标的例子。这个指标称为代码覆盖率<br>code-coverage<br>，可以通过工具（例如用于 Java 的 JaCoCo）进行统计。<br>还有很多其它类型的指标统计，例如代码行数、复杂度以及代码结构对比分析等。诸如 SonarQube 之类的工具可以检查源代码并计算这些指标。此外，用户还可以为他们可接受的“合格”范围的指标设置阈值。然后可以在管道中针对这些阈值设置一个检查，如果结果不在可接受范围内，则流程终端上。SonarQube 等应用程序具有很高的可配置性，可以设置仅检查团队感兴趣的内容。<br>什么是“持续交付”？<br>持续交付（CD）通常是指整个流程链（管道），它自动监测源代码变更并通过构建、测试、打包和相关操作运行它们以生成可部署的版本，基本上没有任何人为干预。<br>持续交付在软件开发过程中的目标是自动化、效率、可靠性、可重复性和质量保障（通过持续测试）。<br>持续交付包含持续集成（自动检测源代码变更、执行构建过程、运行单元测试以验证变更），持续测试（对代码运行各种测试以保障代码质量），和（可选）持续部署（通过管道发布版本自动提供给用户）。<br>如何在管道中识别/跟踪多个版本？<br>版本控制是持续交付和管道的关键概念。持续意味着能够经常集成新代码并提供更新版本。但这并不意味着每个人都想要“最新、最好的”。对于想要开发或测试已知的稳定版本的内部团队来说尤其如此。因此，管道创建并轻松存储和访问的这些版本化对象非常重要。<br>在管道中从源代码创建的对象通常可以称为工件<br>artifact<br>。工件在构建时应该有应用于它们的版本。将版本号分配给工件的推荐策略称为语义化版本控制<br>semantic versioning<br>。（这也适用于从外部源引入的依赖工件的版本。）<br>语义版本号有三个部分：主要版本<br>major<br>、次要版本<br>minor<br>和 补丁版本<br>patch<br>。（例如，1.4.3 反映了主要版本 1，次要版本 4 和补丁版本 3。）这个想法是，其中一个部分的更改表示工件中的更新级别。主要版本仅针对不兼容的 API 更改而递增。当以向后兼容<br>backward-compatible<br>的方式添加功能时，次要版本会增加。当进行向后兼容的版本 bug 修复时，补丁版本会增加。这些是建议的指导方针，但只要团队在整个组织内以一致且易于理解的方式这样做，团队就可以自由地改变这种方法。例如，每次为发布完成构建时增加的数字可以放在补丁字段中。<br>如何“分销”工件？<br>团队可以为工件分配分销<br>promotion<br>级别以指示适用于测试、生产等环境或用途。有很多方法。可以用 Jenkins 或 Artifactory 等应用程序进行分销。或者一个简单的方案可以在版本号字符串的末尾添加标签。例如，-snapshot 可以指示用于构建工件的代码的最新版本（快照）。可以使用各种分销策略或工具将工件“提升”到其它级别，例如 -milestone 或 -production，作为工件稳定性和完备性版本的标记。<br>如何存储和访问多个工件版本？<br>从源代码构建的版本化工件可以通过管理工件仓库<br>artifact repository<br>的应用程序进行存储。工件仓库就像构建工件的版本控制工具一样。像 Artifactory 或 Nexus 这类应用可以接受版本化工件，存储和跟踪它们，并提供检索的方法。<br>管道用户可以指定他们想要使用的版本，并在这些版本中使用管道。<br>什么是“持续部署”？<br>持续部署（CD）是指能够自动提供持续交付管道中发布版本给最终用户使用的想法。根据用户的安装方式，可能是在云环境中自动部署、app 升级（如手机上的应用程序）、更新网站或只更新可用版本列表。<br>这里的一个重点是，仅仅因为可以进行持续部署并不意味着始终部署来自管道的每组可交付成果。它实际上指，通过管道每套可交付成果都被证明是“可部署的”。这在很大程度上是由持续测试的连续级别完成的（参见本文中的持续测试部分）。<br>管道构建的发布成果是否被部署可以通过人工决策，或利用在完全部署之前“试用”发布的各种方法来进行控制。<br>在完全部署到所有用户之前，有哪些方法可以测试部署？<br>由于必须回滚/撤消对所有用户的部署可能是一种代价高昂的情况（无论是技术上还是用户的感知），已经有许多技术允许“尝试”部署新功能并在发现问题时轻松“撤消”它们。这些包括：<br>蓝/绿测试/部署<br>在这种部署软件的方法中，维护了两个相同的主机环境 —— 一个“蓝色” 和一个“绿色”。（颜色并不重要，仅作为标识。）对应来说，其中一个是“生产环境”，另一个是“预发布环境”。<br>在这些实例的前面是调度系统，它们充当产品或应用程序的客户“网关”。通过将调度系统指向蓝色或绿色实例，可以将客户流量引流到期望的部署环境。通过这种方式，切换指向哪个部署实例（蓝色或绿色）对用户来说是快速，简单和透明的。<br>当新版本准备好进行测试时，可以将其部署到非生产环境中。在经过测试和批准后，可以更改调度系统设置以将传入的线上流量指向它（因此它将成为新的生产站点）。现在，曾作为生产环境实例可供下一次候选发布使用。<br>同理，如果在最新部署中发现问题并且之前的生产实例仍然可用，则简单的更改可以将客户流量引流回到之前的生产实例 —— 有效地将问题实例“下线”并且回滚到以前的版本。然后有问题的新实例可以在其它区域中修复。<br>金丝雀测试/部署<br>在某些情况下，通过蓝/绿发布切换整个部署可能不可行或不是期望的那样。另一种方法是为金丝雀<br>canary<br>测试/部署。在这种模型中，一部分客户流量被重新引流到新的版本部署中。例如，新版本的搜索服务可以与当前服务的生产版本一起部署。然后，可以将 10％ 的搜索查询引流到新版本，以在生产环境中对其进行测试。<br>如果服务那些流量的新版本没问题，那么可能会有更多的流量会被逐渐引流过去。如果仍然没有问题出现，那么随着时间的推移，可以对新版本增量部署，直到 100％ 的流量都调度到新版本。这有效地“更替”了以前版本的服务，并让新版本对所有客户生效。<br>功能开关<br>对于可能需要轻松关掉的新功能（如果发现问题），开发人员可以添加功能开关<br>feature toggles<br>。这是代码中的 if-then 软件功能开关，仅在设置数据值时才激活新代码。此数据值可以是全局可访问的位置，部署的应用程序将检查该位置是否应执行新代码。如果设置了数据值，则执行代码；如果没有，则不执行。<br>这为开发人员提供了一个远程“终止开关”，以便在部署到生产环境后发现问题时关闭新功能。<br>暗箱发布<br>在暗箱发布<br>dark launch<br>中，代码被逐步测试/部署到生产环境中，但是用户不会看到更改（因此名称中有暗箱<br>dark<br>一词）。例如，在生产版本中，网页查询的某些部分可能会重定向到查询新数据源的服务。开发人员可收集此信息进行分析，而不会将有关接口，事务或结果的任何信息暴露给用户。<br>这个想法是想获取候选版本在生产环境负载下如何执行的真实信息，而不会影响用户或改变他们的经验。随着时间的推移，可以调度更多负载，直到遇到问题或认为新功能已准备好供所有人使用。实际上功能开关标志可用于这种暗箱发布机制。<br>什么是“运维开发”？<br>运维开发<br>DevOps<br>是关于如何使开发和运维团队更容易合作开发和发布软件的一系列想法和推荐的实践。从历史上看，开发团队研发了产品，但没有像客户那样以常规、可重复的方式安装/部署它们。在整个周期中，这组安装/部署任务（以及其它支持任务）留给运维团队负责。这经常导致很多混乱和问题，因为运维团队在后期才开始介入，并且必须在短时间内完成他们的工作。同样，开发团队经常处于不利地位 —— 因为他们没有充分测试产品的安装/部署功能，他们可能会对该过程中出现的问题感到惊讶。<br>这往往导致开发和运维团队之间严重脱节和缺乏合作。DevOps 理念主张是贯穿整个开发周期的开发和运维综合协作的工作方式，就像持续交付那样。<br>持续交付如何与运维开发相交？<br>持续交付管道是几个 DevOps 理念的实现。产品开发的后期阶段（如打包和部署）始终可以在管道的每次运行中完成，而不是等待产品开发周期中的特定时间。同样，从开发到部署过程中，开发和运维都可以清楚地看到事情何时起作用，何时不起作用。要使持续交付管道循环成功，不仅要通过与开发相关的流程，还要通过与运维相关的流程。<br>说得更远一些，DevOps 建议实现管道的基础架构也会被视为代码。也就是说，它应该自动配置、可跟踪、易于修改，并在管道发生变化时触发新一轮运行。这可以通过将管道实现为代码来完成。<br>什么是“管道即代码”？<br>管道即代码<br>pipeline-as-code<br>是通过编写代码创建管道作业/任务的通用术语，就像开发人员编写代码一样。它的目标是将管道实现表示为代码，以便它可以与代码一起存储、评审、跟踪，如果出现问题并且必须终止管道，则可以轻松地重建。有几个工具允许这样做，如 Jenkins 2。<br>DevOps 如何影响生产软件的基础设施？<br>传统意义上，管道中使用的各个硬件系统都有配套的软件（操作系统、应用程序、开发工具等）。在极端情况下，每个系统都是手工设置来定制的。这意味着当系统出现问题或需要更新时，这通常也是一项自定义任务。这种方法违背了持续交付的基本理念，即具有易于重现和可跟踪的环境。<br>多年来，很多应用被开发用于标准化交付（安装和配置）系统。同样，虚拟机<br>virtual machine<br>被开发为模拟在其它计算机之上运行的计算机程序。这些 VM 要有管理程序才能在底层主机系统上运行，并且它们需要自己的操作系统副本才能运行。<br>后来有了容器<br>container<br>。容器虽然在概念上与 VM 类似，但工作方式不同。它们只需使用一些现有的操作系统结构来划分隔离空间，而不需要运行单独的程序和操作系统的副本。因此，它们的行为类似于 VM 以提供隔离但不需要过多的开销。<br>VM 和容器是根据配置定义创建的，因此可以轻易地销毁和重建，而不会影响运行它们的主机系统。这允许运行管道的系统也可重建。此外，对于容器，我们可以跟踪其构建定义文件的更改 —— 就像对源代码一样。<br>因此，如果遇到 VM 或容器中的问题，我们可以更容易、更快速地销毁和重建它们，而不是在当前环境尝试调试和修复。<br>这也意味着对管道代码的任何更改都可以触发管道新一轮运行（通过 CI），就像对代码的更改一样。这是 DevOps 关于基础架构的核心理念之一。</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-18T19:48:00.000Z">2019-07-18</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 分钟 read (About 1199 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/07/19/bazel/">bazel</a>
            
        </h1>
        <div class="content">
            <p>bazel<br>演变一: Carthage<br>将整个工程拆分成多个仓库.每个仓库都是一个Framework.<br>每个小组维护一个仓库.<br>每个小组也只需关心这一个仓库.对其他仓库的依赖都用二进制依赖.<br>大大加快编译速度.<br>代表工具: Carthage.<br>演变二: bazel<br>不把每个库拆分成小仓库了.<br>所有库都在一个Git仓库中.<br>通过bazel拆分成多个package.<br>每个package的编译缓存都是独立的.<br>解决了编译过慢的问题.<br>虽然在同一个大仓库里.<br>但是每组各自维护自己的package.<br>所以不会导致不同组之间的git冲突  </p>
<p>bazel :<br>解决了编译过慢问题<br>解决了库之间依赖问题<br>解决了多人协作导致的git冲突  </p>
<p>安装<br>安装过程请参考: <a href="http://bazel.io/docs/install.html" target="_blank" rel="noopener">http://bazel.io/docs/install.html</a><br>使用工作区（workspace）<br>所有的Bazel构建都是基于一个 工作区（workspace） 概念，它是文件系统中一个保存了全部源代码的目录，同时还将包含一些构建后的输出目录的符号链接（例如：bazel-bin和 bazel-out 等输出目录）。工作区目录可以随意放在哪里，但是工作区的根目录必须包含一个名为 WORKSPACE 的工作区配置文件。工作区配置文件可以是一个空文件，也可以包含引用外部构建输出所需的 依赖关系。<br>在一个工作区内，可以根据需要共享多个项目。为了简单，我们先从只有一个项目的工作区开始介绍。<br>先假设你已经有了一个项目，对应 ~/gitroot/my-project/ 目录。我们先创建一个空的 ~/gitroot/my-project/WORKSPACE 工作区配置文件，用于表示这是Bazel项目对应的根目录。<br>创建自己的Build构建文件<br>使用下面的命令创建一个简单的Java项目：<br>$ # If you’re not already there, move to your workspace directory.<br>$ cd ~/gitroot/my-project<br>$ mkdir -p src/main/java/com/example<br>$ cat &gt; src/main/java/com/example/ProjectRunner.java &lt;&lt;EOF<br>package com.example;  </p>
<p>public class ProjectRunner {<br>public static void main(String args[]) {<br>Greeting.sayHi();<br>}  
}<br>EOF<br>$ cat &gt; src/main/java/com/example/Greeting.java &lt;&lt;EOF<br>package com.example;  </p>
<p>public class Greeting {<br>public static void sayHi() {<br>System.out.println(“Hi!”);<br>}  
}<br>EOF  </p>
<p>Bazel通过工作区中所有名为 BUILD 的文件来解析需要构建的项目信息，因此，我们需要先在 ~/gitroot/my-project 目录创建一个 BUILD 构建文件。下面是BUILD构建文件的内容：  </p>
<h4 id="gitroot-my-project-BUILD"><a href="#gitroot-my-project-BUILD" class="headerlink" title="~/gitroot/my-project/BUILD"></a>~/gitroot/my-project/BUILD</h4><figure class="highlight makefile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">java_binary(</span><br><span class="line">name = <span class="hljs-string">"my-runner"</span>,</span><br><span class="line">srcs = glob([<span class="hljs-string">"**/*.java"</span>]),</span><br><span class="line">main_class = <span class="hljs-string">"com.example.ProjectRunner"</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>BUILD文件采用类似Python的语法。虽然不能包含任意的Python语法，但是BUILD文件中的每个构建规则看起来都象是一个Python函数调用，而且你也可以用 “#” 开头来添加单行注释。<br>java_binary 是一个构建规则。其中 name 对应一个构建目标的标识符，可用用它来向Bazel指定构建哪个项目。srcs 对应一个源文件列表，Bazel需要将这些源文件编译为二进制文件。其中 glob([“<em>*/</em>.java”]) 表示递归包含每个子目录中以每个 .java 为后缀名的文件。com.example.ProjectRunner 指定包含main方法的类。</p>
<p>现在可以用下面的命令构建这个Java程序了：</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ cd <span class="hljs-regexp">~/gitroot/</span>my-project</span><br><span class="line">$ bazel build <span class="hljs-comment">//:my-runner</span></span><br><span class="line"><span class="hljs-string">INFO:</span> Found <span class="hljs-number">1</span> target...</span><br><span class="line">Target <span class="hljs-comment">//:my-runner up-to-date:</span></span><br><span class="line">bazel-bin/my-runner.jar</span><br><span class="line">bazel-bin/my-runner</span><br><span class="line"><span class="hljs-string">INFO:</span> Elapsed <span class="hljs-string">time:</span> <span class="hljs-number">1.021</span>s, Critical <span class="hljs-string">Path:</span> <span class="hljs-number">0.83</span>s</span><br><span class="line">$ bazel-bin/my-runner</span><br><span class="line">Hi!</span><br></pre></td></tr></table></figure>

<p>恭喜，你已经成功构建了第一个Bazel项目了！<br>添加依赖关系<br>对于小项目创建一个规则是可以的，但是随着项目的变大，则需要分别构建项目的不同的部件，最终再组装成产品。这种构建方式可以避免因为局部细小的修改儿导致重现构建整个应用，同时不同的构建步骤可以很好地并发执行以提高构建效率。<br>我们现在将一个项目拆分为两个部分独立构建，同时设置它们之间的依赖关系。基于上面的例子，我们重写了BUILD构建文件：</p>
<figure class="highlight makefile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">java_binary(</span><br><span class="line">name = <span class="hljs-string">"my-other-runner"</span>,</span><br><span class="line">srcs = [<span class="hljs-string">"src/main/java/com/example/ProjectRunner.java"</span>],</span><br><span class="line">main_class = <span class="hljs-string">"com.example.ProjectRunner"</span>,</span><br><span class="line">deps = [<span class="hljs-string">":greeter"</span>],</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">java_library(</span><br><span class="line">name = <span class="hljs-string">"greeter"</span>,</span><br><span class="line">srcs = [<span class="hljs-string">"src/main/java/com/example/Greeting.java"</span>],</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>虽然源文件是一样的，但是现在Bazel将采用不同的方式来构建：首先是构建 greeter库，然后是构建 my-other-runner。可以在构建成功后立刻运行 //:my-other-runner：</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ bazel run <span class="hljs-comment">//:my-other-runner</span></span><br><span class="line"><span class="hljs-string">INFO:</span> Found <span class="hljs-number">1</span> target...</span><br><span class="line">Target <span class="hljs-comment">//:my-other-runner up-to-date:</span></span><br><span class="line">bazel-bin/my-other-runner.jar</span><br><span class="line">bazel-bin/my-other-runner</span><br><span class="line"><span class="hljs-string">INFO:</span> Elapsed <span class="hljs-string">time:</span> <span class="hljs-number">2.454</span>s, Critical <span class="hljs-string">Path:</span> <span class="hljs-number">1.58</span>s</span><br><span class="line"></span><br><span class="line"><span class="hljs-string">INFO:</span> Running command <span class="hljs-string">line:</span> bazel-bin/my-other-runner</span><br><span class="line">Hi!</span><br></pre></td></tr></table></figure>

<p>现在如果你改动ProjectRunner.java代码并重新构建my-other-runner目标，Greeting.java文件因为没有变化而不会重现编译。<br>使用多个包（Packages）<br>对于更大的项目，我们通常需要将它们拆分到多个目录中。你可以用类似//path/to/directory:target-name的名字引用在其他BUILD文件定义的目标。假设src/main/java/com/example/有一个cmdline/子目录，包含下面的文件：</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir -p src<span class="hljs-regexp">/main/</span>java<span class="hljs-regexp">/com/</span>example/cmdline</span><br><span class="line">$ cat &gt; src<span class="hljs-regexp">/main/</span>java<span class="hljs-regexp">/com/</span>example<span class="hljs-regexp">/cmdline/</span>Runner.java &lt;&lt;EOF</span><br><span class="line"><span class="hljs-keyword">package</span> com.example.cmdline;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">import</span> com.example.Greeting;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Runner</span> &#123;</span></span><br><span class="line"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> main(String args[]) &#123;</span><br><span class="line">Greeting.sayHi();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>

<p>Runner.java依赖com.example.Greeting，因此我们需要在src/main/java/com/example/cmdline/BUILD构建文件中添加相应的依赖规则：  </p>
<h5 id="gitroot-my-project-src-main-java-com-example-cmdline-BUILD"><a href="#gitroot-my-project-src-main-java-com-example-cmdline-BUILD" class="headerlink" title="~/gitroot/my-project/src/main/java/com/example/cmdline/BUILD"></a>~/gitroot/my-project/src/main/java/com/example/cmdline/BUILD</h5><figure class="highlight makefile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">java_binary(</span><br><span class="line">name = <span class="hljs-string">"runner"</span>,</span><br><span class="line">srcs = [<span class="hljs-string">"Runner.java"</span>],</span><br><span class="line">main_class = <span class="hljs-string">"com.example.cmdline.Runner"</span>,</span><br><span class="line">deps = [<span class="hljs-string">"//:greeter"</span>]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>然而，默认情况下构建目标都是 私有 的。也就是说，我们只能在同一个BUILD文件中被引用。这可以避免将很多实现的细节暴漏给公共的接口，但是也意味着我们需要手工允许runner所依赖的//:greeter目标。就是类似下面这个在构建runner目标时遇到的错误：  </p>
<figure class="highlight subunit hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ bazel build //src/main/java/com/example/cmdline:runner</span><br><span class="line"><span class="hljs-keyword">ERROR: </span>/home/user/gitroot/my-project/src/main/java/com/example/cmdline/BUILD:2:1:</span><br><span class="line">Target '//:greeter' is not visible from target '//src/main/java/com/example/cmdline:runner'.</span><br><span class="line">Check the visibility declaration of the former target if you think the dependency is legitimate.</span><br><span class="line"><span class="hljs-keyword">ERROR: </span>Analysis of target '//src/main/java/com/example/cmdline:runner' failed; build aborted.</span><br><span class="line">INFO: Elapsed time: 0.091s</span><br></pre></td></tr></table></figure>

<p>可用通过在BUILD文件增加visibility = level属性来改变目标的可间范围。下面是通过在~/gitroot/my-project/BUILD文件增加可见规则，来改变greeter目标的可见范围：</p>
<figure class="highlight makefile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">java_library(</span><br><span class="line">name = <span class="hljs-string">"greeter"</span>,</span><br><span class="line">srcs = [<span class="hljs-string">"src/main/java/com/example/Greeting.java"</span>],</span><br><span class="line">visibility = [<span class="hljs-string">"//src/main/java/com/example/cmdline:__pkg__"</span>],</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>这个规则表示//:greeter目标对于//src/main/java/com/example/cmdline包是可见的。现在我们可以重新构建runner目标程序：</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ bazel run <span class="hljs-comment">//src/main/java/com/example/cmdline:runner</span></span><br><span class="line"><span class="hljs-string">INFO:</span> Found <span class="hljs-number">1</span> target...</span><br><span class="line">Target <span class="hljs-comment">//src/main/java/com/example/cmdline:runner up-to-date:</span></span><br><span class="line">bazel-bin<span class="hljs-regexp">/src/</span>main<span class="hljs-regexp">/java/</span>com<span class="hljs-regexp">/example/</span>cmdline/runner.jar</span><br><span class="line">bazel-bin<span class="hljs-regexp">/src/</span>main<span class="hljs-regexp">/java/</span>com<span class="hljs-regexp">/example/</span>cmdline/runner</span><br><span class="line"><span class="hljs-string">INFO:</span> Elapsed <span class="hljs-string">time:</span> <span class="hljs-number">1.576</span>s, Critical <span class="hljs-string">Path:</span> <span class="hljs-number">0.81</span>s</span><br><span class="line"><span class="hljs-string">INFO:</span> Running command <span class="hljs-string">line:</span> bazel-bin<span class="hljs-regexp">/src/</span>main<span class="hljs-regexp">/java/</span>com<span class="hljs-regexp">/example/</span>cmdline/runner</span><br><span class="line">Hi!</span><br></pre></td></tr></table></figure>

<p>参考文档 中有可见性配置说明。<br>部署<br>如果你查看 bazel-bin/src/main/java/com/example/cmdline/runner.jar 的内容，可以看到里面只包含了Runner.class，并没有保护所依赖的Greeting.class：</p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ jar tf bazel-bin<span class="hljs-regexp">/src/</span>main<span class="hljs-regexp">/java/</span>com<span class="hljs-regexp">/example/</span>cmdline/runner.jar</span><br><span class="line">META-INF/</span><br><span class="line">META-INF/MANIFEST.MF</span><br><span class="line">com/</span><br><span class="line">com<span class="hljs-regexp">/example/</span></span><br><span class="line">com<span class="hljs-regexp">/example/</span>cmdline/</span><br><span class="line">com<span class="hljs-regexp">/example/</span>cmdline/Runner.<span class="hljs-keyword">class</span></span><br></pre></td></tr></table></figure>

<p>这只能在本机正常工作（因为Bazel的runner脚本已经将greeter jar添加到了classpath），但是如果将runner.jar单独复制到另一台机器上讲不能正常运行。如果想要构建可用于部署发布的自包含所有依赖的目标，可以构建runner_deploy.jar目标（类似<target-name>_deploy.jar以_deploy为后缀的名字对应可部署目标）。</target-name></p>
<figure class="highlight elixir hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-variable">$ </span>bazel build /<span class="hljs-regexp">/src/main</span><span class="hljs-regexp">/java/com</span><span class="hljs-regexp">/example/cmdline</span><span class="hljs-symbol">:runner_deploy</span>.jar</span><br><span class="line"><span class="hljs-symbol">INFO:</span> Found <span class="hljs-number">1</span> target...</span><br><span class="line">Target /<span class="hljs-regexp">/src/main</span><span class="hljs-regexp">/java/com</span><span class="hljs-regexp">/example/cmdline</span><span class="hljs-symbol">:runner_deploy</span>.jar up-to-<span class="hljs-symbol">date:</span></span><br><span class="line">bazel-bin/src/main/java/com/example/cmdline/runner_deploy.jar</span><br><span class="line"><span class="hljs-symbol">INFO:</span> Elapsed <span class="hljs-symbol">time:</span> <span class="hljs-number">1.700</span>s, Critical <span class="hljs-symbol">Path:</span> <span class="hljs-number">0</span>.<span class="hljs-number">23</span>s</span><br></pre></td></tr></table></figure>

<p>win环境下 Bazel 离线安装教程<br>对于bazel谷歌的开发脚手架，发现用windows系统下powershell下载速度特别慢，在刨坑过程中发现了一种捷径，就是离线安装，接下来将简单介绍离线安装过程<br>1、安装choco<br>cmd安装指令：  </p>
<figure class="highlight plain hljs"><figcaption><span>-NoProfile -InputFormat None -ExecutionPolicy Bypass -Command "iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))" && SET "PATH</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">powershell安装指令：  </span><br><span class="line">```Set-ExecutionPolicy Bypass -Scope Process -Force; iex ((New-Object System.Net.WebClient).DownloadString(&apos;https://chocolatey.org/install.ps1&apos;))```  </span><br><span class="line">特别说明：一定注意都是在管理员用户权限下打开cmd或者是powershell 这里推荐win10系统下使用powershell，如图所示，右键开始菜单打开管理员用户下的powershell：  </span><br><span class="line">2、通过powershell安装bazel  </span><br><span class="line">2.1、输入指令：  </span><br><span class="line">`choco install bazel`  </span><br><span class="line"></span><br><span class="line">&lt;hr/&gt;  </span><br><span class="line">离线安装  </span><br><span class="line">从官网上下载目前最新的bazel压缩包  </span><br><span class="line">先运行choco install bazel指令  </span><br><span class="line">如图所示等待选择阶段，这个时候不要打y 或者 n，让命令行停留于此:  </span><br><span class="line">![upload successful](/images/pasted-9.png)    </span><br><span class="line">在命令行停留之际，修改C:\ProgramData\chocolatey\lib\bazel\tools目录下的params.txt文件内容，将网络版本指定地址修改为本地地址  </span><br><span class="line">修改之前的：  </span><br><span class="line">``` </span><br><span class="line">https://github.com/bazelbuild/bazel/releases/download/0.12.0/bazel-0.12.0-windows-x86_64.zip</span><br><span class="line"></span><br><span class="line">// 此处是文件哈希，禁止修改，原来系统给予是怎样的就是怎样的。</span><br><span class="line">86f84e2c870ed14e4d2e599c309614298b9e08a049657e860d218d56873111bc</span><br></pre></td></tr></table></figure>

<p>修改之后的： 【由于我这里直接下载到桌面上，所以指向桌面地址，如果下载到其他位置，请将绝对地址替换，请勿复制粘贴此段】    </p>
<figure class="highlight groovy hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-string">C:</span><span class="hljs-regexp">/Users/</span>ke_li<span class="hljs-regexp">/Desktop/</span>bazel<span class="hljs-number">-0.12</span><span class="hljs-number">.0</span>-windows-x86_64.zip</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">// 此处是文件哈希，禁止修改，仅修改了上面文件目录，下面未修改，注意保留哈希的意思</span></span><br><span class="line"><span class="hljs-number">86</span>f84e2c870ed14e4d2e599c309614298b9e08a049657e860d218d56873111bc</span><br></pre></td></tr></table></figure>

<p>接下来输入y，回车进行下一阶段，等待一段时间后，结果：</p>
<p><img src="/images/pasted-10.png" alt="upload successful"></p>
<p>可调试bazel，在命令行输入bazel 检查安装是否成功，如图所示即为成功安装</p>
<p><img src="/images/pasted-11.png" alt="upload successful"></p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/page/15/">Anterior</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/page/17/">Siguiente</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/">1</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/15/">15</a></li>
            
            <li><a class="pagination-link is-current" href="/page/16/">16</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/17/">17</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/22/">22</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recientes
        </h3>
        
        <article class="media">
            
            <a href="/2020/05/29/@Select注解时使用in/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="文档标题">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-29T15:53:20.000Z">2020-05-29</time></div>
                    <a href="/2020/05/29/@Select注解时使用in/" class="title has-link-black-ter is-size-6 has-text-weight-normal">文档标题</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/JAVAEE/">JAVAEE</a> / <a class="has-link-grey -link" href="/categories/JAVAEE/MYBATIS/">MYBATIS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/29/mysql共享锁和排它锁/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="mysql共享锁和排它锁">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-29T15:35:53.000Z">2020-05-29</time></div>
                    <a href="/2020/05/29/mysql共享锁和排它锁/" class="title has-link-black-ter is-size-6 has-text-weight-normal">mysql共享锁和排它锁</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/JAVAEE/">JAVAEE</a> / <a class="has-link-grey -link" href="/categories/JAVAEE/MYSQL/">MYSQL</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/10/ Git合并/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Git合并特定commits到另一个分支">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-09T18:41:45.000Z">2020-05-09</time></div>
                    <a href="/2020/05/10/ Git合并/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Git合并特定commits到另一个分支</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/GIT/">GIT</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/10/vim常用的操作/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="vim常用的操作">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-09T16:11:06.000Z">2020-05-09</time></div>
                    <a href="/2020/05/10/vim常用的操作/" class="title has-link-black-ter is-size-6 has-text-weight-normal">vim常用的操作</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/VIM/">VIM</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/09/ES分页查询最大数/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="ES分页查询最大数">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-09T11:30:31.000Z">2020-05-09</time></div>
                    <a href="/2020/05/09/ES分页查询最大数/" class="title has-link-black-ter is-size-6 has-text-weight-normal">ES分页查询最大数</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/ES/">ES</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/avatar.png" alt="Joe">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Joe
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Learning
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Your location</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Entradas
                    </p>
                    <p class="title has-text-weight-normal">
                        220
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categorias
                    </p>
                    <p class="title has-text-weight-normal">
                        15
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Etiquetas
                    </p>
                    <p class="title has-text-weight-normal">
                        100
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/ppoffice" target="_blank">
                SEGUIR</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/joeithub">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
        
            
        
            
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categorias
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/ES/">
            <span class="level-start">
                <span class="level-item">ES</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/GIT/">
            <span class="level-start">
                <span class="level-item">GIT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/IT/">
            <span class="level-start">
                <span class="level-item">IT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">194</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/">
            <span class="level-start">
                <span class="level-item">JAVAEE</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/JAVAEE/DESIGN-PATTERNS/">
            <span class="level-start">
                <span class="level-item">DESIGN PATTERNS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYBATIS/">
            <span class="level-start">
                <span class="level-item">MYBATIS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYSQL/">
            <span class="level-start">
                <span class="level-item">MYSQL</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/">
            <span class="level-start">
                <span class="level-item">SPRINGBOOT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/SECURITY/">
            <span class="level-start">
                <span class="level-item">SECURITY</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SYSTEM/">
            <span class="level-start">
                <span class="level-item">SYSTEM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/VIM/">
            <span class="level-start">
                <span class="level-item">VIM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/WORK/">
            <span class="level-start">
                <span class="level-item">WORK</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/office/">
            <span class="level-start">
                <span class="level-item">office</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/分类1/">
            <span class="level-start">
                <span class="level-item">分类1</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/电商/">
            <span class="level-start">
                <span class="level-item">电商</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Nube de etiquetas
        </h3>
        <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/CI-CD/" style="font-size: 10px;">CI/CD</a> <a href="/tags/ELASTICSEARCH/" style="font-size: 10px;">ELASTICSEARCH</a> <a href="/tags/EXCEL/" style="font-size: 10px;">EXCEL</a> <a href="/tags/Eureka/" style="font-size: 10.91px;">Eureka</a> <a href="/tags/GO/" style="font-size: 10px;">GO</a> <a href="/tags/IDEA/" style="font-size: 10.91px;">IDEA</a> <a href="/tags/IT/" style="font-size: 14.55px;">IT</a> <a href="/tags/JAVAEE/" style="font-size: 20px;">JAVAEE</a> <a href="/tags/JAVASCRIPT/" style="font-size: 11.82px;">JAVASCRIPT</a> <a href="/tags/JAVASE/" style="font-size: 10.91px;">JAVASE</a> <a href="/tags/LINUX/" style="font-size: 10px;">LINUX</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/MAC/" style="font-size: 10px;">MAC</a> <a href="/tags/MQ/" style="font-size: 11.82px;">MQ</a> <a href="/tags/ONOS/" style="font-size: 15.45px;">ONOS</a> <a href="/tags/OSGI/" style="font-size: 14.55px;">OSGI</a> <a href="/tags/OSI/" style="font-size: 10px;">OSI</a> <a href="/tags/PROTOCAL/" style="font-size: 10px;">PROTOCAL</a> <a href="/tags/PYTHON/" style="font-size: 10.91px;">PYTHON</a> <a href="/tags/Quartz/" style="font-size: 10px;">Quartz</a> <a href="/tags/RPM/" style="font-size: 10px;">RPM</a> <a href="/tags/Ribbon/" style="font-size: 10px;">Ribbon</a> <a href="/tags/SECURITY/" style="font-size: 10px;">SECURITY</a> <a href="/tags/SPRING-BOOT/" style="font-size: 10px;">SPRING-BOOT</a> <a href="/tags/SQL/" style="font-size: 12.73px;">SQL</a> <a href="/tags/SQLAlert/" style="font-size: 18.18px;">SQLAlert</a> <a href="/tags/SSO/" style="font-size: 10px;">SSO</a> <a href="/tags/StringRedisTemplate/" style="font-size: 10px;">StringRedisTemplate</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/TK-MYBATIS/" style="font-size: 10px;">TK.MYBATIS</a> <a href="/tags/UDP/" style="font-size: 10px;">UDP</a> <a href="/tags/annotation/" style="font-size: 15.45px;">annotation</a> <a href="/tags/bazel/" style="font-size: 10px;">bazel</a> <a href="/tags/beanutils/" style="font-size: 10px;">beanutils</a> <a href="/tags/centos/" style="font-size: 10px;">centos</a> <a href="/tags/classloader/" style="font-size: 10px;">classloader</a> <a href="/tags/computer/" style="font-size: 10px;">computer</a> <a href="/tags/cron/" style="font-size: 10px;">cron</a> <a href="/tags/debug/" style="font-size: 10px;">debug</a> <a href="/tags/docker/" style="font-size: 12.73px;">docker</a> <a href="/tags/druid/" style="font-size: 10px;">druid</a> <a href="/tags/elasticsearch/" style="font-size: 13.64px;">elasticsearch</a> <a href="/tags/enlink/" style="font-size: 10.91px;">enlink</a> <a href="/tags/fastjson/" style="font-size: 10px;">fastjson</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/gitlab/" style="font-size: 10px;">gitlab</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/hexo/" style="font-size: 12.73px;">hexo</a> <a href="/tags/idea/" style="font-size: 10.91px;">idea</a> <a href="/tags/interceptor/" style="font-size: 11.82px;">interceptor</a> <a href="/tags/jetty/" style="font-size: 10px;">jetty</a> <a href="/tags/jpa/" style="font-size: 10.91px;">jpa</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/karaf/" style="font-size: 11.82px;">karaf</a> <a href="/tags/keepalived/" style="font-size: 10px;">keepalived</a> <a href="/tags/linux-shell/" style="font-size: 15.45px;">linux-shell</a> <a href="/tags/listener/" style="font-size: 10px;">listener</a> <a href="/tags/loadbalanced/" style="font-size: 10px;">loadbalanced</a> <a href="/tags/logback/" style="font-size: 10px;">logback</a> <a href="/tags/login/" style="font-size: 10.91px;">login</a> <a href="/tags/lombok/" style="font-size: 11.82px;">lombok</a> <a href="/tags/mac/" style="font-size: 15.45px;">mac</a> <a href="/tags/markdown/" style="font-size: 11.82px;">markdown</a> <a href="/tags/mybatis/" style="font-size: 17.27px;">mybatis</a> <a href="/tags/mycat/" style="font-size: 10.91px;">mycat</a> <a href="/tags/mysql/" style="font-size: 16.36px;">mysql</a> <a href="/tags/network/" style="font-size: 12.73px;">network</a> <a href="/tags/oauth2/" style="font-size: 10px;">oauth2</a> <a href="/tags/pagehelper/" style="font-size: 10px;">pagehelper</a> <a href="/tags/postman/" style="font-size: 10px;">postman</a> <a href="/tags/python/" style="font-size: 11.82px;">python</a> <a href="/tags/rabbitMq/" style="font-size: 11.82px;">rabbitMq</a> <a href="/tags/redis/" style="font-size: 11.82px;">redis</a> <a href="/tags/redisTemplate/" style="font-size: 10px;">redisTemplate</a> <a href="/tags/reflection/" style="font-size: 11.82px;">reflection</a> <a href="/tags/registry-center/" style="font-size: 10px;">registry center</a> <a href="/tags/restTemplate/" style="font-size: 10px;">restTemplate</a> <a href="/tags/ribbon/" style="font-size: 10px;">ribbon</a> <a href="/tags/serialVersionUID/" style="font-size: 10px;">serialVersionUID</a> <a href="/tags/servlet/" style="font-size: 10.91px;">servlet</a> <a href="/tags/session/" style="font-size: 10.91px;">session</a> <a href="/tags/spring/" style="font-size: 15.45px;">spring</a> <a href="/tags/spring-task/" style="font-size: 12.73px;">spring task</a> <a href="/tags/springboot/" style="font-size: 19.09px;">springboot</a> <a href="/tags/swagger/" style="font-size: 10px;">swagger</a> <a href="/tags/webClient/" style="font-size: 10px;">webClient</a> <a href="/tags/yaml/" style="font-size: 10.91px;">yaml</a> <a href="/tags/事物/" style="font-size: 10px;">事物</a> <a href="/tags/全局异常/" style="font-size: 10px;">全局异常</a> <a href="/tags/分布式/" style="font-size: 10px;">分布式</a> <a href="/tags/抖音/" style="font-size: 10px;">抖音</a> <a href="/tags/文件服务器/" style="font-size: 10.91px;">文件服务器</a> <a href="/tags/日志/" style="font-size: 10px;">日志</a> <a href="/tags/时间转化/" style="font-size: 10px;">时间转化</a> <a href="/tags/标签1/" style="font-size: 10px;">标签1</a> <a href="/tags/消息队列/" style="font-size: 10px;">消息队列</a> <a href="/tags/淘宝/" style="font-size: 10px;">淘宝</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a> <a href="/tags/高可用/" style="font-size: 10px;">高可用</a>
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archivos
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/05/">
                <span class="level-start">
                    <span class="level-item">五月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">四月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">三月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">14</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">十月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">28</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">九月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">40</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">八月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">13</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">七月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">66</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/1970/09/">
                <span class="level-start">
                    <span class="level-item">九月 1970</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Etiquetas
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AOP/">
                        <span class="tag">AOP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CI-CD/">
                        <span class="tag">CI/CD</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ELASTICSEARCH/">
                        <span class="tag">ELASTICSEARCH</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/EXCEL/">
                        <span class="tag">EXCEL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Eureka/">
                        <span class="tag">Eureka</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GO/">
                        <span class="tag">GO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDEA/">
                        <span class="tag">IDEA</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IT/">
                        <span class="tag">IT</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVAEE/">
                        <span class="tag">JAVAEE</span>
                        <span class="tag is-grey">130</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASCRIPT/">
                        <span class="tag">JAVASCRIPT</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASE/">
                        <span class="tag">JAVASE</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LINUX/">
                        <span class="tag">LINUX</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MAC/">
                        <span class="tag">MAC</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MQ/">
                        <span class="tag">MQ</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ONOS/">
                        <span class="tag">ONOS</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSGI/">
                        <span class="tag">OSGI</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSI/">
                        <span class="tag">OSI</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PROTOCAL/">
                        <span class="tag">PROTOCAL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PYTHON/">
                        <span class="tag">PYTHON</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Quartz/">
                        <span class="tag">Quartz</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RPM/">
                        <span class="tag">RPM</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Ribbon/">
                        <span class="tag">Ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SECURITY/">
                        <span class="tag">SECURITY</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SPRING-BOOT/">
                        <span class="tag">SPRING-BOOT</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQL/">
                        <span class="tag">SQL</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQLAlert/">
                        <span class="tag">SQLAlert</span>
                        <span class="tag is-grey">13</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SSO/">
                        <span class="tag">SSO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/StringRedisTemplate/">
                        <span class="tag">StringRedisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TCP/">
                        <span class="tag">TCP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TK-MYBATIS/">
                        <span class="tag">TK.MYBATIS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UDP/">
                        <span class="tag">UDP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/annotation/">
                        <span class="tag">annotation</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/bazel/">
                        <span class="tag">bazel</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/beanutils/">
                        <span class="tag">beanutils</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/centos/">
                        <span class="tag">centos</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/classloader/">
                        <span class="tag">classloader</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/computer/">
                        <span class="tag">computer</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/cron/">
                        <span class="tag">cron</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/debug/">
                        <span class="tag">debug</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/docker/">
                        <span class="tag">docker</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/druid/">
                        <span class="tag">druid</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/elasticsearch/">
                        <span class="tag">elasticsearch</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/enlink/">
                        <span class="tag">enlink</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/fastjson/">
                        <span class="tag">fastjson</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/git/">
                        <span class="tag">git</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/gitlab/">
                        <span class="tag">gitlab</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/go/">
                        <span class="tag">go</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/hexo/">
                        <span class="tag">hexo</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/idea/">
                        <span class="tag">idea</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/interceptor/">
                        <span class="tag">interceptor</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jetty/">
                        <span class="tag">jetty</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jpa/">
                        <span class="tag">jpa</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/json/">
                        <span class="tag">json</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/karaf/">
                        <span class="tag">karaf</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/keepalived/">
                        <span class="tag">keepalived</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/linux-shell/">
                        <span class="tag">linux-shell</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/listener/">
                        <span class="tag">listener</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/loadbalanced/">
                        <span class="tag">loadbalanced</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/logback/">
                        <span class="tag">logback</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/login/">
                        <span class="tag">login</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/lombok/">
                        <span class="tag">lombok</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mac/">
                        <span class="tag">mac</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/markdown/">
                        <span class="tag">markdown</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mybatis/">
                        <span class="tag">mybatis</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mycat/">
                        <span class="tag">mycat</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mysql/">
                        <span class="tag">mysql</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/network/">
                        <span class="tag">network</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/oauth2/">
                        <span class="tag">oauth2</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pagehelper/">
                        <span class="tag">pagehelper</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/postman/">
                        <span class="tag">postman</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/rabbitMq/">
                        <span class="tag">rabbitMq</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redis/">
                        <span class="tag">redis</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redisTemplate/">
                        <span class="tag">redisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/reflection/">
                        <span class="tag">reflection</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/registry-center/">
                        <span class="tag">registry center</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/restTemplate/">
                        <span class="tag">restTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ribbon/">
                        <span class="tag">ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/serialVersionUID/">
                        <span class="tag">serialVersionUID</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/servlet/">
                        <span class="tag">servlet</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/session/">
                        <span class="tag">session</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring/">
                        <span class="tag">spring</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring-task/">
                        <span class="tag">spring task</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/springboot/">
                        <span class="tag">springboot</span>
                        <span class="tag is-grey">43</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/swagger/">
                        <span class="tag">swagger</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/webClient/">
                        <span class="tag">webClient</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/yaml/">
                        <span class="tag">yaml</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/事物/">
                        <span class="tag">事物</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/全局异常/">
                        <span class="tag">全局异常</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/分布式/">
                        <span class="tag">分布式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/抖音/">
                        <span class="tag">抖音</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/文件服务器/">
                        <span class="tag">文件服务器</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/日志/">
                        <span class="tag">日志</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/时间转化/">
                        <span class="tag">时间转化</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/标签1/">
                        <span class="tag">标签1</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/消息队列/">
                        <span class="tag">消息队列</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/淘宝/">
                        <span class="tag">淘宝</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/设计模式/">
                        <span class="tag">设计模式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/高可用/">
                        <span class="tag">高可用</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/avatar.png" alt="Joe">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Joe
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Learning
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Your location</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Entradas
                    </p>
                    <p class="title has-text-weight-normal">
                        220
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categorias
                    </p>
                    <p class="title has-text-weight-normal">
                        15
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Etiquetas
                    </p>
                    <p class="title has-text-weight-normal">
                        100
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/ppoffice" target="_blank">
                SEGUIR</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/joeithub">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categorias
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/ES/">
            <span class="level-start">
                <span class="level-item">ES</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/GIT/">
            <span class="level-start">
                <span class="level-item">GIT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/IT/">
            <span class="level-start">
                <span class="level-item">IT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">194</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/">
            <span class="level-start">
                <span class="level-item">JAVAEE</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/JAVAEE/DESIGN-PATTERNS/">
            <span class="level-start">
                <span class="level-item">DESIGN PATTERNS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYBATIS/">
            <span class="level-start">
                <span class="level-item">MYBATIS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYSQL/">
            <span class="level-start">
                <span class="level-item">MYSQL</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/">
            <span class="level-start">
                <span class="level-item">SPRINGBOOT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/SECURITY/">
            <span class="level-start">
                <span class="level-item">SECURITY</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SYSTEM/">
            <span class="level-start">
                <span class="level-item">SYSTEM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/VIM/">
            <span class="level-start">
                <span class="level-item">VIM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/WORK/">
            <span class="level-start">
                <span class="level-item">WORK</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/office/">
            <span class="level-start">
                <span class="level-item">office</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/分类1/">
            <span class="level-start">
                <span class="level-item">分类1</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/电商/">
            <span class="level-start">
                <span class="level-item">电商</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Nube de etiquetas
        </h3>
        <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/CI-CD/" style="font-size: 10px;">CI/CD</a> <a href="/tags/ELASTICSEARCH/" style="font-size: 10px;">ELASTICSEARCH</a> <a href="/tags/EXCEL/" style="font-size: 10px;">EXCEL</a> <a href="/tags/Eureka/" style="font-size: 10.91px;">Eureka</a> <a href="/tags/GO/" style="font-size: 10px;">GO</a> <a href="/tags/IDEA/" style="font-size: 10.91px;">IDEA</a> <a href="/tags/IT/" style="font-size: 14.55px;">IT</a> <a href="/tags/JAVAEE/" style="font-size: 20px;">JAVAEE</a> <a href="/tags/JAVASCRIPT/" style="font-size: 11.82px;">JAVASCRIPT</a> <a href="/tags/JAVASE/" style="font-size: 10.91px;">JAVASE</a> <a href="/tags/LINUX/" style="font-size: 10px;">LINUX</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/MAC/" style="font-size: 10px;">MAC</a> <a href="/tags/MQ/" style="font-size: 11.82px;">MQ</a> <a href="/tags/ONOS/" style="font-size: 15.45px;">ONOS</a> <a href="/tags/OSGI/" style="font-size: 14.55px;">OSGI</a> <a href="/tags/OSI/" style="font-size: 10px;">OSI</a> <a href="/tags/PROTOCAL/" style="font-size: 10px;">PROTOCAL</a> <a href="/tags/PYTHON/" style="font-size: 10.91px;">PYTHON</a> <a href="/tags/Quartz/" style="font-size: 10px;">Quartz</a> <a href="/tags/RPM/" style="font-size: 10px;">RPM</a> <a href="/tags/Ribbon/" style="font-size: 10px;">Ribbon</a> <a href="/tags/SECURITY/" style="font-size: 10px;">SECURITY</a> <a href="/tags/SPRING-BOOT/" style="font-size: 10px;">SPRING-BOOT</a> <a href="/tags/SQL/" style="font-size: 12.73px;">SQL</a> <a href="/tags/SQLAlert/" style="font-size: 18.18px;">SQLAlert</a> <a href="/tags/SSO/" style="font-size: 10px;">SSO</a> <a href="/tags/StringRedisTemplate/" style="font-size: 10px;">StringRedisTemplate</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/TK-MYBATIS/" style="font-size: 10px;">TK.MYBATIS</a> <a href="/tags/UDP/" style="font-size: 10px;">UDP</a> <a href="/tags/annotation/" style="font-size: 15.45px;">annotation</a> <a href="/tags/bazel/" style="font-size: 10px;">bazel</a> <a href="/tags/beanutils/" style="font-size: 10px;">beanutils</a> <a href="/tags/centos/" style="font-size: 10px;">centos</a> <a href="/tags/classloader/" style="font-size: 10px;">classloader</a> <a href="/tags/computer/" style="font-size: 10px;">computer</a> <a href="/tags/cron/" style="font-size: 10px;">cron</a> <a href="/tags/debug/" style="font-size: 10px;">debug</a> <a href="/tags/docker/" style="font-size: 12.73px;">docker</a> <a href="/tags/druid/" style="font-size: 10px;">druid</a> <a href="/tags/elasticsearch/" style="font-size: 13.64px;">elasticsearch</a> <a href="/tags/enlink/" style="font-size: 10.91px;">enlink</a> <a href="/tags/fastjson/" style="font-size: 10px;">fastjson</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/gitlab/" style="font-size: 10px;">gitlab</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/hexo/" style="font-size: 12.73px;">hexo</a> <a href="/tags/idea/" style="font-size: 10.91px;">idea</a> <a href="/tags/interceptor/" style="font-size: 11.82px;">interceptor</a> <a href="/tags/jetty/" style="font-size: 10px;">jetty</a> <a href="/tags/jpa/" style="font-size: 10.91px;">jpa</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/karaf/" style="font-size: 11.82px;">karaf</a> <a href="/tags/keepalived/" style="font-size: 10px;">keepalived</a> <a href="/tags/linux-shell/" style="font-size: 15.45px;">linux-shell</a> <a href="/tags/listener/" style="font-size: 10px;">listener</a> <a href="/tags/loadbalanced/" style="font-size: 10px;">loadbalanced</a> <a href="/tags/logback/" style="font-size: 10px;">logback</a> <a href="/tags/login/" style="font-size: 10.91px;">login</a> <a href="/tags/lombok/" style="font-size: 11.82px;">lombok</a> <a href="/tags/mac/" style="font-size: 15.45px;">mac</a> <a href="/tags/markdown/" style="font-size: 11.82px;">markdown</a> <a href="/tags/mybatis/" style="font-size: 17.27px;">mybatis</a> <a href="/tags/mycat/" style="font-size: 10.91px;">mycat</a> <a href="/tags/mysql/" style="font-size: 16.36px;">mysql</a> <a href="/tags/network/" style="font-size: 12.73px;">network</a> <a href="/tags/oauth2/" style="font-size: 10px;">oauth2</a> <a href="/tags/pagehelper/" style="font-size: 10px;">pagehelper</a> <a href="/tags/postman/" style="font-size: 10px;">postman</a> <a href="/tags/python/" style="font-size: 11.82px;">python</a> <a href="/tags/rabbitMq/" style="font-size: 11.82px;">rabbitMq</a> <a href="/tags/redis/" style="font-size: 11.82px;">redis</a> <a href="/tags/redisTemplate/" style="font-size: 10px;">redisTemplate</a> <a href="/tags/reflection/" style="font-size: 11.82px;">reflection</a> <a href="/tags/registry-center/" style="font-size: 10px;">registry center</a> <a href="/tags/restTemplate/" style="font-size: 10px;">restTemplate</a> <a href="/tags/ribbon/" style="font-size: 10px;">ribbon</a> <a href="/tags/serialVersionUID/" style="font-size: 10px;">serialVersionUID</a> <a href="/tags/servlet/" style="font-size: 10.91px;">servlet</a> <a href="/tags/session/" style="font-size: 10.91px;">session</a> <a href="/tags/spring/" style="font-size: 15.45px;">spring</a> <a href="/tags/spring-task/" style="font-size: 12.73px;">spring task</a> <a href="/tags/springboot/" style="font-size: 19.09px;">springboot</a> <a href="/tags/swagger/" style="font-size: 10px;">swagger</a> <a href="/tags/webClient/" style="font-size: 10px;">webClient</a> <a href="/tags/yaml/" style="font-size: 10.91px;">yaml</a> <a href="/tags/事物/" style="font-size: 10px;">事物</a> <a href="/tags/全局异常/" style="font-size: 10px;">全局异常</a> <a href="/tags/分布式/" style="font-size: 10px;">分布式</a> <a href="/tags/抖音/" style="font-size: 10px;">抖音</a> <a href="/tags/文件服务器/" style="font-size: 10.91px;">文件服务器</a> <a href="/tags/日志/" style="font-size: 10px;">日志</a> <a href="/tags/时间转化/" style="font-size: 10px;">时间转化</a> <a href="/tags/标签1/" style="font-size: 10px;">标签1</a> <a href="/tags/消息队列/" style="font-size: 10px;">消息队列</a> <a href="/tags/淘宝/" style="font-size: 10px;">淘宝</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a> <a href="/tags/高可用/" style="font-size: 10px;">高可用</a>
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archivos
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/05/">
                <span class="level-start">
                    <span class="level-item">五月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">四月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">三月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">14</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">十月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">28</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">九月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">40</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">八月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">13</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">七月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">66</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/1970/09/">
                <span class="level-start">
                    <span class="level-item">九月 1970</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Etiquetas
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AOP/">
                        <span class="tag">AOP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CI-CD/">
                        <span class="tag">CI/CD</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ELASTICSEARCH/">
                        <span class="tag">ELASTICSEARCH</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/EXCEL/">
                        <span class="tag">EXCEL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Eureka/">
                        <span class="tag">Eureka</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GO/">
                        <span class="tag">GO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDEA/">
                        <span class="tag">IDEA</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IT/">
                        <span class="tag">IT</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVAEE/">
                        <span class="tag">JAVAEE</span>
                        <span class="tag is-grey">130</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASCRIPT/">
                        <span class="tag">JAVASCRIPT</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASE/">
                        <span class="tag">JAVASE</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LINUX/">
                        <span class="tag">LINUX</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MAC/">
                        <span class="tag">MAC</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MQ/">
                        <span class="tag">MQ</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ONOS/">
                        <span class="tag">ONOS</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSGI/">
                        <span class="tag">OSGI</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSI/">
                        <span class="tag">OSI</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PROTOCAL/">
                        <span class="tag">PROTOCAL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PYTHON/">
                        <span class="tag">PYTHON</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Quartz/">
                        <span class="tag">Quartz</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RPM/">
                        <span class="tag">RPM</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Ribbon/">
                        <span class="tag">Ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SECURITY/">
                        <span class="tag">SECURITY</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SPRING-BOOT/">
                        <span class="tag">SPRING-BOOT</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQL/">
                        <span class="tag">SQL</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQLAlert/">
                        <span class="tag">SQLAlert</span>
                        <span class="tag is-grey">13</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SSO/">
                        <span class="tag">SSO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/StringRedisTemplate/">
                        <span class="tag">StringRedisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TCP/">
                        <span class="tag">TCP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TK-MYBATIS/">
                        <span class="tag">TK.MYBATIS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UDP/">
                        <span class="tag">UDP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/annotation/">
                        <span class="tag">annotation</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/bazel/">
                        <span class="tag">bazel</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/beanutils/">
                        <span class="tag">beanutils</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/centos/">
                        <span class="tag">centos</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/classloader/">
                        <span class="tag">classloader</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/computer/">
                        <span class="tag">computer</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/cron/">
                        <span class="tag">cron</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/debug/">
                        <span class="tag">debug</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/docker/">
                        <span class="tag">docker</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/druid/">
                        <span class="tag">druid</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/elasticsearch/">
                        <span class="tag">elasticsearch</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/enlink/">
                        <span class="tag">enlink</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/fastjson/">
                        <span class="tag">fastjson</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/git/">
                        <span class="tag">git</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/gitlab/">
                        <span class="tag">gitlab</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/go/">
                        <span class="tag">go</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/hexo/">
                        <span class="tag">hexo</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/idea/">
                        <span class="tag">idea</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/interceptor/">
                        <span class="tag">interceptor</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jetty/">
                        <span class="tag">jetty</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jpa/">
                        <span class="tag">jpa</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/json/">
                        <span class="tag">json</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/karaf/">
                        <span class="tag">karaf</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/keepalived/">
                        <span class="tag">keepalived</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/linux-shell/">
                        <span class="tag">linux-shell</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/listener/">
                        <span class="tag">listener</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/loadbalanced/">
                        <span class="tag">loadbalanced</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/logback/">
                        <span class="tag">logback</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/login/">
                        <span class="tag">login</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/lombok/">
                        <span class="tag">lombok</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mac/">
                        <span class="tag">mac</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/markdown/">
                        <span class="tag">markdown</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mybatis/">
                        <span class="tag">mybatis</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mycat/">
                        <span class="tag">mycat</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mysql/">
                        <span class="tag">mysql</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/network/">
                        <span class="tag">network</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/oauth2/">
                        <span class="tag">oauth2</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pagehelper/">
                        <span class="tag">pagehelper</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/postman/">
                        <span class="tag">postman</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/rabbitMq/">
                        <span class="tag">rabbitMq</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redis/">
                        <span class="tag">redis</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redisTemplate/">
                        <span class="tag">redisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/reflection/">
                        <span class="tag">reflection</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/registry-center/">
                        <span class="tag">registry center</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/restTemplate/">
                        <span class="tag">restTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ribbon/">
                        <span class="tag">ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/serialVersionUID/">
                        <span class="tag">serialVersionUID</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/servlet/">
                        <span class="tag">servlet</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/session/">
                        <span class="tag">session</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring/">
                        <span class="tag">spring</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring-task/">
                        <span class="tag">spring task</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/springboot/">
                        <span class="tag">springboot</span>
                        <span class="tag is-grey">43</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/swagger/">
                        <span class="tag">swagger</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/webClient/">
                        <span class="tag">webClient</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/yaml/">
                        <span class="tag">yaml</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/事物/">
                        <span class="tag">事物</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/全局异常/">
                        <span class="tag">全局异常</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/分布式/">
                        <span class="tag">分布式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/抖音/">
                        <span class="tag">抖音</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/文件服务器/">
                        <span class="tag">文件服务器</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/日志/">
                        <span class="tag">日志</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/时间转化/">
                        <span class="tag">时间转化</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/标签1/">
                        <span class="tag">标签1</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/消息队列/">
                        <span class="tag">消息队列</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/淘宝/">
                        <span class="tag">淘宝</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/设计模式/">
                        <span class="tag">设计模式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/高可用/">
                        <span class="tag">高可用</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="Learning" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 Joe Tong&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh_CN");</script>

<script>
var IcarusThemeSettings = {
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>



    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Entradas',
                PAGES: 'Pages',
                CATEGORIES: 'Categorias',
                TAGS: 'Etiquetas',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>