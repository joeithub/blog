<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.9.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>dockerfile command - Learning</title>


    <meta name="description" content="docker reference https://docs.docker.com/v17.09/engine/reference/builder docker build 创建镜像   -f 路径 指定用哪个dockerfile文件 创建镜像  $ docker build -f /path/to/a/Dockerfile   -t 标签 给指定镜像打标签   $ docker build -t">
<meta name="keywords" content="docker">
<meta property="og:type" content="article">
<meta property="og:title" content="dockerfile command">
<meta property="og:url" content="http://yoursite.com/2019/07/19/dockerfile-command/index.html">
<meta property="og:site_name" content="Learning">
<meta property="og:description" content="docker reference https://docs.docker.com/v17.09/engine/reference/builder docker build 创建镜像   -f 路径 指定用哪个dockerfile文件 创建镜像  $ docker build -f /path/to/a/Dockerfile   -t 标签 给指定镜像打标签   $ docker build -t">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/images/og_image.png">
<meta property="og:updated_time" content="2019-08-29T01:40:41.092Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="dockerfile command">
<meta name="twitter:description" content="docker reference https://docs.docker.com/v17.09/engine/reference/builder docker build 创建镜像   -f 路径 指定用哪个dockerfile文件 创建镜像  $ docker build -f /path/to/a/Dockerfile   -t 标签 给指定镜像打标签   $ docker build -t">
<meta name="twitter:image" content="http://yoursite.com/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="dockerfile command" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Categories</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-07-19T10:45:00.000Z">2019-07-19</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/IT/">IT</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    1 小时 read (About 7700 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                dockerfile command
            
        </h1>
        <div class="content">
            <p>docker reference <a href="https://docs.docker.com/v17.09/engine/reference/builder" target="_blank" rel="noopener">https://docs.docker.com/v17.09/engine/reference/builder</a></p>
<h4 id="docker-build-创建镜像"><a href="#docker-build-创建镜像" class="headerlink" title="docker build 创建镜像"></a>docker build 创建镜像</h4><p>   -f 路径 指定用哪个dockerfile文件 创建镜像<br>  <code>$ docker build -f /path/to/a/Dockerfile</code><br>   -t 标签 给指定镜像打标签<br>   <code>$ docker build -t shykes/myapp</code><br>   给某个镜像指定多个标签<br>  <code>$ docker build -t shykes/myapp:1.0.2 -t shykes/myapp:latest</code><br>  如果Dockerfile中有语法错误docker 会报错<br>  docker会根据Dockerfile 逐条执行命令<br>  如果有必要的花docker 会在生成image ID 前 将每一条执行结果都提交到新的镜像中，守护进程自动清理发送给他的文本，注意每一条指令都是独立的无关的，因此一个新的镜像会被创建，所以运行 Run cd/tmp 不回对下条命令产生任何的影响<br>  只要有可能docker都会复用中间镜像的缓存来加速构建，这可以通过输出台Using cache 来表示<br>  构建缓存只用于有本地父关系链的场景，这也表示这些镜像是前面构建的时候已经创建的，或者也可用docker load 命令加载所有的父关连镜像，如果想使用指定的特定镜像缓存来构建可以用 –cache-from ，用这个命令就不需要父关系镜像<br>  <table><td><br>  格式：<br>  虽然大小写不敏感，但是指令用大写 可以与参数很好的区分开<br>  必须以FROM 指令开头，它指定了基础镜像  </td></table></p>
<p> #作为注释只可以放在开头，其他地方插入都只作为参数<br>  <table></table></p>
<h4 id="解析器指令"><a href="#解析器指令" class="headerlink" title="解析器指令"></a>解析器指令</h4><p> 解析器指令是可选的，并且影响Dockerfile中后续行的处理方式。解析器指令不向构建中添加层，也不会显示为构建步骤。解析器指令被编写为一种特殊类型的注释，形式为</p>
<p> #directive=value。<br> 一个指令只能使用一次。一旦注释、空行或构建器指令被处理，Docker就不再寻找解析器指令。相反，它将格式化为解析器指令的任何东西都视为注释，并且不尝试验证它是否可能是解析器指令。<br> 因此，所有解析器指令都必须位于Dockerfile的最顶端。解析器指令不区分大小写。然而，习惯上它们都是小写的。约定还包括任何解析器指令后面的空行。解析器指令不支持行延续字符。<br> 一下指令是允许的<br> <figure class="highlight vala hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> escape</span><br><span class="line"><span class="hljs-meta"># escape=\ (backslash)</span></span><br><span class="line">Or</span><br><span class="line"></span><br><span class="line"><span class="hljs-meta"># escape=` (backtick)</span></span><br></pre></td></tr></table></figure></p>
<h4 id="环境替换"><a href="#环境替换" class="headerlink" title="环境替换"></a>环境替换</h4><p>环境变量(用ENV语句声明)也可以在某些指令中用作Dockerfile要解释的变量。转义还处理将类似变量的语法按字面意思包含到语句中。</p>
<p>环境变量在Dockerfile中以$变量名 或 ${变量名} 标注。它们被同等对待，大括号语法通常用于处理变量名没有空格的问题，比如${foo} bar。</p>
<p>${variable_name}语法还支持以下指定的几个标准bash修饰符${Z}表示，如果设置了变量，那么结果将是该值。如果没有设置变量，那么word将是结果。${variable:+word}表示如果设置了变量，那么word将是结果，否则结果是空字符串。在所有情况下，word可以是任何字符串，包括附加的环境变量。<br>可以通过在变量前面添加\来转义:例如，$foo或${foo}将分别转换为$foo和${foo}文本。</p>
<p>举个例子：（#后表示解析后的结果）</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">FROM</span> busybox</span><br><span class="line"><span class="hljs-keyword">ENV</span> foo /bar</span><br><span class="line"><span class="hljs-keyword">WORKDIR</span><span class="hljs-bash"> <span class="hljs-variable">$&#123;foo&#125;</span>   <span class="hljs-comment"># WORKDIR /bar</span></span></span><br><span class="line"><span class="hljs-keyword">ADD</span><span class="hljs-bash"> . <span class="hljs-variable">$foo</span>       <span class="hljs-comment"># ADD . /bar</span></span></span><br><span class="line"><span class="hljs-keyword">COPY</span><span class="hljs-bash"> \<span class="hljs-variable">$foo</span> /quux <span class="hljs-comment"># COPY $foo /quux</span></span></span><br></pre></td></tr></table></figure>

<p>Dockerfile中以下环境变量是被允许的：</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ADD</span><br><span class="line">COPY</span><br><span class="line">ENV</span><br><span class="line">EXPOSE</span><br><span class="line"><span class="hljs-keyword">FROM</span></span><br><span class="line">LABEL</span><br><span class="line">STOPSIGNAL</span><br><span class="line">USER</span><br><span class="line">VOLUME</span><br><span class="line">WORKDIR</span><br><span class="line">ONBUILD(1.4之后支持)</span><br></pre></td></tr></table></figure>

<p>环境变量替换将在整个指令中对每个变量使用相同的值</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ENV <span class="hljs-attribute">abc</span>=hello</span><br><span class="line">ENV <span class="hljs-attribute">abc</span>=bye <span class="hljs-attribute">def</span>=<span class="hljs-variable">$abc</span></span><br><span class="line">ENV <span class="hljs-attribute">ghi</span>=<span class="hljs-variable">$abc</span></span><br></pre></td></tr></table></figure>

<p>将导致def的值为hello，而不是bye。但是，ghi将有一个值bye，因为它不是将abc设置为bye的同一条指令的一部分。</p>
<h4 id="dockerignore-file"><a href="#dockerignore-file" class="headerlink" title=".dockerignore file"></a>.dockerignore file</h4><p>在docker CLI将上下文发送到docker守护进程之前，它在上下文的根目录中查找一个名为.dockerignore的文件。如果该文件存在，CLI将修改上下文，以排除匹配其中模式的文件和目录。这有助于避免不必要地向守护进程发送大型或敏感的文件和目录，并可能使用ADD或COPY将它们添加到镜像中</p>
<p>CLI将.dockerignore文件解释为一个新行分隔的模式列表，类似于Unix shell的文件globs。为了进行匹配，上下文的根被认为是工作目录和根目录。例子：</p>
<figure class="highlight markdown hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-section"># comment</span></span><br><span class="line"><span class="hljs-emphasis">*/temp*</span></span><br><span class="line"><span class="hljs-emphasis">*/*</span>/temp*</span><br><span class="line">temp?</span><br></pre></td></tr></table></figure>

<p>This file causes the following build behavior:</p>
<table>
<thead>
<tr>
<th align="left">Rule</th>
<th align="left">Behavior</th>
</tr>
</thead>
<tbody><tr>
<td align="left"># comment</td>
<td align="left">Ignored.</td>
</tr>
<tr>
<td align="left"><em>/temp</em></td>
<td align="left">Exclude files and directories whose names start with temp in any immediate subdirectory of the root. For example, the plain file /somedir/temporary.txt is excluded, as is the directory /somedir/temp.</td>
</tr>
<tr>
<td align="left"><em>/</em>/temp*</td>
<td align="left">Exclude files and directories starting with temp from any subdirectory that is two levels below the root. For example, /somedir/subdir/temporary.txt is excluded.</td>
</tr>
<tr>
<td align="left">temp?</td>
<td align="left">Exclude files and directories in the root directory whose names are a one-character extension of temp. For example, /tempa and /tempb are excluded.</td>
</tr>
</tbody></table>
<p>匹配是使用Go’s filepath完成的。匹配规则。预处理步骤删除前导和后置空格并消除.和. .使用Go’s filepath.Clean的元素。预处理后为空的行将被忽略。<br>超越Go’s filepath。匹配规则Docker还支持一个特殊的通配符字符串**，它匹配任意数量的目录(包括0),例如 **/*.go将排除在所有目录中以.go结尾的所有文件，包括构建上下文的根目录。<br>以!(感叹号)开头可以用来排除例外。下面是一个使用此机制的.dockerignore文件示例</p>
<figure class="highlight css hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*<span class="hljs-selector-class">.md</span></span><br><span class="line">!<span class="hljs-selector-tag">README</span><span class="hljs-selector-class">.md</span></span><br></pre></td></tr></table></figure>

<p>所有的标记文件被排除在上下文之外，除了README.md。<br>!的位置异常规则影响行为:.dockerignore中匹配特定文件的最后一行决定是否包含或排除该文件。考虑下面的例子</p>
<figure class="highlight stylus hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">    *.md</span><br><span class="line">README-secret.md</span><br><span class="line">!README*.md</span><br></pre></td></tr></table></figure>

<p>所有的README文件都包括在内。中间的行没有效果，因为!README*.md匹配 README-secret。而且在最后一行。<br>您甚至可以使用.dockerignore文件来排除Dockerfile和.dockerignore文件。这些文件仍然被发送到守护进程，因为守护进程需要它们来完成它的工作。但是添加和复制指令不会将它们复制到镜像中。</p>
<p>最后，您可能希望指定要在上下文中包含哪些文件，而不是要排除哪些文件。要实现这一点，请将*指定为第一个模式(把<em>.md它放在前面)，然后是一个或多个模式 !异常模式（!README</em>.md放在后面）。</p>
<h4 id="FROM"><a href="#FROM" class="headerlink" title="FROM"></a>FROM</h4><figure class="highlight sqf hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">FROM</span> &lt;<span class="hljs-built_in">image</span>&gt; [AS &lt;<span class="hljs-built_in">name</span>&gt;]</span><br><span class="line"><span class="hljs-built_in">Or</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> &lt;<span class="hljs-built_in">image</span>&gt;[:&lt;tag&gt;] [AS &lt;<span class="hljs-built_in">name</span>&gt;]</span><br><span class="line"><span class="hljs-built_in">Or</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> &lt;<span class="hljs-built_in">image</span>&gt;[@&lt;digest&gt;] [AS &lt;<span class="hljs-built_in">name</span>&gt;]</span><br></pre></td></tr></table></figure>

<p>FROM指令初始化一个新的构建阶段，并为后续指令设置基本镜像。因此，一个有效的Dockerfile必须从FROM指令开始。镜像可以是任何有效的镜像，这是特别容易的从公共仓库拉一个镜像开始<br>ARG是Dockerfile中唯一可能在前面的指令。参见了解ARG和FROM如何交互。</p>
<p>FROM可以在一个Dockerfile中出现多次，以创建多个镜像，或者使用一个构建阶段作为另一个构建阶段的依赖项。只需在每条新的FROM指令之前，记录提交最后一个镜像ID。每个FROM指令清除以前的指令创建的任何状态。</p>
<p>可以通过<code>AS名称</code> 添加到<code>FROM</code>指令中，为新的构建阶段指定一个名称。可以在后续FROM和<code>COPY——FROM =&lt;name|index&gt;</code>指令中使用该名称，以引用此阶段构建的镜像。</p>
<p><code>tag</code>标记或<code>digest</code>摘要值是可选的。如果您省略了它们中的任何一个，构建器将默认使用最新的标记。如果构建器无法找到标记值，则返回一个错误。  </p>
<p>理解ARG和FROM之间是如何交互的</p>
<p>FROM指令支持由第一个FROM之前的任何ARG指令声明的变量。</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">ARG</span>  CODE_VERSION=latest</span><br><span class="line"><span class="hljs-keyword">FROM</span> base:$&#123;CODE_VERSION&#125;</span><br><span class="line"><span class="hljs-keyword">CMD</span><span class="hljs-bash">  /code/run-app</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> extras:$&#123;CODE_VERSION&#125;</span><br><span class="line"><span class="hljs-keyword">CMD</span><span class="hljs-bash">  /code/run-extras</span></span><br></pre></td></tr></table></figure>

<p>在FROM之前声明的ARG位于构建阶段之外，因此不能在FROM之后的任何指令中使用它。若要使用第一个FROM之前声明的ARG的默认值，请使用构建阶段中没有值的ARG指令<br> To use the default value of an ARG declared before the first FROM use an ARG instruction without a value inside of a build stage:</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">ARG</span> VERSION=latest</span><br><span class="line"><span class="hljs-keyword">FROM</span> busybox:$VERSION</span><br><span class="line"><span class="hljs-keyword">ARG</span> VERSION</span><br><span class="line"><span class="hljs-keyword">RUN</span><span class="hljs-bash"> <span class="hljs-built_in">echo</span> <span class="hljs-variable">$VERSION</span> &gt; image_version</span></span><br></pre></td></tr></table></figure>

<p>RUN<br>run有两中形式：</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-builtin-name">RUN</span> &lt;command&gt; (shell form, the command is <span class="hljs-builtin-name">run</span> <span class="hljs-keyword">in</span> a shell, which by<span class="hljs-built_in"> default </span>is /bin/sh -c on Linux <span class="hljs-keyword">or</span> cmd /S /C on Windows)</span><br><span class="line"><span class="hljs-builtin-name">RUN</span> [<span class="hljs-string">"executable"</span>, <span class="hljs-string">"param1"</span>, <span class="hljs-string">"param2"</span>] (exec form)</span><br></pre></td></tr></table></figure>

<p>RUN指令将在当前映像之上的新层中执行任何命令并提交结果。生成的提交映像将用于Dockerfile中的下一步。<br>分层运行指令和生成提交符合Docker的核心概念，其中提交很便宜，可以从镜像历史中的任何位置创建容器，就像源代码控制一样。<br>exec形式可以避免shell字符串阻塞，并使用不包含指定的shell可执行文件的基本镜像运行命令。<br>可以使用shell命令更改shell形式的默认shell。<br>在shell形式中，您可以使用(反斜杠)将单个运行指令延续到下一行</p>
<figure class="highlight nginx hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-attribute">RUN</span> /bin/bash -c <span class="hljs-string">'source <span class="hljs-variable">$HOME</span>/.bashrc; \</span></span><br><span class="line"><span class="hljs-string">echo <span class="hljs-variable">$HOME</span>'</span></span><br></pre></td></tr></table></figure>

<p>它们加起来等于这一行<br><code>RUN /bin/bash -c &#39;source $HOME/.bashrc; echo $HOME&#39;</code><br>注意:与shell不同，exec不调用命令shell。这意味着不会发生正常的shell处理。例如，<code>RUN [&quot;echo&quot;， &quot;$HOME&quot;]</code>不会对$HOME执行变量替换。如果您想要shell处理，那么要么使用shell表单，要么直接执行shell，<code>RUN [ &quot;sh&quot;, &quot;-c&quot;, &quot;echo $HOME&quot; ]</code><br>当使用exec并直接执行shell时(就像shell的情况一样)，执行环境变量展开的是shell，而不是docker。<br>在JSON格式中，有必要转义反斜杠<br>这在以反斜杠作为路径分隔符的窗口中特别相关。否则，由于不是有效的JSON，以下行将被视为shell形式，并以一种意外的方式失败:<code>RUN [&quot;c:\windows\system32\tasklist.exe&quot;]</code>这个例子的正确语法是<code>RUN [&quot;c:\\windows\\system32\\tasklist.exe&quot;]</code><br>运行指令的缓存不会在下一次构建期间自动失效。像RUN apt-get distd -upgrade -y这样的指令的缓存将在下一个构建过程中重用。运行指令的缓存可以通过使用–no-cache来失效<br>for example <code>docker build --no-cache</code><br>运行指令的缓存可以通过添加指令失效。详见下文。  </p>
<p>CMD<br>有三种格式：</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CMD [<span class="hljs-string">"executable"</span>,<span class="hljs-string">"param1"</span>,<span class="hljs-string">"param2"</span>] (exec form, this is the preferred form)</span><br><span class="line">CMD [<span class="hljs-string">"param1"</span>,<span class="hljs-string">"param2"</span>] (as<span class="hljs-built_in"> default </span>parameters <span class="hljs-keyword">to</span> ENTRYPOINT)</span><br><span class="line">CMD command param1 param2 (shell form)</span><br></pre></td></tr></table></figure>

<p>Dockerfile中只能有一条CMD指令。如果您列出一个以上的CMD，那么只有最后一个CMD将生效<br>CMD的主要目的是为执行容器提供默认值。这些默认值可以包括可执行文件，也可以省略可执行文件，在这种情况下，还必须指定一个入口点指令。<br>注意:如果CMD用于为ENTRYPOINT指令提供默认参数，那么CMD和ENTRYPOINT指令都应该使用JSON数组格式指定。<br>注意:exec表单被解析为JSON数组，这意味着必须在单词周围使用双引号(“)，而不是单引号(‘)。<br>与shell不同，exec不调用命令shell。这意味着不会发生正常的shell处理。例如，<code>CMD [&quot;echo&quot;， &quot;$HOME&quot;]</code>不会对$HOME执行变量替换。如果您想要shell处理，那么要么使用shell表单，要么直接执行shell.例如<code>CMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;echo $HOME&quot; ]</code></p>
<p>当使用exec并直接执行shell时(就像shell的情况一样)，执行环境变量展开的是shell，而不是docker。<br>当在shell或exec格式中使用时，CMD指令设置要在运行镜像时执行的命令。<br>如果使用CMD的shell形式，那么&lt;命令&gt;将在<code>/bin/sh -c</code>中执行</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-keyword">CMD</span><span class="hljs-bash"> <span class="hljs-built_in">echo</span> <span class="hljs-string">"This is a test."</span> | wc -</span></span><br></pre></td></tr></table></figure>

<p>如果您想在没有shell的情况下运行<code>&lt;command&gt;</code>，那么必须将该命令表示为JSON数组，并给出可执行文件的完整路径。这种数组形式是CMD的首选格式。任何附加参数都必须单独表示为字符串</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-keyword">CMD</span><span class="hljs-bash"> [<span class="hljs-string">"/usr/bin/wc"</span>,<span class="hljs-string">"--help"</span>]</span></span><br></pre></td></tr></table></figure>

<p>如果您希望您的容器每次运行相同的可执行文件，那么您应该考虑将ENTRYPOINT与CMD结合使用。看到入口点。</p>
<p>如果用户指定要运行docker run的参数，那么它们将覆盖CMD中指定的默认值</p>
<p><strong>注意:不要将RUN与CMD混淆。RUN实际运行命令并提交结果;CMD在构建时不执行任何操作，但是为镜像指定了预期的命令。</strong></p>
<p>LABEL<br><code>LABEL &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; ...</code><br>标签指令向镜像添加元数据。标签是键值对。要在标签值中包含空格，可以像在命令行解析中那样使用引号和反斜杠。一些使用示例</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">LABEL</span><span class="hljs-bash"> <span class="hljs-string">"com.example.vendor"</span>=<span class="hljs-string">"ACME Incorporated"</span></span></span><br><span class="line"><span class="hljs-keyword">LABEL</span><span class="hljs-bash"> com.example.label-with-value=<span class="hljs-string">"foo"</span></span></span><br><span class="line"><span class="hljs-keyword">LABEL</span><span class="hljs-bash"> version=<span class="hljs-string">"1.0"</span></span></span><br><span class="line"><span class="hljs-keyword">LABEL</span><span class="hljs-bash"> description=<span class="hljs-string">"This text illustrates \</span></span></span><br><span class="line"><span class="hljs-bash">that label-values can span multiple lines.<span class="hljs-string">"</span></span></span><br></pre></td></tr></table></figure>

<p>一个镜像可以有多个标签。要指定多个标签，Docker建议在可能的情况下将标签组合成单个标签指令。每条标签指令都会生成一个新层，如果使用多个标签，则会导致图镜像效率低下<br><code>LABEL multi.label1=&quot;value1&quot; multi.label2=&quot;value2&quot; other=&quot;value3&quot;</code><br>也可以写成</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LABEL multi.<span class="hljs-attribute">label1</span>=<span class="hljs-string">"value1"</span> \</span><br><span class="line">      multi.<span class="hljs-attribute">label2</span>=<span class="hljs-string">"value2"</span> \</span><br><span class="line">      <span class="hljs-attribute">other</span>=<span class="hljs-string">"value3"</span></span><br></pre></td></tr></table></figure>

<p>标签是附加的，包括来自镜像的标签。<br>要查看镜像的标签，请使用<code>docker inspect</code>命令。</p>
<figure class="highlight 1c hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-string">"Labels"</span>: &#123;</span><br><span class="line">    <span class="hljs-string">"com.example.vendor"</span>: <span class="hljs-string">"ACME Incorporated"</span></span><br><span class="line">    <span class="hljs-string">"com.example.label-with-value"</span>: <span class="hljs-string">"foo"</span>,</span><br><span class="line">    <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0"</span>,</span><br><span class="line">    <span class="hljs-string">"description"</span>: <span class="hljs-string">"This text illustrates that label-values can span multiple lines."</span>,</span><br><span class="line">    <span class="hljs-string">"multi.label1"</span>: <span class="hljs-string">"value1"</span>,</span><br><span class="line">    <span class="hljs-string">"multi.label2"</span>: <span class="hljs-string">"value2"</span>,</span><br><span class="line">    <span class="hljs-string">"other"</span>: <span class="hljs-string">"value3"</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>MAINTAINER (deprecated) 过时<br><code>MAINTAINER &lt;name&gt;</code><br><code>LABEL maintainer=&quot;SvenDowideit@home.org.au&quot;</code><br>EXPOSE<br><code>EXPOSE &lt;port&gt; [&lt;port&gt;/&lt;protocol&gt;...]</code><br>ENV  </p>
<figure class="highlight xml hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ENV <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span></span><br><span class="line">ENV <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>=<span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span> ...</span><br></pre></td></tr></table></figure>

<p>ENV指令将环境变量<code>&lt;key&gt;</code>设置为值<code>&lt;value&gt;</code>。此值将位于所有Dockerfile后代命令的环境中，并且可以在许多命令中内联替换。</p>
<p>ENV指令有两种形式。第一种形式<code>ENV &lt;key&gt; &lt;value&gt;</code>将把单个变量设置为一个值。第一个空格之后的整个字符串将被视为<code>&lt;value&gt;</code>—包括空格和引号等字符。</p>
<p>第二种形式是<code>ENV &lt;key&gt;=&lt;value&gt;…</code>，允许一次设置多个变量。注意，第二种形式在语法中使用等号(=)，而第一种形式没有。与命令行解析类似，可以使用引号和反斜杠在值中包含空格。</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ENV <span class="hljs-attribute">myName</span>=<span class="hljs-string">"John Doe"</span> <span class="hljs-attribute">myDog</span>=Rex\ The\ Dog \</span><br><span class="line">    <span class="hljs-attribute">myCat</span>=fluffy</span><br></pre></td></tr></table></figure>

<p>AND</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">ENV</span> myName John Doe</span><br><span class="line"><span class="hljs-keyword">ENV</span> myDog Rex The Dog</span><br><span class="line"><span class="hljs-keyword">ENV</span> myCat fluffy</span><br></pre></td></tr></table></figure>

<p>将在最终镜像中生成相同的净结果，但首选第一种形式，因为它生成一个缓存层。</p>
<p>当容器从生成的映像运行时，使用ENV设置的环境变量将保持不变。您可以使用<code>docker inspect</code>查看这些值，并使用<code>docker run——env &lt;key&gt;=&lt;value&gt;</code>更改它们。</p>
<p>ADD<br>ADD有两种形式：</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-builtin-name">ADD</span> &lt;src&gt;<span class="hljs-built_in">..</span>. &lt;dest&gt;</span><br><span class="line"><span class="hljs-builtin-name">ADD</span> [<span class="hljs-string">"&lt;src&gt;"</span>,<span class="hljs-built_in">..</span>. <span class="hljs-string">"&lt;dest&gt;"</span>] (this form is required <span class="hljs-keyword">for</span> paths containing whitespace)</span><br></pre></td></tr></table></figure>

<p>ADD指令从<code>&lt;src&gt;</code>复制新的文件、目录或远程文件url，并将它们添加到路径<code>&lt;dest&gt;</code>的映像文件系统中<br>可以指定多个<code>&lt;src&gt;</code>资源，但如果它们是文件或目录，则必须相对于正在构建的源目录(构建的上下文)。<br>每个<code>&lt;src&gt;</code>可能包含通配符，匹配将使用Go’s filepath完成。匹配规则。例如</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">ADD</span><span class="hljs-bash"> hom* /mydir/        <span class="hljs-comment"># adds all files starting with "hom"</span></span></span><br><span class="line"><span class="hljs-keyword">ADD</span><span class="hljs-bash"> hom?.txt /mydir/    <span class="hljs-comment"># ? is replaced with any single character, e.g., "home.txt"</span></span></span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">`&lt;dest&gt;`是绝对路径，或相对于<span class="hljs-keyword">WORKDIR</span><span class="hljs-bash">的路径，源文件将复制到目标容器中。</span></span><br></pre></td></tr></table></figure>

<p>ADD test relativeDir/          # adds “test” to <code>WORKDIR</code>/relativeDir/<br>ADD test /absoluteDir/         # adds “test” to /absoluteDir/</p>
<figure class="highlight autohotkey hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">当添加包含特殊字符(如`[<span class="hljs-literal">and</span>]`)的文件或目录时，需要转义那些遵循Golang规则的路径，以防止将它们视为匹配模式。例如，添加一个名为`arr[<span class="hljs-number">0</span>].txt`的文件。  </span><br><span class="line">`ADD arr[[]<span class="hljs-number">0</span>].txt /mydir/    # copy <span class="hljs-literal">a</span> file named <span class="hljs-string">"arr[0].txt"</span> to /mydir/`</span><br><span class="line"></span><br><span class="line">所有新文件和目录都是用UID和GID为<span class="hljs-number">0</span>创建的。</span><br><span class="line">在`&lt;src&gt;`是远程文件URL的情况下，目标的权限将为<span class="hljs-number">600</span>。如果正在检索的远程文件具有HTTP Last-Modified头，则来自该头的时间戳将用于设置目标文件的时间。然而,与添加过程中处理的任何其他文件一样，在确定文件是否更改、缓存是否应该更新时，并不包括mtime。</span><br><span class="line"></span><br><span class="line">COPY</span><br><span class="line"><span class="hljs-symbol">COPY 有两种形式:</span></span><br></pre></td></tr></table></figure>

<p>COPY <src>… <dest><br>COPY [“<src>“,… “<dest>“] (this form is required for paths containing whitespace)</dest></src></dest></src></p>
<figure class="highlight autohotkey hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">每个`&lt;src&gt;`可能包含通配符，匹配将使用Go's filepath完成。匹配规则。例如</span><br></pre></td></tr></table></figure>

<p>COPY hom* /mydir/        # adds all files starting with “hom”<br>COPY hom?.txt /mydir/    # ? is replaced with any single character, e.g., “home.txt”</p>
<figure class="highlight autohotkey hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`&lt;dest&gt;`是绝对路径，或相对于WORKDIR的路径，源文件将复制到目标容器中。</span><br></pre></td></tr></table></figure>

<p>COPY test relativeDir/   # adds “test” to <code>WORKDIR</code>/relativeDir/<br>COPY test /absoluteDir/  # adds “test” to /absoluteDir/</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">ENTRYPOINT</span><span class="hljs-bash"></span></span><br><span class="line"><span class="hljs-bash">ENTRYPOINT 有两种形式:</span></span><br></pre></td></tr></table></figure>

<p>ENTRYPOINT [“executable”, “param1”, “param2”] (exec form, preferred)<br>ENTRYPOINT command param1 param2 (shell form)</p>
<figure class="highlight autohotkey hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">入口点允许您配置容器作为可执行文件运行。</span><br><span class="line">`docker run -i -t --rm -p <span class="hljs-number">80</span>:<span class="hljs-number">80</span> nginx`</span><br><span class="line"></span><br><span class="line">VOLUME</span><br><span class="line">`VOLUME [<span class="hljs-string">"/data"</span>]`</span><br><span class="line">卷指令创建具有指定名称的挂载点，并将其标记为持有来自本机主机或其他容器的外部挂载卷。值可以是个json数组`VOLUME [<span class="hljs-string">"/var/log/"</span>]`,或具有多个参数的纯字符串，例如`VOLUME /var/log`或者`VOLUME /var/log /var/db`</span><br><span class="line">docker run命令使用存在于基本映像中指定位置的任何数据初始化新创建的卷。例如，考虑下面的Dockerfile片段</span><br></pre></td></tr></table></figure>

<p>FROM ubuntu<br>RUN mkdir /myvol<br>RUN echo “hello world” &gt; /myvol/greeting<br>VOLUME /myvol</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="hljs-keyword">USER</span></span><br></pre></td></tr></table></figure>

<p>USER <user>[:<group>] or<br>USER <uid>[:<gid>]</gid></uid></group></user></p>
<figure class="highlight livecodeserver hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">用户指令设置用户名(或UID)和可选的用户组(或GID)，以便在运行镜像时使用，以及在Dockerfile中对其后面的任何运行、CMD和ENTRYPOINT指令进行设置。</span><br><span class="line">警告:当用户没有主组时，映像(或下一个指令)将与根组一起运行。</span><br><span class="line">WORKDIR</span><br><span class="line">`WORKDIR /path/<span class="hljs-built_in">to</span>/workdir`</span><br><span class="line">The WORKDIR instruction sets <span class="hljs-keyword">the</span> working <span class="hljs-built_in">directory</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">any</span> RUN, CMD, ENTRYPOINT, COPY <span class="hljs-keyword">and</span> ADD instructions that follow <span class="hljs-keyword">it</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> Dockerfile. If <span class="hljs-keyword">the</span> WORKDIR doesn’t exist, <span class="hljs-keyword">it</span> will be created even <span class="hljs-keyword">if</span> <span class="hljs-keyword">it</span>’s <span class="hljs-keyword">not</span> used <span class="hljs-keyword">in</span> <span class="hljs-keyword">any</span> subsequent Dockerfile instruction.</span><br><span class="line"></span><br><span class="line">The WORKDIR instruction can be used multiple times <span class="hljs-keyword">in</span> <span class="hljs-keyword">a</span> Dockerfile. If <span class="hljs-keyword">a</span> <span class="hljs-built_in">relative</span> path is provided, <span class="hljs-keyword">it</span> will be <span class="hljs-built_in">relative</span> <span class="hljs-built_in">to</span> <span class="hljs-keyword">the</span> path <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> previous WORKDIR instruction. For example:</span><br></pre></td></tr></table></figure>

<p>WORKDIR /a<br>WORKDIR b<br>WORKDIR c<br>RUN pwd</p>
<figure class="highlight livecodeserver hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The output <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> final pwd <span class="hljs-keyword">command</span> <span class="hljs-title">in</span> <span class="hljs-title">this</span> <span class="hljs-title">Dockerfile</span> <span class="hljs-title">would</span> <span class="hljs-title">be</span> /<span class="hljs-title">a</span>/<span class="hljs-title">b</span>/<span class="hljs-title">c</span>.</span><br><span class="line"></span><br><span class="line">The WORKDIR instruction can <span class="hljs-built_in">resolve</span> environment variables previously <span class="hljs-built_in">set</span> <span class="hljs-keyword">using</span> ENV. You can only use environment variables explicitly <span class="hljs-built_in">set</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> Dockerfile. For example:</span><br></pre></td></tr></table></figure>

<p>ENV DIRPATH /path<br>WORKDIR $DIRPATH/$DIRNAME<br>RUN pwd</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">The output of the final pwd command <span class="hljs-keyword">in</span> this Dockerfile would be /path/<span class="hljs-variable">$DIRNAME</span></span><br><span class="line"></span><br><span class="line">ARG</span><br><span class="line">`ARG &lt;name&gt;[=&lt;default value&gt;]`</span><br><span class="line">The ARG instruction defines a variable that<span class="hljs-built_in"> users </span>can pass at build-time <span class="hljs-keyword">to</span> the builder with the docker build command using the --build-arg &lt;varname&gt;=&lt;value&gt; flag. <span class="hljs-keyword">If</span> a<span class="hljs-built_in"> user </span>specifies a build argument that was <span class="hljs-keyword">not</span> defined <span class="hljs-keyword">in</span> the Dockerfile, the build outputs a warning.</span><br><span class="line"></span><br><span class="line">[<span class="hljs-builtin-name">Warning</span>] One <span class="hljs-keyword">or</span> more build-args [foo] were <span class="hljs-keyword">not</span> consumed.</span><br><span class="line">A Dockerfile may include one <span class="hljs-keyword">or</span> more ARG instructions. <span class="hljs-keyword">For</span> example, the following is a valid Dockerfile:</span><br></pre></td></tr></table></figure>

<p>FROM busybox<br>ARG user1<br>ARG buildno<br>…</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Warning: It is <span class="hljs-keyword">not</span> recommended <span class="hljs-keyword">to</span> use build-time variables <span class="hljs-keyword">for</span> passing secrets like github keys,<span class="hljs-built_in"> user </span>credentials etc. Build-time variable values are visible <span class="hljs-keyword">to</span> any<span class="hljs-built_in"> user </span>of the image with the docker history command.</span><br><span class="line"></span><br><span class="line">Default values</span><br><span class="line">An ARG instruction can optionally include a<span class="hljs-built_in"> default </span>value:</span><br></pre></td></tr></table></figure>

<p>FROM busybox<br>ARG user1=someuser<br>ARG buildno=1<br>…</p>
<figure class="highlight sql hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line">If an ARG instruction has a default value and if there is no value passed at build-time, the builder uses the default.</span><br><span class="line">Scope</span><br><span class="line">An ARG variable definition comes into effect from the line on which it is defined in the Dockerfile not from the argument’s <span class="hljs-keyword">use</span> <span class="hljs-keyword">on</span> the command-line <span class="hljs-keyword">or</span> elsewhere. <span class="hljs-keyword">For</span> example, <span class="hljs-keyword">consider</span> this Dockerfile:</span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> busybox</span><br><span class="line"><span class="hljs-number">2</span> <span class="hljs-keyword">USER</span> $&#123;<span class="hljs-keyword">user</span>:-some_user&#125;</span><br><span class="line"><span class="hljs-number">3</span> ARG <span class="hljs-keyword">user</span></span><br><span class="line"><span class="hljs-number">4</span> <span class="hljs-keyword">USER</span> $<span class="hljs-keyword">user</span></span><br><span class="line">...</span><br><span class="line">A <span class="hljs-keyword">user</span> builds this <span class="hljs-keyword">file</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">calling</span>:</span><br><span class="line"></span><br><span class="line">$ docker <span class="hljs-keyword">build</span> <span class="hljs-comment">--build-arg user=what_user .</span></span><br><span class="line">The <span class="hljs-keyword">USER</span> <span class="hljs-keyword">at</span> line <span class="hljs-number">2</span> evaluates <span class="hljs-keyword">to</span> some_user <span class="hljs-keyword">as</span> the <span class="hljs-keyword">user</span> <span class="hljs-keyword">variable</span> <span class="hljs-keyword">is</span> defined <span class="hljs-keyword">on</span> the subsequent line <span class="hljs-number">3.</span> The <span class="hljs-keyword">USER</span> <span class="hljs-keyword">at</span> line <span class="hljs-number">4</span> evaluates <span class="hljs-keyword">to</span> what_user <span class="hljs-keyword">as</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">is</span> defined <span class="hljs-keyword">and</span> the what_user <span class="hljs-keyword">value</span> was passed <span class="hljs-keyword">on</span> the command line. <span class="hljs-keyword">Prior</span> <span class="hljs-keyword">to</span> its definition <span class="hljs-keyword">by</span> an ARG instruction, <span class="hljs-keyword">any</span> <span class="hljs-keyword">use</span> <span class="hljs-keyword">of</span> a <span class="hljs-keyword">variable</span> results <span class="hljs-keyword">in</span> an <span class="hljs-keyword">empty</span> string.</span><br><span class="line"></span><br><span class="line">An ARG instruction goes <span class="hljs-keyword">out</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">scope</span> <span class="hljs-keyword">at</span> the <span class="hljs-keyword">end</span> <span class="hljs-keyword">of</span> the <span class="hljs-keyword">build</span> stage <span class="hljs-keyword">where</span> it was defined. <span class="hljs-keyword">To</span> <span class="hljs-keyword">use</span> an arg <span class="hljs-keyword">in</span> multiple stages, <span class="hljs-keyword">each</span> stage must <span class="hljs-keyword">include</span> the ARG instruction.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> busybox</span><br><span class="line">ARG <span class="hljs-keyword">SETTINGS</span></span><br><span class="line">RUN ./run/setup $<span class="hljs-keyword">SETTINGS</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> busybox</span><br><span class="line">ARG <span class="hljs-keyword">SETTINGS</span></span><br><span class="line">RUN ./run/other $<span class="hljs-keyword">SETTINGS</span></span><br><span class="line"><span class="hljs-keyword">Using</span> ARG <span class="hljs-keyword">variables</span></span><br><span class="line">You can <span class="hljs-keyword">use</span> an ARG <span class="hljs-keyword">or</span> an ENV instruction <span class="hljs-keyword">to</span> specify <span class="hljs-keyword">variables</span> that <span class="hljs-keyword">are</span> available <span class="hljs-keyword">to</span> the RUN instruction. Environment <span class="hljs-keyword">variables</span> defined <span class="hljs-keyword">using</span> the ENV instruction <span class="hljs-keyword">always</span> override an ARG instruction <span class="hljs-keyword">of</span> the same name. <span class="hljs-keyword">Consider</span> this Dockerfile <span class="hljs-keyword">with</span> an ENV <span class="hljs-keyword">and</span> ARG instruction.</span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-number">2</span> ARG CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">3</span> ENV CONT_IMG_VER v1<span class="hljs-number">.0</span><span class="hljs-number">.0</span></span><br><span class="line"><span class="hljs-number">4</span> RUN echo $CONT_IMG_VER</span><br><span class="line"><span class="hljs-keyword">Then</span>, assume this image <span class="hljs-keyword">is</span> built <span class="hljs-keyword">with</span> this command:</span><br><span class="line"></span><br><span class="line">$ docker <span class="hljs-keyword">build</span> <span class="hljs-comment">--build-arg CONT_IMG_VER=v2.0.1 .</span></span><br><span class="line"><span class="hljs-keyword">In</span> this <span class="hljs-keyword">case</span>, the RUN instruction uses v1<span class="hljs-number">.0</span><span class="hljs-number">.0</span> instead <span class="hljs-keyword">of</span> the ARG setting passed <span class="hljs-keyword">by</span> the <span class="hljs-keyword">user</span>:v2<span class="hljs-number">.0</span><span class="hljs-number">.1</span> This behavior <span class="hljs-keyword">is</span> similar <span class="hljs-keyword">to</span> a shell script <span class="hljs-keyword">where</span> a locally scoped <span class="hljs-keyword">variable</span> overrides the <span class="hljs-keyword">variables</span> passed <span class="hljs-keyword">as</span> arguments <span class="hljs-keyword">or</span> inherited <span class="hljs-keyword">from</span> environment, <span class="hljs-keyword">from</span> its point <span class="hljs-keyword">of</span> definition.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">Using</span> the example above but a different ENV specification you can <span class="hljs-keyword">create</span> more useful interactions <span class="hljs-keyword">between</span> ARG <span class="hljs-keyword">and</span> ENV instructions:</span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-number">2</span> ARG CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">3</span> ENV CONT_IMG_VER $&#123;CONT_IMG_VER:-v1<span class="hljs-number">.0</span><span class="hljs-number">.0</span>&#125;</span><br><span class="line"><span class="hljs-number">4</span> RUN echo $CONT_IMG_VER</span><br><span class="line">Unlike an ARG instruction, ENV <span class="hljs-keyword">values</span> <span class="hljs-keyword">are</span> <span class="hljs-keyword">always</span> persisted <span class="hljs-keyword">in</span> the built image. <span class="hljs-keyword">Consider</span> a docker <span class="hljs-keyword">build</span> <span class="hljs-keyword">without</span> the <span class="hljs-comment">--build-arg flag:</span></span><br><span class="line"></span><br><span class="line">$ docker <span class="hljs-keyword">build</span> .</span><br><span class="line"><span class="hljs-keyword">Using</span> this Dockerfile example, CONT_IMG_VER <span class="hljs-keyword">is</span> still persisted <span class="hljs-keyword">in</span> the image but its <span class="hljs-keyword">value</span> would be v1<span class="hljs-number">.0</span><span class="hljs-number">.0</span> <span class="hljs-keyword">as</span> it <span class="hljs-keyword">is</span> the <span class="hljs-keyword">default</span> <span class="hljs-keyword">set</span> <span class="hljs-keyword">in</span> line <span class="hljs-number">3</span> <span class="hljs-keyword">by</span> the ENV instruction.</span><br><span class="line"></span><br><span class="line">The <span class="hljs-keyword">variable</span> expansion technique <span class="hljs-keyword">in</span> this example allows you <span class="hljs-keyword">to</span> pass arguments <span class="hljs-keyword">from</span> the command line <span class="hljs-keyword">and</span> persist them <span class="hljs-keyword">in</span> the <span class="hljs-keyword">final</span> image <span class="hljs-keyword">by</span> leveraging the ENV instruction. <span class="hljs-keyword">Variable</span> expansion <span class="hljs-keyword">is</span> <span class="hljs-keyword">only</span> supported <span class="hljs-keyword">for</span> a limited <span class="hljs-keyword">set</span> <span class="hljs-keyword">of</span> Dockerfile instructions.</span><br><span class="line"></span><br><span class="line">Predefined ARGs</span><br><span class="line">Docker has a <span class="hljs-keyword">set</span> <span class="hljs-keyword">of</span> predefined ARG <span class="hljs-keyword">variables</span> that you can <span class="hljs-keyword">use</span> <span class="hljs-keyword">without</span> a <span class="hljs-keyword">corresponding</span> ARG instruction <span class="hljs-keyword">in</span> the Dockerfile.</span><br><span class="line"></span><br><span class="line">HTTP_PROXY</span><br><span class="line">http_proxy</span><br><span class="line">HTTPS_PROXY</span><br><span class="line">https_proxy</span><br><span class="line">FTP_PROXY</span><br><span class="line">ftp_proxy</span><br><span class="line">NO_PROXY</span><br><span class="line">no_proxy</span><br><span class="line"><span class="hljs-keyword">To</span> <span class="hljs-keyword">use</span> these, simply pass them <span class="hljs-keyword">on</span> the command line <span class="hljs-keyword">using</span> the flag:</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">--build-arg &lt;varname&gt;=&lt;value&gt;</span></span><br><span class="line"><span class="hljs-keyword">By</span> <span class="hljs-keyword">default</span>, these pre-defined <span class="hljs-keyword">variables</span> <span class="hljs-keyword">are</span> excluded <span class="hljs-keyword">from</span> the <span class="hljs-keyword">output</span> <span class="hljs-keyword">of</span> docker history. <span class="hljs-keyword">Excluding</span> them reduces the risk <span class="hljs-keyword">of</span> accidentally leaking sensitive <span class="hljs-keyword">authentication</span> information <span class="hljs-keyword">in</span> an HTTP_PROXY variable.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">For</span> example, <span class="hljs-keyword">consider</span> building the <span class="hljs-keyword">following</span> Dockerfile <span class="hljs-keyword">using</span> <span class="hljs-comment">--build-arg HTTP_PROXY=http://user:pass@proxy.lon.example.com</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line">RUN echo <span class="hljs-string">"Hello World"</span></span><br><span class="line"><span class="hljs-keyword">In</span> this <span class="hljs-keyword">case</span>, the <span class="hljs-keyword">value</span> <span class="hljs-keyword">of</span> the HTTP_PROXY <span class="hljs-keyword">variable</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> available <span class="hljs-keyword">in</span> the docker history <span class="hljs-keyword">and</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> cached. <span class="hljs-keyword">If</span> you were <span class="hljs-keyword">to</span> <span class="hljs-keyword">change</span> location, <span class="hljs-keyword">and</span> your proxy <span class="hljs-keyword">server</span> <span class="hljs-keyword">changed</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">http</span>://<span class="hljs-keyword">user</span>:pass@proxy.sfo.example.com, a subsequent <span class="hljs-keyword">build</span> does <span class="hljs-keyword">not</span> <span class="hljs-keyword">result</span> <span class="hljs-keyword">in</span> a <span class="hljs-keyword">cache</span> miss.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">If</span> you need <span class="hljs-keyword">to</span> override this behaviour <span class="hljs-keyword">then</span> you may <span class="hljs-keyword">do</span> so <span class="hljs-keyword">by</span> adding an ARG <span class="hljs-keyword">statement</span> <span class="hljs-keyword">in</span> the Dockerfile <span class="hljs-keyword">as</span> <span class="hljs-keyword">follows</span>:</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line">ARG HTTP_PROXY</span><br><span class="line">RUN echo <span class="hljs-string">"Hello World"</span></span><br><span class="line"><span class="hljs-keyword">When</span> building this Dockerfile, the HTTP_PROXY <span class="hljs-keyword">is</span> preserved <span class="hljs-keyword">in</span> the docker history, <span class="hljs-keyword">and</span> changing its <span class="hljs-keyword">value</span> invalidates the <span class="hljs-keyword">build</span> cache.</span><br><span class="line"></span><br><span class="line">Impact <span class="hljs-keyword">on</span> <span class="hljs-keyword">build</span> <span class="hljs-keyword">caching</span></span><br><span class="line">ARG <span class="hljs-keyword">variables</span> <span class="hljs-keyword">are</span> <span class="hljs-keyword">not</span> persisted <span class="hljs-keyword">into</span> the built image <span class="hljs-keyword">as</span> ENV <span class="hljs-keyword">variables</span> are. However, ARG <span class="hljs-keyword">variables</span> <span class="hljs-keyword">do</span> impact the <span class="hljs-keyword">build</span> <span class="hljs-keyword">cache</span> <span class="hljs-keyword">in</span> similar ways. <span class="hljs-keyword">If</span> a Dockerfile defines an ARG <span class="hljs-keyword">variable</span> whose <span class="hljs-keyword">value</span> <span class="hljs-keyword">is</span> different <span class="hljs-keyword">from</span> a previous <span class="hljs-keyword">build</span>, <span class="hljs-keyword">then</span> a “<span class="hljs-keyword">cache</span> miss” occurs upon its <span class="hljs-keyword">first</span> <span class="hljs-keyword">usage</span>, <span class="hljs-keyword">not</span> its definition. <span class="hljs-keyword">In</span> particular, <span class="hljs-keyword">all</span> RUN instructions <span class="hljs-keyword">following</span> an ARG instruction <span class="hljs-keyword">use</span> the ARG <span class="hljs-keyword">variable</span> implicitly (<span class="hljs-keyword">as</span> an environment <span class="hljs-keyword">variable</span>), thus can cause a <span class="hljs-keyword">cache</span> miss. <span class="hljs-keyword">All</span> predefined ARG <span class="hljs-keyword">variables</span> <span class="hljs-keyword">are</span> <span class="hljs-keyword">exempt</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">caching</span> unless there <span class="hljs-keyword">is</span> a matching ARG <span class="hljs-keyword">statement</span> <span class="hljs-keyword">in</span> the Dockerfile.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">For</span> example, <span class="hljs-keyword">consider</span> these two Dockerfile:</span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-number">2</span> ARG CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">3</span> RUN echo $CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-number">2</span> ARG CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">3</span> RUN echo hello</span><br><span class="line"><span class="hljs-keyword">If</span> you specify <span class="hljs-comment">--build-arg CONT_IMG_VER=&lt;value&gt; on the command line, in both cases, the specification on line 2 does not cause a cache miss; line 3 does cause a cache miss.ARG CONT_IMG_VER causes the RUN line to be identified as the same as running CONT_IMG_VER=&lt;value&gt; echo hello, so if the &lt;value&gt; changes, we get a cache miss.</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">Consider</span> another example <span class="hljs-keyword">under</span> the same command line:</span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-number">2</span> ARG CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">3</span> ENV CONT_IMG_VER $CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">4</span> RUN echo $CONT_IMG_VER</span><br><span class="line"><span class="hljs-keyword">In</span> this example, the <span class="hljs-keyword">cache</span> miss occurs <span class="hljs-keyword">on</span> line <span class="hljs-number">3.</span> The miss happens because the <span class="hljs-keyword">variable</span>’s <span class="hljs-keyword">value</span> <span class="hljs-keyword">in</span> the ENV <span class="hljs-keyword">references</span> the ARG <span class="hljs-keyword">variable</span> <span class="hljs-keyword">and</span> that <span class="hljs-keyword">variable</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">changed</span> <span class="hljs-keyword">through</span> the command line. <span class="hljs-keyword">In</span> this example, the ENV command causes the image <span class="hljs-keyword">to</span> <span class="hljs-keyword">include</span> the value.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">If</span> an ENV instruction overrides an ARG instruction <span class="hljs-keyword">of</span> the same <span class="hljs-keyword">name</span>, <span class="hljs-keyword">like</span> this Dockerfile:</span><br><span class="line"></span><br><span class="line"><span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-number">2</span> ARG CONT_IMG_VER</span><br><span class="line"><span class="hljs-number">3</span> ENV CONT_IMG_VER hello</span><br><span class="line"><span class="hljs-number">4</span> RUN echo $CONT_IMG_VER</span><br><span class="line">Line <span class="hljs-number">3</span> does <span class="hljs-keyword">not</span> cause a <span class="hljs-keyword">cache</span> miss because the <span class="hljs-keyword">value</span> <span class="hljs-keyword">of</span> CONT_IMG_VER <span class="hljs-keyword">is</span> a <span class="hljs-keyword">constant</span> (hello). <span class="hljs-keyword">As</span> a <span class="hljs-keyword">result</span>, the environment <span class="hljs-keyword">variables</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">values</span> used <span class="hljs-keyword">on</span> the RUN (line <span class="hljs-number">4</span>) doesn’t <span class="hljs-keyword">change</span> <span class="hljs-keyword">between</span> builds.</span><br><span class="line"></span><br><span class="line">ONBUILD</span><br><span class="line"><span class="hljs-string">`ONBUILD [INSTRUCTION]`</span></span><br><span class="line">The ONBUILD instruction adds <span class="hljs-keyword">to</span> the image a <span class="hljs-keyword">trigger</span> instruction <span class="hljs-keyword">to</span> be executed <span class="hljs-keyword">at</span> a later <span class="hljs-built_in">time</span>, <span class="hljs-keyword">when</span> the image <span class="hljs-keyword">is</span> used <span class="hljs-keyword">as</span> the base <span class="hljs-keyword">for</span> another build. The <span class="hljs-keyword">trigger</span> will be executed <span class="hljs-keyword">in</span> the <span class="hljs-keyword">context</span> <span class="hljs-keyword">of</span> the downstream <span class="hljs-keyword">build</span>, <span class="hljs-keyword">as</span> <span class="hljs-keyword">if</span> it had been inserted immediately <span class="hljs-keyword">after</span> the <span class="hljs-keyword">FROM</span> instruction <span class="hljs-keyword">in</span> the downstream Dockerfile.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">Any</span> <span class="hljs-keyword">build</span> instruction can be registered <span class="hljs-keyword">as</span> a trigger.</span><br><span class="line"></span><br><span class="line">This <span class="hljs-keyword">is</span> useful <span class="hljs-keyword">if</span> you <span class="hljs-keyword">are</span> building an image which will be used <span class="hljs-keyword">as</span> a base <span class="hljs-keyword">to</span> <span class="hljs-keyword">build</span> other images, <span class="hljs-keyword">for</span> example an application <span class="hljs-keyword">build</span> environment <span class="hljs-keyword">or</span> a daemon which may be customized <span class="hljs-keyword">with</span> <span class="hljs-keyword">user</span>-specific configuration.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">For</span> example, <span class="hljs-keyword">if</span> your image <span class="hljs-keyword">is</span> a reusable Python application builder, it will require application <span class="hljs-keyword">source</span> code <span class="hljs-keyword">to</span> be added <span class="hljs-keyword">in</span> a particular <span class="hljs-keyword">directory</span>, <span class="hljs-keyword">and</span> it might require a <span class="hljs-keyword">build</span> script <span class="hljs-keyword">to</span> be called <span class="hljs-keyword">after</span> that. You can’t just <span class="hljs-keyword">call</span> <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">and</span> RUN <span class="hljs-keyword">now</span>, because you don’t yet have <span class="hljs-keyword">access</span> <span class="hljs-keyword">to</span> the application <span class="hljs-keyword">source</span> code, <span class="hljs-keyword">and</span> it will be different <span class="hljs-keyword">for</span> <span class="hljs-keyword">each</span> application build. You could simply provide application developers <span class="hljs-keyword">with</span> a boilerplate Dockerfile <span class="hljs-keyword">to</span> copy-paste <span class="hljs-keyword">into</span> their application, but that <span class="hljs-keyword">is</span> inefficient, <span class="hljs-keyword">error</span>-prone <span class="hljs-keyword">and</span> difficult <span class="hljs-keyword">to</span> <span class="hljs-keyword">update</span> because it mixes <span class="hljs-keyword">with</span> application-specific code.</span><br><span class="line"></span><br><span class="line">The solution <span class="hljs-keyword">is</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">use</span> ONBUILD <span class="hljs-keyword">to</span> <span class="hljs-keyword">register</span> advance instructions <span class="hljs-keyword">to</span> run later, during the <span class="hljs-keyword">next</span> <span class="hljs-keyword">build</span> stage.</span><br><span class="line"></span><br><span class="line">Here’s how it works:</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">When</span> it encounters an ONBUILD instruction, the builder adds a <span class="hljs-keyword">trigger</span> <span class="hljs-keyword">to</span> the metadata <span class="hljs-keyword">of</span> the image being built. The instruction does <span class="hljs-keyword">not</span> otherwise affect the <span class="hljs-keyword">current</span> build.</span><br><span class="line"><span class="hljs-keyword">At</span> the <span class="hljs-keyword">end</span> <span class="hljs-keyword">of</span> the <span class="hljs-keyword">build</span>, a <span class="hljs-keyword">list</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">triggers</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">stored</span> <span class="hljs-keyword">in</span> the image manifest, <span class="hljs-keyword">under</span> the <span class="hljs-keyword">key</span> OnBuild. They can be inspected <span class="hljs-keyword">with</span> the docker inspect command.</span><br><span class="line">Later the image may be used <span class="hljs-keyword">as</span> a base <span class="hljs-keyword">for</span> a <span class="hljs-keyword">new</span> <span class="hljs-keyword">build</span>, <span class="hljs-keyword">using</span> the <span class="hljs-keyword">FROM</span> instruction. <span class="hljs-keyword">As</span> part <span class="hljs-keyword">of</span> processing the <span class="hljs-keyword">FROM</span> instruction, the downstream builder looks <span class="hljs-keyword">for</span> ONBUILD <span class="hljs-keyword">triggers</span>, <span class="hljs-keyword">and</span> executes them <span class="hljs-keyword">in</span> the same <span class="hljs-keyword">order</span> they were registered. <span class="hljs-keyword">If</span> <span class="hljs-keyword">any</span> <span class="hljs-keyword">of</span> the <span class="hljs-keyword">triggers</span> fail, the <span class="hljs-keyword">FROM</span> instruction <span class="hljs-keyword">is</span> aborted which <span class="hljs-keyword">in</span> turn causes the <span class="hljs-keyword">build</span> <span class="hljs-keyword">to</span> fail. <span class="hljs-keyword">If</span> <span class="hljs-keyword">all</span> <span class="hljs-keyword">triggers</span> succeed, the <span class="hljs-keyword">FROM</span> instruction completes <span class="hljs-keyword">and</span> the <span class="hljs-keyword">build</span> continues <span class="hljs-keyword">as</span> usual.</span><br><span class="line"><span class="hljs-keyword">Triggers</span> <span class="hljs-keyword">are</span> cleared <span class="hljs-keyword">from</span> the <span class="hljs-keyword">final</span> image <span class="hljs-keyword">after</span> being executed. <span class="hljs-keyword">In</span> other words they <span class="hljs-keyword">are</span> <span class="hljs-keyword">not</span> inherited <span class="hljs-keyword">by</span> “grand-children” builds.</span><br><span class="line"><span class="hljs-keyword">For</span> example you might <span class="hljs-keyword">add</span> something <span class="hljs-keyword">like</span> this:</span><br><span class="line"></span><br><span class="line">[...]</span><br><span class="line">ONBUILD <span class="hljs-keyword">ADD</span> . /app/src</span><br><span class="line">ONBUILD RUN /usr/<span class="hljs-keyword">local</span>/<span class="hljs-keyword">bin</span>/python-<span class="hljs-keyword">build</span> <span class="hljs-comment">--dir /app/src</span></span><br><span class="line">[...]</span><br><span class="line"><span class="hljs-keyword">Warning</span>: Chaining ONBUILD instructions <span class="hljs-keyword">using</span> ONBUILD ONBUILD isn’t allowed.</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">Warning</span>: The ONBUILD instruction may <span class="hljs-keyword">not</span> <span class="hljs-keyword">trigger</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">or</span> MAINTAINER instructions.</span><br><span class="line"></span><br><span class="line">STOPSIGNAL</span><br><span class="line">STOPSIGNAL signal</span><br><span class="line">The STOPSIGNAL instruction <span class="hljs-keyword">sets</span> the <span class="hljs-keyword">system</span> <span class="hljs-keyword">call</span> signal that will be sent <span class="hljs-keyword">to</span> the <span class="hljs-keyword">container</span> <span class="hljs-keyword">to</span> exit. This signal can be a valid <span class="hljs-keyword">unsigned</span> <span class="hljs-built_in">number</span> that matches a <span class="hljs-keyword">position</span> <span class="hljs-keyword">in</span> the kernel’s syscall <span class="hljs-keyword">table</span>, <span class="hljs-keyword">for</span> <span class="hljs-keyword">instance</span> <span class="hljs-number">9</span>, <span class="hljs-keyword">or</span> a signal <span class="hljs-keyword">name</span> <span class="hljs-keyword">in</span> the <span class="hljs-keyword">format</span> SIGNAME, <span class="hljs-keyword">for</span> <span class="hljs-keyword">instance</span> SIGKILL.</span><br><span class="line"></span><br><span class="line">HEALTHCHECK</span><br><span class="line"></span><br><span class="line">The HEALTHCHECK instruction has two forms:</span><br></pre></td></tr></table></figure>

<p>HEALTHCHECK [OPTIONS] CMD command (check container health by running a command inside the container)<br>HEALTHCHECK NONE (disable any healthcheck inherited from the base image)</p>
<figure class="highlight routeros hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">The HEALTHCHECK instruction tells Docker how <span class="hljs-keyword">to</span> test a container <span class="hljs-keyword">to</span> check that it is still working. This can detect cases such as a web<span class="hljs-built_in"> server </span>that is stuck <span class="hljs-keyword">in</span> an infinite loop <span class="hljs-keyword">and</span> unable <span class="hljs-keyword">to</span> handle new connections, even though the<span class="hljs-built_in"> server </span>process is still running.</span><br><span class="line"></span><br><span class="line">When a container has a healthcheck specified, it has a<span class="hljs-built_in"> health </span>status <span class="hljs-keyword">in</span> addition <span class="hljs-keyword">to</span> its normal status. This status is initially starting. Whenever a<span class="hljs-built_in"> health </span>check passes, it becomes healthy (whatever state it was previously <span class="hljs-keyword">in</span>). After a certain number of consecutive failures, it becomes unhealthy.</span><br><span class="line"></span><br><span class="line">The options that can appear before CMD are:</span><br></pre></td></tr></table></figure>

<p>–interval=DURATION (default: 30s)<br>–timeout=DURATION (default: 30s)<br>–start-period=DURATION (default: 0s)<br>–retries=N (default: 3)</p>
<figure class="highlight smali hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">The health<span class="hljs-built_in"> check </span>will first run interval seconds after the container is started,<span class="hljs-built_in"> and </span>then again interval seconds after each previous<span class="hljs-built_in"> check </span>completes.</span><br><span class="line"></span><br><span class="line">If a single run of the<span class="hljs-built_in"> check </span>takes longer than timeout seconds then the<span class="hljs-built_in"> check </span>is considered to have failed.</span><br><span class="line"></span><br><span class="line">It takes retries consecutive failures of the health<span class="hljs-built_in"> check </span>for the container to be considered unhealthy.</span><br><span class="line"></span><br><span class="line">start period provides initialization time for containers that need time to bootstrap. Probe failure during that period will<span class="hljs-built_in"> not </span>be counted towards the maximum number of retries. However,<span class="hljs-built_in"> if </span>a health<span class="hljs-built_in"> check </span>succeeds during the start period, the container is considered started<span class="hljs-built_in"> and </span>all consecutive failures will be counted towards the maximum number of retries.</span><br><span class="line"></span><br><span class="line">There can only be one HEALTHCHECK instruction in a Dockerfile. If you list more than one then only the last HEALTHCHECK will take effect.</span><br><span class="line"></span><br><span class="line">The command after the CMD keyword can be either a shell command (e.g. HEALTHCHECK CMD /bin/check-running)<span class="hljs-built_in"> or </span>an exec<span class="hljs-built_in"> array </span>(as with other Dockerfile commands; see e.g. ENTRYPOINT for details).</span><br><span class="line"></span><br><span class="line">The command’s exit status indicates the health status of the container. The possible values are:</span><br></pre></td></tr></table></figure>

<p>0: success - the container is healthy and ready for use<br>1: unhealthy - the container is not working correctly<br>2: reserved - do not use this exit code</p>
<figure class="highlight sql hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">For example, to <span class="hljs-keyword">check</span> every five <span class="hljs-keyword">minutes</span> <span class="hljs-keyword">or</span> so that a web-<span class="hljs-keyword">server</span> <span class="hljs-keyword">is</span> able <span class="hljs-keyword">to</span> serve the site’s <span class="hljs-keyword">main</span> page <span class="hljs-keyword">within</span> three <span class="hljs-keyword">seconds</span>:</span><br><span class="line"><span class="hljs-string">`</span></span><br><span class="line"><span class="hljs-string">HEALTHCHECK --interval=5m --timeout=3s \</span></span><br><span class="line"><span class="hljs-string">  CMD curl -f http://localhost/ || exit 1`</span></span><br><span class="line"><span class="hljs-keyword">To</span> <span class="hljs-keyword">help</span> debug failing probes, <span class="hljs-keyword">any</span> <span class="hljs-keyword">output</span> <span class="hljs-built_in">text</span> (UTF<span class="hljs-number">-8</span> encoded) that the command writes <span class="hljs-keyword">on</span> stdout <span class="hljs-keyword">or</span> stderr will be <span class="hljs-keyword">stored</span> <span class="hljs-keyword">in</span> the health <span class="hljs-keyword">status</span> <span class="hljs-keyword">and</span> can be queried <span class="hljs-keyword">with</span> docker inspect. Such <span class="hljs-keyword">output</span> should be kept <span class="hljs-keyword">short</span> (<span class="hljs-keyword">only</span> the <span class="hljs-keyword">first</span> <span class="hljs-number">4096</span> <span class="hljs-keyword">bytes</span> <span class="hljs-keyword">are</span> <span class="hljs-keyword">stored</span> currently).</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">When</span> the health <span class="hljs-keyword">status</span> <span class="hljs-keyword">of</span> a <span class="hljs-keyword">container</span> changes, a health_status <span class="hljs-keyword">event</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">generated</span> <span class="hljs-keyword">with</span> the <span class="hljs-keyword">new</span> status.</span><br><span class="line"></span><br><span class="line">The HEALTHCHECK feature was added <span class="hljs-keyword">in</span> Docker <span class="hljs-number">1.12</span>.</span><br><span class="line">SHELL</span><br><span class="line"><span class="hljs-string">`SHELL ["executable", "parameters"]`</span></span><br><span class="line">The SHELL instruction allows the <span class="hljs-keyword">default</span> shell used <span class="hljs-keyword">for</span> the shell <span class="hljs-keyword">form</span> <span class="hljs-keyword">of</span> commands <span class="hljs-keyword">to</span> be overridden. The <span class="hljs-keyword">default</span> shell <span class="hljs-keyword">on</span> Linux <span class="hljs-keyword">is</span><span class="hljs-string">` ["/bin/sh", "-c"]`</span>, <span class="hljs-keyword">and</span> <span class="hljs-keyword">on</span> Windows <span class="hljs-keyword">is</span> <span class="hljs-string">`["cmd", "/S", "/C"]`</span>. The SHELL instruction must be written <span class="hljs-keyword">in</span> <span class="hljs-keyword">JSON</span> <span class="hljs-keyword">form</span> <span class="hljs-keyword">in</span> a Dockerfile.</span><br><span class="line"></span><br><span class="line">The SHELL instruction <span class="hljs-keyword">is</span> particularly useful <span class="hljs-keyword">on</span> Windows <span class="hljs-keyword">where</span> there <span class="hljs-keyword">are</span> two commonly used <span class="hljs-keyword">and</span> quite different <span class="hljs-keyword">native</span> shells: cmd <span class="hljs-keyword">and</span> powershell, <span class="hljs-keyword">as</span> well <span class="hljs-keyword">as</span> alternate shells available <span class="hljs-keyword">including</span> sh.</span><br><span class="line"></span><br><span class="line">The SHELL instruction can appear multiple times. <span class="hljs-keyword">Each</span> SHELL instruction overrides <span class="hljs-keyword">all</span> previous SHELL instructions, <span class="hljs-keyword">and</span> affects <span class="hljs-keyword">all</span> subsequent instructions. <span class="hljs-keyword">For</span> example:</span><br></pre></td></tr></table></figure>

<p>FROM microsoft/windowsservercore</p>
<h1 id="Executed-as-cmd-S-C-echo-default"><a href="#Executed-as-cmd-S-C-echo-default" class="headerlink" title="Executed as cmd /S /C echo default"></a>Executed as cmd /S /C echo default</h1><p>RUN echo default</p>
<h1 id="Executed-as-cmd-S-C-powershell-command-Write-Host-default"><a href="#Executed-as-cmd-S-C-powershell-command-Write-Host-default" class="headerlink" title="Executed as cmd /S /C powershell -command Write-Host default"></a>Executed as cmd /S /C powershell -command Write-Host default</h1><p>RUN powershell -command Write-Host default</p>
<h1 id="Executed-as-powershell-command-Write-Host-hello"><a href="#Executed-as-powershell-command-Write-Host-hello" class="headerlink" title="Executed as powershell -command Write-Host hello"></a>Executed as powershell -command Write-Host hello</h1><p>SHELL [“powershell”, “-command”]<br>RUN Write-Host hello</p>
<h1 id="Executed-as-cmd-S-C-echo-hello"><a href="#Executed-as-cmd-S-C-echo-hello" class="headerlink" title="Executed as cmd /S /C echo hello"></a>Executed as cmd /S /C echo hello</h1><p>SHELL [“cmd”, “/S””, “/C”]<br>RUN echo hello</p>
<figure class="highlight livecodeserver hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The following instructions can be affected <span class="hljs-keyword">by</span> <span class="hljs-keyword">the</span> SHELL instruction when <span class="hljs-keyword">the</span> <span class="hljs-built_in">shell</span> form <span class="hljs-keyword">of</span> them is used <span class="hljs-keyword">in</span> <span class="hljs-keyword">a</span> Dockerfile: RUN, CMD <span class="hljs-keyword">and</span> ENTRYPOINT.</span><br><span class="line"></span><br><span class="line">The following example is <span class="hljs-keyword">a</span> common pattern found <span class="hljs-keyword">on</span> <span class="hljs-title">Windows</span> <span class="hljs-title">which</span> <span class="hljs-title">can</span> <span class="hljs-title">be</span> <span class="hljs-title">streamlined</span> <span class="hljs-title">by</span> <span class="hljs-title">using</span> <span class="hljs-title">the</span> <span class="hljs-title">SHELL</span> <span class="hljs-title">instruction</span>:</span><br></pre></td></tr></table></figure>

<p>…<br>RUN powershell -command Execute-MyCmdlet -param1 “c:\foo.txt”<br>…</p>
<figure class="highlight livecodeserver hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">The <span class="hljs-keyword">command</span> <span class="hljs-title">invoked</span> <span class="hljs-title">by</span> <span class="hljs-title">docker</span> <span class="hljs-title">will</span> <span class="hljs-title">be</span>:</span><br><span class="line">`</span><br><span class="line">cmd /S /C powershell -<span class="hljs-keyword">command</span> <span class="hljs-title">Execute-MyCmdlet</span> -<span class="hljs-title">param1</span> <span class="hljs-string">"c:\foo.txt"</span>`</span><br><span class="line">This is inefficient <span class="hljs-keyword">for</span> <span class="hljs-literal">two</span> reasons. First, there is <span class="hljs-keyword">an</span> un-necessary cmd.exe <span class="hljs-keyword">command</span> <span class="hljs-title">processor</span> (<span class="hljs-title">aka</span> <span class="hljs-title">shell</span>) <span class="hljs-title">being</span> <span class="hljs-title">invoked</span>. <span class="hljs-title">Second</span>, <span class="hljs-title">each</span> <span class="hljs-title">RUN</span> <span class="hljs-title">instruction</span> <span class="hljs-title">in</span> <span class="hljs-title">the</span> <span class="hljs-title">shell</span> <span class="hljs-title">form</span> <span class="hljs-title">requires</span> <span class="hljs-title">an</span> <span class="hljs-title">extra</span> <span class="hljs-title">powershell</span> -<span class="hljs-title">command</span> <span class="hljs-title">prefixing</span> <span class="hljs-title">the</span> <span class="hljs-title">command</span>.</span><br><span class="line"></span><br><span class="line">To make this more efficient, <span class="hljs-literal">one</span> <span class="hljs-keyword">of</span> <span class="hljs-literal">two</span> mechanisms can be employed. One is <span class="hljs-built_in">to</span> use <span class="hljs-keyword">the</span> JSON form <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> RUN <span class="hljs-keyword">command</span> <span class="hljs-title">such</span> <span class="hljs-title">as</span>:</span><br></pre></td></tr></table></figure>

<p>…<br>RUN [“powershell”, “-command”, “Execute-MyCmdlet”, “-param1 &quot;c:\foo.txt&quot;“]<br>…</p>
<figure class="highlight livecodeserver hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">While <span class="hljs-keyword">the</span> JSON form is unambiguous <span class="hljs-keyword">and</span> does <span class="hljs-keyword">not</span> use <span class="hljs-keyword">the</span> un-necessary cmd.exe, <span class="hljs-keyword">it</span> does <span class="hljs-built_in">require</span> more verbosity through double-quoting <span class="hljs-keyword">and</span> escaping. The alternate mechanism is <span class="hljs-built_in">to</span> use <span class="hljs-keyword">the</span> SHELL instruction <span class="hljs-keyword">and</span> <span class="hljs-keyword">the</span> <span class="hljs-built_in">shell</span> form, making <span class="hljs-keyword">a</span> more natural syntax <span class="hljs-keyword">for</span> Windows users, especially when combined <span class="hljs-keyword">with</span> <span class="hljs-keyword">the</span> escape parser directive:</span><br></pre></td></tr></table></figure>

<h1 id="escape"><a href="#escape" class="headerlink" title="escape=`"></a>escape=`</h1><p>FROM microsoft/nanoserver<br>SHELL [“powershell”,”-command”]<br>RUN New-Item -ItemType Directory C:\Example<br>ADD Execute-MyCmdlet.ps1 c:\example<br>RUN c:\example\Execute-MyCmdlet -sample ‘hello world’</p>
<figure class="highlight actionscript hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Resulting <span class="hljs-keyword">in</span>:</span><br></pre></td></tr></table></figure>

<p>PS E:\docker\build\shell&gt; docker build -t shell .<br>Sending build context to Docker daemon 4.096 kB<br>Step 1/5 : FROM microsoft/nanoserver<br> —&gt; 22738ff49c6d<br>Step 2/5 : SHELL powershell -command<br> —&gt; Running in 6fcdb6855ae2<br> —&gt; 6331462d4300<br>Removing intermediate container 6fcdb6855ae2<br>Step 3/5 : RUN New-Item -ItemType Directory C:\Example<br> —&gt; Running in d0eef8386e97</p>
<pre><code>Directory: C:\</code></pre><p>Mode                LastWriteTime         Length Name</p>
<hr>
<p>d—–       10/28/2016  11:26 AM                Example</p>
<p> —&gt; 3f2fbf1395d9<br>Removing intermediate container d0eef8386e97<br>Step 4/5 : ADD Execute-MyCmdlet.ps1 c:\example<br> —&gt; a955b2621c31<br>Removing intermediate container b825593d39fc<br>Step 5/5 : RUN c:\example\Execute-MyCmdlet ‘hello world’<br> —&gt; Running in be6d8e63fe75<br>hello world<br> —&gt; 8e559e9bf424<br>Removing intermediate container be6d8e63fe75<br>Successfully built 8e559e9bf424<br>PS E:\docker\build\shell&gt;</p>
<figure class="highlight stata hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">The <span class="hljs-keyword">SHELL</span> instruction could also be used to modify the way <span class="hljs-keyword">in</span> <span class="hljs-keyword">which</span> a <span class="hljs-keyword">shell</span> operates. <span class="hljs-keyword">For</span> example, using <span class="hljs-keyword">SHELL</span> cmd /S /C /V:<span class="hljs-keyword">ON</span>|OFF <span class="hljs-keyword">on</span> Windows, delayed environment variable expansion semantics could be modified.</span><br><span class="line"></span><br><span class="line">The <span class="hljs-keyword">SHELL</span> instruction can also be used <span class="hljs-keyword">on</span> Linux should <span class="hljs-keyword">an</span> alternate <span class="hljs-keyword">shell</span> be required such <span class="hljs-keyword">as</span> zsh, csh, tcsh and others.</span><br><span class="line"></span><br><span class="line">The <span class="hljs-keyword">SHELL</span> feature was added <span class="hljs-keyword">in</span> Docker 1.12.</span><br><span class="line"></span><br><span class="line">Dockerfile examples</span><br><span class="line">Below you can see some examples of Dockerfile <span class="hljs-keyword">syntax</span>. <span class="hljs-keyword">If</span> you’re interested <span class="hljs-keyword">in</span> something <span class="hljs-keyword">more</span> realistic, take a look at the <span class="hljs-keyword">list</span> of Dockerization examples.</span><br></pre></td></tr></table></figure>

<h1 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h1><p>#</p>
<h1 id="VERSION-0-0-1"><a href="#VERSION-0-0-1" class="headerlink" title="VERSION               0.0.1"></a>VERSION               0.0.1</h1><p>FROM      ubuntu<br>LABEL Description=”This image is used to start the foobar executable” Vendor=”ACME Products” Version=”1.0”<br>RUN apt-get update &amp;&amp; apt-get install -y inotify-tools nginx apache2 openssh-server</p>
<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"><span class="hljs-comment"># Firefox over VNC</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line"><span class="hljs-comment"># VERSION               0.3</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># Install vnc, xvfb in order to create a 'fake' display and firefox</span></span><br><span class="line"><span class="hljs-keyword">RUN</span><span class="hljs-bash"> apt-get update &amp;&amp; apt-get install -y x11vnc xvfb firefox</span></span><br><span class="line"><span class="hljs-keyword">RUN</span><span class="hljs-bash"> mkdir ~/.vnc</span></span><br><span class="line"><span class="hljs-comment"># Setup a password</span></span><br><span class="line"><span class="hljs-keyword">RUN</span><span class="hljs-bash"> x11vnc -storepasswd 1234 ~/.vnc/passwd</span></span><br><span class="line"><span class="hljs-comment"># Autostart firefox (might not be the best way, but it does the trick)</span></span><br><span class="line"><span class="hljs-keyword">RUN</span><span class="hljs-bash"> bash -c <span class="hljs-string">'echo "firefox" &gt;&gt; /.bashrc'</span></span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">EXPOSE</span> <span class="hljs-number">5900</span></span><br><span class="line"><span class="hljs-keyword">CMD</span><span class="hljs-bash">    [<span class="hljs-string">"x11vnc"</span>, <span class="hljs-string">"-forever"</span>, <span class="hljs-string">"-usepw"</span>, <span class="hljs-string">"-create"</span>]</span></span><br></pre></td></tr></table></figure>

<figure class="highlight dockerfile hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># Multiple images example</span></span><br><span class="line"><span class="hljs-comment">#</span></span><br><span class="line"><span class="hljs-comment"># VERSION               0.1</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-keyword">RUN</span><span class="hljs-bash"> <span class="hljs-built_in">echo</span> foo &gt; bar</span></span><br><span class="line"><span class="hljs-comment"># Will output something like ===&gt; 907ad6c2736f</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">FROM</span> ubuntu</span><br><span class="line"><span class="hljs-keyword">RUN</span><span class="hljs-bash"> <span class="hljs-built_in">echo</span> moo &gt; oink</span></span><br><span class="line"><span class="hljs-comment"># Will output something like ===&gt; 695d7793cbe4</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># You'll now have two images, 907ad6c2736f with /bar, and 695d7793cbe4 with</span></span><br><span class="line"><span class="hljs-comment"># /oink.</span></span><br></pre></td></tr></table></figure>
        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/docker/">docker</a>
                </div>
            </div>
        </div>
        
        
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="menu-label has-text-centered">Like this article? Support the author with</h3>
        <div class="buttons is-centered">
            
                
<a class="button is-info donate">
    <span class="icon is-small">
        <i class="fab fa-alipay"></i>
    </span>
    <span>Alipay</span>
    <div class="qrcode"><img src="https://qr.alipay.com/fkx06199fabfxmwfjcxame4" alt="Alipay"></div>
</a>

                
                
<a class="button is-success donate">
    <span class="icon is-small">
        <i class="fab fa-weixin"></i>
    </span>
    <span>Wechat</span>
    <div class="qrcode"><img src="wxp://f2f0H5yOeRjkTFwOHiWtwCFS0UrLMWuaE_7U" alt="Wechat"></div>
</a>

                
        </div>
    </div>
</div>



<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2019/07/20/onos-源码编译安装/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">onos-buck 源码编译安装</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2019/07/19/CI-CD/">
                <span class="level-item">CI/CD</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>


</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recientes
        </h3>
        
        <article class="media">
            
            <a href="/2020/05/29/@Select注解时使用in/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="文档标题">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-29T15:53:20.000Z">2020-05-29</time></div>
                    <a href="/2020/05/29/@Select注解时使用in/" class="title has-link-black-ter is-size-6 has-text-weight-normal">文档标题</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/JAVAEE/">JAVAEE</a> / <a class="has-link-grey -link" href="/categories/JAVAEE/MYBATIS/">MYBATIS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/29/mysql共享锁和排它锁/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="mysql共享锁和排它锁">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-29T15:35:53.000Z">2020-05-29</time></div>
                    <a href="/2020/05/29/mysql共享锁和排它锁/" class="title has-link-black-ter is-size-6 has-text-weight-normal">mysql共享锁和排它锁</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/JAVAEE/">JAVAEE</a> / <a class="has-link-grey -link" href="/categories/JAVAEE/MYSQL/">MYSQL</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/10/ Git合并/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Git合并特定commits到另一个分支">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-09T18:41:45.000Z">2020-05-09</time></div>
                    <a href="/2020/05/10/ Git合并/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Git合并特定commits到另一个分支</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/GIT/">GIT</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/10/vim常用的操作/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="vim常用的操作">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-09T16:11:06.000Z">2020-05-09</time></div>
                    <a href="/2020/05/10/vim常用的操作/" class="title has-link-black-ter is-size-6 has-text-weight-normal">vim常用的操作</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/VIM/">VIM</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/05/09/ES分页查询最大数/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="ES分页查询最大数">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-09T11:30:31.000Z">2020-05-09</time></div>
                    <a href="/2020/05/09/ES分页查询最大数/" class="title has-link-black-ter is-size-6 has-text-weight-normal">ES分页查询最大数</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/ES/">ES</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/avatar.png" alt="Joe">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Joe
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Learning
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Your location</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Entradas
                    </p>
                    <p class="title has-text-weight-normal">
                        220
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categorias
                    </p>
                    <p class="title has-text-weight-normal">
                        15
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Etiquetas
                    </p>
                    <p class="title has-text-weight-normal">
                        100
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/ppoffice" target="_blank">
                SEGUIR</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/joeithub">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
        
            
        
            
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categorias
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/ES/">
            <span class="level-start">
                <span class="level-item">ES</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/GIT/">
            <span class="level-start">
                <span class="level-item">GIT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/IT/">
            <span class="level-start">
                <span class="level-item">IT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">194</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/">
            <span class="level-start">
                <span class="level-item">JAVAEE</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/JAVAEE/DESIGN-PATTERNS/">
            <span class="level-start">
                <span class="level-item">DESIGN PATTERNS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYBATIS/">
            <span class="level-start">
                <span class="level-item">MYBATIS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYSQL/">
            <span class="level-start">
                <span class="level-item">MYSQL</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/">
            <span class="level-start">
                <span class="level-item">SPRINGBOOT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/SECURITY/">
            <span class="level-start">
                <span class="level-item">SECURITY</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SYSTEM/">
            <span class="level-start">
                <span class="level-item">SYSTEM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/VIM/">
            <span class="level-start">
                <span class="level-item">VIM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/WORK/">
            <span class="level-start">
                <span class="level-item">WORK</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/office/">
            <span class="level-start">
                <span class="level-item">office</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/分类1/">
            <span class="level-start">
                <span class="level-item">分类1</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/电商/">
            <span class="level-start">
                <span class="level-item">电商</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Nube de etiquetas
        </h3>
        <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/CI-CD/" style="font-size: 10px;">CI/CD</a> <a href="/tags/ELASTICSEARCH/" style="font-size: 10px;">ELASTICSEARCH</a> <a href="/tags/EXCEL/" style="font-size: 10px;">EXCEL</a> <a href="/tags/Eureka/" style="font-size: 10.91px;">Eureka</a> <a href="/tags/GO/" style="font-size: 10px;">GO</a> <a href="/tags/IDEA/" style="font-size: 10.91px;">IDEA</a> <a href="/tags/IT/" style="font-size: 14.55px;">IT</a> <a href="/tags/JAVAEE/" style="font-size: 20px;">JAVAEE</a> <a href="/tags/JAVASCRIPT/" style="font-size: 11.82px;">JAVASCRIPT</a> <a href="/tags/JAVASE/" style="font-size: 10.91px;">JAVASE</a> <a href="/tags/LINUX/" style="font-size: 10px;">LINUX</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/MAC/" style="font-size: 10px;">MAC</a> <a href="/tags/MQ/" style="font-size: 11.82px;">MQ</a> <a href="/tags/ONOS/" style="font-size: 15.45px;">ONOS</a> <a href="/tags/OSGI/" style="font-size: 14.55px;">OSGI</a> <a href="/tags/OSI/" style="font-size: 10px;">OSI</a> <a href="/tags/PROTOCAL/" style="font-size: 10px;">PROTOCAL</a> <a href="/tags/PYTHON/" style="font-size: 10.91px;">PYTHON</a> <a href="/tags/Quartz/" style="font-size: 10px;">Quartz</a> <a href="/tags/RPM/" style="font-size: 10px;">RPM</a> <a href="/tags/Ribbon/" style="font-size: 10px;">Ribbon</a> <a href="/tags/SECURITY/" style="font-size: 10px;">SECURITY</a> <a href="/tags/SPRING-BOOT/" style="font-size: 10px;">SPRING-BOOT</a> <a href="/tags/SQL/" style="font-size: 12.73px;">SQL</a> <a href="/tags/SQLAlert/" style="font-size: 18.18px;">SQLAlert</a> <a href="/tags/SSO/" style="font-size: 10px;">SSO</a> <a href="/tags/StringRedisTemplate/" style="font-size: 10px;">StringRedisTemplate</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/TK-MYBATIS/" style="font-size: 10px;">TK.MYBATIS</a> <a href="/tags/UDP/" style="font-size: 10px;">UDP</a> <a href="/tags/annotation/" style="font-size: 15.45px;">annotation</a> <a href="/tags/bazel/" style="font-size: 10px;">bazel</a> <a href="/tags/beanutils/" style="font-size: 10px;">beanutils</a> <a href="/tags/centos/" style="font-size: 10px;">centos</a> <a href="/tags/classloader/" style="font-size: 10px;">classloader</a> <a href="/tags/computer/" style="font-size: 10px;">computer</a> <a href="/tags/cron/" style="font-size: 10px;">cron</a> <a href="/tags/debug/" style="font-size: 10px;">debug</a> <a href="/tags/docker/" style="font-size: 12.73px;">docker</a> <a href="/tags/druid/" style="font-size: 10px;">druid</a> <a href="/tags/elasticsearch/" style="font-size: 13.64px;">elasticsearch</a> <a href="/tags/enlink/" style="font-size: 10.91px;">enlink</a> <a href="/tags/fastjson/" style="font-size: 10px;">fastjson</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/gitlab/" style="font-size: 10px;">gitlab</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/hexo/" style="font-size: 12.73px;">hexo</a> <a href="/tags/idea/" style="font-size: 10.91px;">idea</a> <a href="/tags/interceptor/" style="font-size: 11.82px;">interceptor</a> <a href="/tags/jetty/" style="font-size: 10px;">jetty</a> <a href="/tags/jpa/" style="font-size: 10.91px;">jpa</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/karaf/" style="font-size: 11.82px;">karaf</a> <a href="/tags/keepalived/" style="font-size: 10px;">keepalived</a> <a href="/tags/linux-shell/" style="font-size: 15.45px;">linux-shell</a> <a href="/tags/listener/" style="font-size: 10px;">listener</a> <a href="/tags/loadbalanced/" style="font-size: 10px;">loadbalanced</a> <a href="/tags/logback/" style="font-size: 10px;">logback</a> <a href="/tags/login/" style="font-size: 10.91px;">login</a> <a href="/tags/lombok/" style="font-size: 11.82px;">lombok</a> <a href="/tags/mac/" style="font-size: 15.45px;">mac</a> <a href="/tags/markdown/" style="font-size: 11.82px;">markdown</a> <a href="/tags/mybatis/" style="font-size: 17.27px;">mybatis</a> <a href="/tags/mycat/" style="font-size: 10.91px;">mycat</a> <a href="/tags/mysql/" style="font-size: 16.36px;">mysql</a> <a href="/tags/network/" style="font-size: 12.73px;">network</a> <a href="/tags/oauth2/" style="font-size: 10px;">oauth2</a> <a href="/tags/pagehelper/" style="font-size: 10px;">pagehelper</a> <a href="/tags/postman/" style="font-size: 10px;">postman</a> <a href="/tags/python/" style="font-size: 11.82px;">python</a> <a href="/tags/rabbitMq/" style="font-size: 11.82px;">rabbitMq</a> <a href="/tags/redis/" style="font-size: 11.82px;">redis</a> <a href="/tags/redisTemplate/" style="font-size: 10px;">redisTemplate</a> <a href="/tags/reflection/" style="font-size: 11.82px;">reflection</a> <a href="/tags/registry-center/" style="font-size: 10px;">registry center</a> <a href="/tags/restTemplate/" style="font-size: 10px;">restTemplate</a> <a href="/tags/ribbon/" style="font-size: 10px;">ribbon</a> <a href="/tags/serialVersionUID/" style="font-size: 10px;">serialVersionUID</a> <a href="/tags/servlet/" style="font-size: 10.91px;">servlet</a> <a href="/tags/session/" style="font-size: 10.91px;">session</a> <a href="/tags/spring/" style="font-size: 15.45px;">spring</a> <a href="/tags/spring-task/" style="font-size: 12.73px;">spring task</a> <a href="/tags/springboot/" style="font-size: 19.09px;">springboot</a> <a href="/tags/swagger/" style="font-size: 10px;">swagger</a> <a href="/tags/webClient/" style="font-size: 10px;">webClient</a> <a href="/tags/yaml/" style="font-size: 10.91px;">yaml</a> <a href="/tags/事物/" style="font-size: 10px;">事物</a> <a href="/tags/全局异常/" style="font-size: 10px;">全局异常</a> <a href="/tags/分布式/" style="font-size: 10px;">分布式</a> <a href="/tags/抖音/" style="font-size: 10px;">抖音</a> <a href="/tags/文件服务器/" style="font-size: 10.91px;">文件服务器</a> <a href="/tags/日志/" style="font-size: 10px;">日志</a> <a href="/tags/时间转化/" style="font-size: 10px;">时间转化</a> <a href="/tags/标签1/" style="font-size: 10px;">标签1</a> <a href="/tags/消息队列/" style="font-size: 10px;">消息队列</a> <a href="/tags/淘宝/" style="font-size: 10px;">淘宝</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a> <a href="/tags/高可用/" style="font-size: 10px;">高可用</a>
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archivos
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/05/">
                <span class="level-start">
                    <span class="level-item">五月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">四月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">三月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">14</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">十月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">28</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">九月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">40</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">八月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">13</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">七月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">66</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/1970/09/">
                <span class="level-start">
                    <span class="level-item">九月 1970</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Etiquetas
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AOP/">
                        <span class="tag">AOP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CI-CD/">
                        <span class="tag">CI/CD</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ELASTICSEARCH/">
                        <span class="tag">ELASTICSEARCH</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/EXCEL/">
                        <span class="tag">EXCEL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Eureka/">
                        <span class="tag">Eureka</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GO/">
                        <span class="tag">GO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDEA/">
                        <span class="tag">IDEA</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IT/">
                        <span class="tag">IT</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVAEE/">
                        <span class="tag">JAVAEE</span>
                        <span class="tag is-grey">130</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASCRIPT/">
                        <span class="tag">JAVASCRIPT</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASE/">
                        <span class="tag">JAVASE</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LINUX/">
                        <span class="tag">LINUX</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MAC/">
                        <span class="tag">MAC</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MQ/">
                        <span class="tag">MQ</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ONOS/">
                        <span class="tag">ONOS</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSGI/">
                        <span class="tag">OSGI</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSI/">
                        <span class="tag">OSI</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PROTOCAL/">
                        <span class="tag">PROTOCAL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PYTHON/">
                        <span class="tag">PYTHON</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Quartz/">
                        <span class="tag">Quartz</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RPM/">
                        <span class="tag">RPM</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Ribbon/">
                        <span class="tag">Ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SECURITY/">
                        <span class="tag">SECURITY</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SPRING-BOOT/">
                        <span class="tag">SPRING-BOOT</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQL/">
                        <span class="tag">SQL</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQLAlert/">
                        <span class="tag">SQLAlert</span>
                        <span class="tag is-grey">13</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SSO/">
                        <span class="tag">SSO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/StringRedisTemplate/">
                        <span class="tag">StringRedisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TCP/">
                        <span class="tag">TCP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TK-MYBATIS/">
                        <span class="tag">TK.MYBATIS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UDP/">
                        <span class="tag">UDP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/annotation/">
                        <span class="tag">annotation</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/bazel/">
                        <span class="tag">bazel</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/beanutils/">
                        <span class="tag">beanutils</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/centos/">
                        <span class="tag">centos</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/classloader/">
                        <span class="tag">classloader</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/computer/">
                        <span class="tag">computer</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/cron/">
                        <span class="tag">cron</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/debug/">
                        <span class="tag">debug</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/docker/">
                        <span class="tag">docker</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/druid/">
                        <span class="tag">druid</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/elasticsearch/">
                        <span class="tag">elasticsearch</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/enlink/">
                        <span class="tag">enlink</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/fastjson/">
                        <span class="tag">fastjson</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/git/">
                        <span class="tag">git</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/gitlab/">
                        <span class="tag">gitlab</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/go/">
                        <span class="tag">go</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/hexo/">
                        <span class="tag">hexo</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/idea/">
                        <span class="tag">idea</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/interceptor/">
                        <span class="tag">interceptor</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jetty/">
                        <span class="tag">jetty</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jpa/">
                        <span class="tag">jpa</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/json/">
                        <span class="tag">json</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/karaf/">
                        <span class="tag">karaf</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/keepalived/">
                        <span class="tag">keepalived</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/linux-shell/">
                        <span class="tag">linux-shell</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/listener/">
                        <span class="tag">listener</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/loadbalanced/">
                        <span class="tag">loadbalanced</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/logback/">
                        <span class="tag">logback</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/login/">
                        <span class="tag">login</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/lombok/">
                        <span class="tag">lombok</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mac/">
                        <span class="tag">mac</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/markdown/">
                        <span class="tag">markdown</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mybatis/">
                        <span class="tag">mybatis</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mycat/">
                        <span class="tag">mycat</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mysql/">
                        <span class="tag">mysql</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/network/">
                        <span class="tag">network</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/oauth2/">
                        <span class="tag">oauth2</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pagehelper/">
                        <span class="tag">pagehelper</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/postman/">
                        <span class="tag">postman</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/rabbitMq/">
                        <span class="tag">rabbitMq</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redis/">
                        <span class="tag">redis</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redisTemplate/">
                        <span class="tag">redisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/reflection/">
                        <span class="tag">reflection</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/registry-center/">
                        <span class="tag">registry center</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/restTemplate/">
                        <span class="tag">restTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ribbon/">
                        <span class="tag">ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/serialVersionUID/">
                        <span class="tag">serialVersionUID</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/servlet/">
                        <span class="tag">servlet</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/session/">
                        <span class="tag">session</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring/">
                        <span class="tag">spring</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring-task/">
                        <span class="tag">spring task</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/springboot/">
                        <span class="tag">springboot</span>
                        <span class="tag is-grey">43</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/swagger/">
                        <span class="tag">swagger</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/webClient/">
                        <span class="tag">webClient</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/yaml/">
                        <span class="tag">yaml</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/事物/">
                        <span class="tag">事物</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/全局异常/">
                        <span class="tag">全局异常</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/分布式/">
                        <span class="tag">分布式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/抖音/">
                        <span class="tag">抖音</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/文件服务器/">
                        <span class="tag">文件服务器</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/日志/">
                        <span class="tag">日志</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/时间转化/">
                        <span class="tag">时间转化</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/标签1/">
                        <span class="tag">标签1</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/消息队列/">
                        <span class="tag">消息队列</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/淘宝/">
                        <span class="tag">淘宝</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/设计模式/">
                        <span class="tag">设计模式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/高可用/">
                        <span class="tag">高可用</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/avatar.png" alt="Joe">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Joe
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Learning
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Your location</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Entradas
                    </p>
                    <p class="title has-text-weight-normal">
                        220
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categorias
                    </p>
                    <p class="title has-text-weight-normal">
                        15
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Etiquetas
                    </p>
                    <p class="title has-text-weight-normal">
                        100
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/ppoffice" target="_blank">
                SEGUIR</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Github" href="https://github.com/joeithub">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categorias
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/ES/">
            <span class="level-start">
                <span class="level-item">ES</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/GIT/">
            <span class="level-start">
                <span class="level-item">GIT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/IT/">
            <span class="level-start">
                <span class="level-item">IT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">194</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/">
            <span class="level-start">
                <span class="level-item">JAVAEE</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/JAVAEE/DESIGN-PATTERNS/">
            <span class="level-start">
                <span class="level-item">DESIGN PATTERNS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYBATIS/">
            <span class="level-start">
                <span class="level-item">MYBATIS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/JAVAEE/MYSQL/">
            <span class="level-start">
                <span class="level-item">MYSQL</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/">
            <span class="level-start">
                <span class="level-item">SPRINGBOOT</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/SPRINGBOOT/SECURITY/">
            <span class="level-start">
                <span class="level-item">SECURITY</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/SYSTEM/">
            <span class="level-start">
                <span class="level-item">SYSTEM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/VIM/">
            <span class="level-start">
                <span class="level-item">VIM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/WORK/">
            <span class="level-start">
                <span class="level-item">WORK</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/office/">
            <span class="level-start">
                <span class="level-item">office</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/分类1/">
            <span class="level-start">
                <span class="level-item">分类1</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/电商/">
            <span class="level-start">
                <span class="level-item">电商</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Nube de etiquetas
        </h3>
        <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/CI-CD/" style="font-size: 10px;">CI/CD</a> <a href="/tags/ELASTICSEARCH/" style="font-size: 10px;">ELASTICSEARCH</a> <a href="/tags/EXCEL/" style="font-size: 10px;">EXCEL</a> <a href="/tags/Eureka/" style="font-size: 10.91px;">Eureka</a> <a href="/tags/GO/" style="font-size: 10px;">GO</a> <a href="/tags/IDEA/" style="font-size: 10.91px;">IDEA</a> <a href="/tags/IT/" style="font-size: 14.55px;">IT</a> <a href="/tags/JAVAEE/" style="font-size: 20px;">JAVAEE</a> <a href="/tags/JAVASCRIPT/" style="font-size: 11.82px;">JAVASCRIPT</a> <a href="/tags/JAVASE/" style="font-size: 10.91px;">JAVASE</a> <a href="/tags/LINUX/" style="font-size: 10px;">LINUX</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/MAC/" style="font-size: 10px;">MAC</a> <a href="/tags/MQ/" style="font-size: 11.82px;">MQ</a> <a href="/tags/ONOS/" style="font-size: 15.45px;">ONOS</a> <a href="/tags/OSGI/" style="font-size: 14.55px;">OSGI</a> <a href="/tags/OSI/" style="font-size: 10px;">OSI</a> <a href="/tags/PROTOCAL/" style="font-size: 10px;">PROTOCAL</a> <a href="/tags/PYTHON/" style="font-size: 10.91px;">PYTHON</a> <a href="/tags/Quartz/" style="font-size: 10px;">Quartz</a> <a href="/tags/RPM/" style="font-size: 10px;">RPM</a> <a href="/tags/Ribbon/" style="font-size: 10px;">Ribbon</a> <a href="/tags/SECURITY/" style="font-size: 10px;">SECURITY</a> <a href="/tags/SPRING-BOOT/" style="font-size: 10px;">SPRING-BOOT</a> <a href="/tags/SQL/" style="font-size: 12.73px;">SQL</a> <a href="/tags/SQLAlert/" style="font-size: 18.18px;">SQLAlert</a> <a href="/tags/SSO/" style="font-size: 10px;">SSO</a> <a href="/tags/StringRedisTemplate/" style="font-size: 10px;">StringRedisTemplate</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/TK-MYBATIS/" style="font-size: 10px;">TK.MYBATIS</a> <a href="/tags/UDP/" style="font-size: 10px;">UDP</a> <a href="/tags/annotation/" style="font-size: 15.45px;">annotation</a> <a href="/tags/bazel/" style="font-size: 10px;">bazel</a> <a href="/tags/beanutils/" style="font-size: 10px;">beanutils</a> <a href="/tags/centos/" style="font-size: 10px;">centos</a> <a href="/tags/classloader/" style="font-size: 10px;">classloader</a> <a href="/tags/computer/" style="font-size: 10px;">computer</a> <a href="/tags/cron/" style="font-size: 10px;">cron</a> <a href="/tags/debug/" style="font-size: 10px;">debug</a> <a href="/tags/docker/" style="font-size: 12.73px;">docker</a> <a href="/tags/druid/" style="font-size: 10px;">druid</a> <a href="/tags/elasticsearch/" style="font-size: 13.64px;">elasticsearch</a> <a href="/tags/enlink/" style="font-size: 10.91px;">enlink</a> <a href="/tags/fastjson/" style="font-size: 10px;">fastjson</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/gitlab/" style="font-size: 10px;">gitlab</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/hexo/" style="font-size: 12.73px;">hexo</a> <a href="/tags/idea/" style="font-size: 10.91px;">idea</a> <a href="/tags/interceptor/" style="font-size: 11.82px;">interceptor</a> <a href="/tags/jetty/" style="font-size: 10px;">jetty</a> <a href="/tags/jpa/" style="font-size: 10.91px;">jpa</a> <a href="/tags/json/" style="font-size: 10px;">json</a> <a href="/tags/karaf/" style="font-size: 11.82px;">karaf</a> <a href="/tags/keepalived/" style="font-size: 10px;">keepalived</a> <a href="/tags/linux-shell/" style="font-size: 15.45px;">linux-shell</a> <a href="/tags/listener/" style="font-size: 10px;">listener</a> <a href="/tags/loadbalanced/" style="font-size: 10px;">loadbalanced</a> <a href="/tags/logback/" style="font-size: 10px;">logback</a> <a href="/tags/login/" style="font-size: 10.91px;">login</a> <a href="/tags/lombok/" style="font-size: 11.82px;">lombok</a> <a href="/tags/mac/" style="font-size: 15.45px;">mac</a> <a href="/tags/markdown/" style="font-size: 11.82px;">markdown</a> <a href="/tags/mybatis/" style="font-size: 17.27px;">mybatis</a> <a href="/tags/mycat/" style="font-size: 10.91px;">mycat</a> <a href="/tags/mysql/" style="font-size: 16.36px;">mysql</a> <a href="/tags/network/" style="font-size: 12.73px;">network</a> <a href="/tags/oauth2/" style="font-size: 10px;">oauth2</a> <a href="/tags/pagehelper/" style="font-size: 10px;">pagehelper</a> <a href="/tags/postman/" style="font-size: 10px;">postman</a> <a href="/tags/python/" style="font-size: 11.82px;">python</a> <a href="/tags/rabbitMq/" style="font-size: 11.82px;">rabbitMq</a> <a href="/tags/redis/" style="font-size: 11.82px;">redis</a> <a href="/tags/redisTemplate/" style="font-size: 10px;">redisTemplate</a> <a href="/tags/reflection/" style="font-size: 11.82px;">reflection</a> <a href="/tags/registry-center/" style="font-size: 10px;">registry center</a> <a href="/tags/restTemplate/" style="font-size: 10px;">restTemplate</a> <a href="/tags/ribbon/" style="font-size: 10px;">ribbon</a> <a href="/tags/serialVersionUID/" style="font-size: 10px;">serialVersionUID</a> <a href="/tags/servlet/" style="font-size: 10.91px;">servlet</a> <a href="/tags/session/" style="font-size: 10.91px;">session</a> <a href="/tags/spring/" style="font-size: 15.45px;">spring</a> <a href="/tags/spring-task/" style="font-size: 12.73px;">spring task</a> <a href="/tags/springboot/" style="font-size: 19.09px;">springboot</a> <a href="/tags/swagger/" style="font-size: 10px;">swagger</a> <a href="/tags/webClient/" style="font-size: 10px;">webClient</a> <a href="/tags/yaml/" style="font-size: 10.91px;">yaml</a> <a href="/tags/事物/" style="font-size: 10px;">事物</a> <a href="/tags/全局异常/" style="font-size: 10px;">全局异常</a> <a href="/tags/分布式/" style="font-size: 10px;">分布式</a> <a href="/tags/抖音/" style="font-size: 10px;">抖音</a> <a href="/tags/文件服务器/" style="font-size: 10.91px;">文件服务器</a> <a href="/tags/日志/" style="font-size: 10px;">日志</a> <a href="/tags/时间转化/" style="font-size: 10px;">时间转化</a> <a href="/tags/标签1/" style="font-size: 10px;">标签1</a> <a href="/tags/消息队列/" style="font-size: 10px;">消息队列</a> <a href="/tags/淘宝/" style="font-size: 10px;">淘宝</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a> <a href="/tags/高可用/" style="font-size: 10px;">高可用</a>
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archivos
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/05/">
                <span class="level-start">
                    <span class="level-item">五月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">四月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">三月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">二月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">一月 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">14</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">十月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">28</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">九月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">40</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">八月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">13</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">七月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">66</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/1970/09/">
                <span class="level-start">
                    <span class="level-item">九月 1970</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Etiquetas
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/AOP/">
                        <span class="tag">AOP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CI-CD/">
                        <span class="tag">CI/CD</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ELASTICSEARCH/">
                        <span class="tag">ELASTICSEARCH</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/EXCEL/">
                        <span class="tag">EXCEL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Eureka/">
                        <span class="tag">Eureka</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/GO/">
                        <span class="tag">GO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDEA/">
                        <span class="tag">IDEA</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IT/">
                        <span class="tag">IT</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVAEE/">
                        <span class="tag">JAVAEE</span>
                        <span class="tag is-grey">130</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASCRIPT/">
                        <span class="tag">JAVASCRIPT</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JAVASE/">
                        <span class="tag">JAVASE</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LINUX/">
                        <span class="tag">LINUX</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MAC/">
                        <span class="tag">MAC</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MQ/">
                        <span class="tag">MQ</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ONOS/">
                        <span class="tag">ONOS</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSGI/">
                        <span class="tag">OSGI</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/OSI/">
                        <span class="tag">OSI</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PROTOCAL/">
                        <span class="tag">PROTOCAL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PYTHON/">
                        <span class="tag">PYTHON</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Quartz/">
                        <span class="tag">Quartz</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RPM/">
                        <span class="tag">RPM</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Ribbon/">
                        <span class="tag">Ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SECURITY/">
                        <span class="tag">SECURITY</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SPRING-BOOT/">
                        <span class="tag">SPRING-BOOT</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQL/">
                        <span class="tag">SQL</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SQLAlert/">
                        <span class="tag">SQLAlert</span>
                        <span class="tag is-grey">13</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/SSO/">
                        <span class="tag">SSO</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/StringRedisTemplate/">
                        <span class="tag">StringRedisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TCP/">
                        <span class="tag">TCP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TK-MYBATIS/">
                        <span class="tag">TK.MYBATIS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/UDP/">
                        <span class="tag">UDP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/annotation/">
                        <span class="tag">annotation</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/bazel/">
                        <span class="tag">bazel</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/beanutils/">
                        <span class="tag">beanutils</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/centos/">
                        <span class="tag">centos</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/classloader/">
                        <span class="tag">classloader</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/computer/">
                        <span class="tag">computer</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/cron/">
                        <span class="tag">cron</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/debug/">
                        <span class="tag">debug</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/docker/">
                        <span class="tag">docker</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/druid/">
                        <span class="tag">druid</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/elasticsearch/">
                        <span class="tag">elasticsearch</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/enlink/">
                        <span class="tag">enlink</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/fastjson/">
                        <span class="tag">fastjson</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/git/">
                        <span class="tag">git</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/gitlab/">
                        <span class="tag">gitlab</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/go/">
                        <span class="tag">go</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/hexo/">
                        <span class="tag">hexo</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/idea/">
                        <span class="tag">idea</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/interceptor/">
                        <span class="tag">interceptor</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jetty/">
                        <span class="tag">jetty</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jpa/">
                        <span class="tag">jpa</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/json/">
                        <span class="tag">json</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/karaf/">
                        <span class="tag">karaf</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/keepalived/">
                        <span class="tag">keepalived</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/linux-shell/">
                        <span class="tag">linux-shell</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/listener/">
                        <span class="tag">listener</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/loadbalanced/">
                        <span class="tag">loadbalanced</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/logback/">
                        <span class="tag">logback</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/login/">
                        <span class="tag">login</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/lombok/">
                        <span class="tag">lombok</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mac/">
                        <span class="tag">mac</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/markdown/">
                        <span class="tag">markdown</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mybatis/">
                        <span class="tag">mybatis</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mycat/">
                        <span class="tag">mycat</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/mysql/">
                        <span class="tag">mysql</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/network/">
                        <span class="tag">network</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/oauth2/">
                        <span class="tag">oauth2</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pagehelper/">
                        <span class="tag">pagehelper</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/postman/">
                        <span class="tag">postman</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/rabbitMq/">
                        <span class="tag">rabbitMq</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redis/">
                        <span class="tag">redis</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/redisTemplate/">
                        <span class="tag">redisTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/reflection/">
                        <span class="tag">reflection</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/registry-center/">
                        <span class="tag">registry center</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/restTemplate/">
                        <span class="tag">restTemplate</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ribbon/">
                        <span class="tag">ribbon</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/serialVersionUID/">
                        <span class="tag">serialVersionUID</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/servlet/">
                        <span class="tag">servlet</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/session/">
                        <span class="tag">session</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring/">
                        <span class="tag">spring</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/spring-task/">
                        <span class="tag">spring task</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/springboot/">
                        <span class="tag">springboot</span>
                        <span class="tag is-grey">43</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/swagger/">
                        <span class="tag">swagger</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/webClient/">
                        <span class="tag">webClient</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/yaml/">
                        <span class="tag">yaml</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/事物/">
                        <span class="tag">事物</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/全局异常/">
                        <span class="tag">全局异常</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/分布式/">
                        <span class="tag">分布式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/抖音/">
                        <span class="tag">抖音</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/文件服务器/">
                        <span class="tag">文件服务器</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/日志/">
                        <span class="tag">日志</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/时间转化/">
                        <span class="tag">时间转化</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/标签1/">
                        <span class="tag">标签1</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/消息队列/">
                        <span class="tag">消息队列</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/淘宝/">
                        <span class="tag">淘宝</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/设计模式/">
                        <span class="tag">设计模式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/高可用/">
                        <span class="tag">高可用</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="dockerfile command" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 Joe Tong&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh_CN");</script>

<script>
var IcarusThemeSettings = {
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>



    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Entradas',
                PAGES: 'Pages',
                CATEGORIES: 'Categorias',
                TAGS: 'Etiquetas',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>